/*
LeetCode 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„
Difficulty: Medium
Link: https://leetcode.cn/problems/group-anagrams/

é¢˜ç›®æè¿°ï¼š
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚

å­—æ¯å¼‚ä½è¯æ˜¯é€šè¿‡é‡æ–°æ’åˆ—ä¸åŒå•è¯æˆ–çŸ­è¯­çš„å­—æ¯è€Œå½¢æˆçš„å•è¯æˆ–çŸ­è¯­ï¼Œé€šå¸¸åªä½¿ç”¨æ‰€æœ‰åŸå­—æ¯æ°å¥½ä¸€æ¬¡ã€‚

ç¤ºä¾‹ 1:
è¾“å…¥: strs = ["eat","tea","tan","ate","nat","bat"]
è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]

ç¤ºä¾‹ 2:
è¾“å…¥: strs = [""]
è¾“å‡º: [[""]]

ç¤ºä¾‹ 3:
è¾“å…¥: strs = ["a"]
è¾“å‡º: [["a"]]

çº¦æŸæ¡ä»¶ï¼š
- 1 <= strs.length <= 10^4
- 0 <= strs[i].length <= 100
- strs[i] ä»…åŒ…å«å°å†™å­—æ¯

ç®—æ³•åˆ†æï¼š
æ—¶é—´å¤æ‚åº¦ï¼šO(NK log K) - Nä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªé•¿åº¦Kéœ€è¦æ’åº
ç©ºé—´å¤æ‚åº¦ï¼šO(NK) - å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²

æ ¸å¿ƒæ€æƒ³ï¼š
1. å¼‚ä½è¯çš„ç‰¹ç‚¹ï¼šå­—ç¬¦ç§ç±»å’Œæ•°é‡ç›¸åŒï¼Œé¡ºåºä¸åŒ
2. æ–¹æ³•1ï¼šæ’åºä½œä¸ºkey - å¼‚ä½è¯æ’åºåç»“æœç›¸åŒ
3. æ–¹æ³•2ï¼šå­—ç¬¦è®¡æ•°ä½œä¸ºkey - ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°

æ€è€ƒè¦ç‚¹ï¼š
1. å¦‚ä½•åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¼‚ä½è¯ï¼Ÿ
2. å¦‚ä½•è®¾è®¡å“ˆå¸Œè¡¨çš„keyæ¥åˆ†ç»„ï¼Ÿ
3. æ’åºå’Œè®¡æ•°ä¸¤ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ

æ˜“é”™ç‚¹ï¼š
1. ç©ºå­—ç¬¦ä¸²çš„å¤„ç†
2. å“ˆå¸Œè¡¨keyçš„è®¾è®¡ï¼ˆæ’åºå­—ç¬¦ä¸² vs å­—ç¬¦è®¡æ•°å­—ç¬¦ä¸²ï¼‰
3. è¿”å›ç»“æœçš„æ ¼å¼ï¼ˆvector<vector<string>>ï¼‰

ç›¸å…³é¢˜ç›®ï¼š
- 242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯
- 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯
- 567. å­—ç¬¦ä¸²çš„æ’åˆ—
*/

#include <iostream>
#include <vector>
#include <string>
#include <unordered_map>
#include <algorithm>
using namespace std;

class Solution {
public:
    // æ–¹æ³•1ï¼šæ’åºåˆ†ç»„æ³•
    vector<vector<string>> groupAnagramsSort(vector<string>& strs) {
            unordered_map<string, vector<string>> str_map;
            for(auto& str:strs) {
                auto key = str;
                sort(key.begin(),key.end());
                str_map[key].push_back(str);
            }
            vector<vector<string>> result;
            for(auto& pair : str_map) {
                result.push_back(pair.second);
            }
            return result;
    }
    
    // æ–¹æ³•2ï¼šå­—ç¬¦è®¡æ•°åˆ†ç»„æ³•
    vector<vector<string>> groupAnagramsCount(vector<string>& strs) {
        // TODO: ä½¿ç”¨å­—ç¬¦è®¡æ•°å­—ç¬¦ä¸²ä½œä¸ºå“ˆå¸Œè¡¨çš„key
        // æç¤º1: ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦ä¸²ä¸­a-zçš„å‡ºç°æ¬¡æ•°
        // æç¤º2: å°†è®¡æ•°æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä½œä¸ºkey
        // æç¤º3: ç›¸åŒè®¡æ•°çš„å­—ç¬¦ä¸²ä¸ºå¼‚ä½è¯
        
        vector<vector<string>> result;
        return result;
    }
    
    // è¾…åŠ©å‡½æ•°ï¼šç”Ÿæˆå­—ç¬¦è®¡æ•°key
    string getCountKey(string& str) {
        // TODO: å®ç°å­—ç¬¦è®¡æ•°keyç”Ÿæˆ
        // æç¤º: åˆ›å»ºé•¿åº¦26çš„è®¡æ•°æ•°ç»„ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸²
        
        return "";
    }
    
    // ä¸»å‡½æ•°
    vector<vector<string>> groupAnagrams(vector<string>& strs) {
        // æ¨èå…ˆå®ç°æ’åºæ–¹æ³•ï¼Œå†å°è¯•è®¡æ•°æ–¹æ³•
        return groupAnagramsSort(strs);
    }
};

// æµ‹è¯•ç”¨ä¾‹
void testSolution() {
    Solution sol;
    
    cout << "ğŸ§ª æµ‹è¯• 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„" << endl;
    cout << "========================" << endl;
    
    // æµ‹è¯•ç”¨ä¾‹1: åŸºæœ¬æƒ…å†µ
    vector<string> strs1 = {"eat","tea","tan","ate","nat","bat"};
    auto result1 = sol.groupAnagrams(strs1);
    cout << "Test 1: [\"eat\",\"tea\",\"tan\",\"ate\",\"nat\",\"bat\"]" << endl;
    cout << "Result: [";
    for (auto& group : result1) {
        cout << "[";
        for (int i = 0; i < group.size(); i++) {
            cout << "\"" << group[i] << "\"";
            if (i < group.size() - 1) cout << ",";
        }
        cout << "]";
    }
    cout << "]" << endl << endl;
    
    // æµ‹è¯•ç”¨ä¾‹2: ç©ºå­—ç¬¦ä¸²
    vector<string> strs2 = {""};
    auto result2 = sol.groupAnagrams(strs2);
    cout << "Test 2: [\"\"]" << endl;
    cout << "Expected: [[\"\"]]" << endl << endl;
    
    // æµ‹è¯•ç”¨ä¾‹3: å•ä¸ªå­—ç¬¦
    vector<string> strs3 = {"a"};
    auto result3 = sol.groupAnagrams(strs3);
    cout << "Test 3: [\"a\"]" << endl;
    cout << "Expected: [[\"a\"]]" << endl << endl;
}

// ç®—æ³•æ€è·¯æç¤º
void showHints() {
    cout << "\nğŸ’¡ ç®—æ³•æ€è·¯æç¤º" << endl;
    cout << "===============" << endl;
    cout << R"(
å¼‚ä½è¯çš„å…³é”®ç‰¹å¾ï¼š
- åŒ…å«ç›¸åŒçš„å­—ç¬¦
- æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°ç›¸åŒ
- åªæ˜¯å­—ç¬¦é¡ºåºä¸åŒ

æ–¹æ³•1ï¼šæ’åºåˆ†ç»„æ³•
1. å¯¹æ¯ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ’åº
2. æ’åºåçš„å­—ç¬¦ä¸²ä½œä¸ºå“ˆå¸Œè¡¨çš„key
3. å¼‚ä½è¯æ’åºåçš„ç»“æœç›¸åŒ
4. å°†åŸå­—ç¬¦ä¸²åŠ å…¥å¯¹åº”çš„åˆ†ç»„

æ–¹æ³•2ï¼šå­—ç¬¦è®¡æ•°åˆ†ç»„æ³•
1. ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦ä¸²ä¸­a-zçš„å‡ºç°æ¬¡æ•°
2. å°†è®¡æ•°æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä½œä¸ºkey
3. ç›¸åŒè®¡æ•°çš„å­—ç¬¦ä¸²æ˜¯å¼‚ä½è¯
4. è¿™ç§æ–¹æ³•é¿å…äº†æ’åºï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ›´é«˜æ•ˆ

å®ç°è¦ç‚¹ï¼š
- ä½¿ç”¨unordered_map<string, vector<string>>å­˜å‚¨åˆ†ç»„
- æ³¨æ„å¤„ç†ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µ
- æœ€åéœ€è¦å°†mapçš„å€¼è½¬æ¢ä¸ºvector<vector<string>>æ ¼å¼

æ—¶é—´å¤æ‚åº¦å¯¹æ¯”ï¼š
- æ’åºæ³•ï¼šO(NK log K)ï¼ŒKæ˜¯å­—ç¬¦ä¸²å¹³å‡é•¿åº¦
- è®¡æ•°æ³•ï¼šO(NK)ï¼Œä½†å¸¸æ•°å› å­è¾ƒå¤§

é€‰æ‹©å»ºè®®ï¼š
- å­—ç¬¦ä¸²è¾ƒçŸ­æ—¶ï¼Œæ’åºæ³•æ›´ç®€æ´
- å­—ç¬¦ä¸²è¾ƒé•¿æ—¶ï¼Œè®¡æ•°æ³•æ›´é«˜æ•ˆ
)" << endl;
}

int main() {
    cout << "ğŸš€ LeetCode 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„" << endl;
    cout << "==============================" << endl;
    cout << "ğŸ¯ å“ˆå¸Œè¡¨åˆ†ç»„çš„ç»å…¸åº”ç”¨ï¼" << endl;
    cout << "ğŸ’¡ é‡ç‚¹ç†è§£å¦‚ä½•è®¾è®¡åˆé€‚çš„keyæ¥è¯†åˆ«å¼‚ä½è¯" << endl << endl;
    
    testSolution();
    showHints();
    
    return 0;
}

/*
ä¸“é¢˜å½’å±ï¼šå“ˆå¸Œè¡¨ + å­—ç¬¦ä¸²
éš¾åº¦è¯„ä¼°ï¼šâ­â­â­ (Mediuméš¾åº¦ï¼Œå“ˆå¸Œè¡¨åˆ†ç»„ç»å…¸é¢˜)
æ ¸å¿ƒæŠ€èƒ½ï¼šå¼‚ä½è¯è¯†åˆ«ã€å“ˆå¸Œè¡¨keyè®¾è®¡ã€åˆ†ç»„ç®—æ³•
*/