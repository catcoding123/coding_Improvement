/*
LeetCode 5. æœ€é•¿å›æ–‡å­ä¸²
Difficulty: Medium
Link: https://leetcode.cn/problems/longest-palindromic-substring/

é¢˜ç›®æè¿°ï¼š
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚

ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šs = "babad"
è¾“å‡ºï¼š"bab"
è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šs = "cbbd"
è¾“å‡ºï¼š"bb"

çº¦æŸæ¡ä»¶ï¼š
- 1 <= s.length <= 1000
- s ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ

ç®—æ³•åˆ†æï¼š
æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) - ä¸­å¿ƒæ‰©å±•æ³• / O(nÂ²) - åŠ¨æ€è§„åˆ’
ç©ºé—´å¤æ‚åº¦ï¼šO(1) - ä¸­å¿ƒæ‰©å±•æ³• / O(nÂ²) - åŠ¨æ€è§„åˆ’

æ ¸å¿ƒæ€æƒ³ï¼š
1. æ–¹æ³•1ï¼šä¸­å¿ƒæ‰©å±•æ³• - ä»¥æ¯ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•
2. æ–¹æ³•2ï¼šåŠ¨æ€è§„åˆ’ - dp[i][j]è¡¨ç¤ºs[i..j]æ˜¯å¦ä¸ºå›æ–‡
3. æ³¨æ„å¤„ç†å¥‡å¶é•¿åº¦å›æ–‡ä¸²çš„ä¸åŒä¸­å¿ƒä½ç½®

æ€è€ƒè¦ç‚¹ï¼š
1. å›æ–‡ä¸²çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
2. å¦‚ä½•å¤„ç†å¥‡æ•°é•¿åº¦å’Œå¶æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼Ÿ
3. ä¸­å¿ƒæ‰©å±•æ—¶çš„è¾¹ç•Œæ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
4. åŸºäºä½ 516é¢˜(æœ€é•¿å›æ–‡å­åºåˆ—)çš„ç»éªŒï¼Œè¿™é¢˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

æ˜“é”™ç‚¹ï¼š
1. å¿˜è®°å¤„ç†å¶æ•°é•¿åº¦å›æ–‡ä¸²çš„æƒ…å†µ (éœ€è¦å¤„ç†ä¸¤ç§ä¸­å¿ƒï¼šå•ç‚¹å’ŒåŒç‚¹)
2. è¾¹ç•Œæ£€æŸ¥ï¼šç¡®ä¿ä¸è¶Šç•Œ (left >= 0 && right < s.length())
3. æœ€é•¿å›æ–‡ä¸²çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦è®°å½• (æ›´æ–°maxLenæ—¶åŒæ­¥æ›´æ–°start)
4. å­ä¸²vså­åºåˆ—çš„åŒºåˆ«ç†è§£ (å­ä¸²å¿…é¡»è¿ç»­ï¼Œå­åºåˆ—å¯ä»¥ä¸è¿ç»­)
5. expandAroundCenterå‡½æ•°çš„è¿”å›å€¼ç†è§£ (è¿”å›é•¿åº¦ï¼Œä¸æ˜¯ç»“æŸä½ç½®)
6. ä¸­å¿ƒæ‰©å±•æ—¶çš„åœæ­¢æ¡ä»¶ (s[left] != s[right] æˆ– è¶Šç•Œæ—¶åœæ­¢)

ç›¸å…³é¢˜ç›®ï¼š
- 516. æœ€é•¿å›æ–‡å­åºåˆ— (ä½ å·²æŒæ¡)
- 647. å›æ–‡å­ä¸²
- 125. éªŒè¯å›æ–‡ä¸²
- 234. å›æ–‡é“¾è¡¨
*/

#include <iostream>
#include <string>
#include <vector>
using namespace std;

class Solution {
public:
    // æ–¹æ³•1ï¼šä¸­å¿ƒæ‰©å±•æ³• (æ¨èå®ç°)
    string longestPalindromeExpand(string s) {
        // TODO: å®ç°ä¸­å¿ƒæ‰©å±•ç®—æ³•
        // æç¤º1: å¯¹æ¯ä¸ªå¯èƒ½çš„ä¸­å¿ƒè¿›è¡Œæ‰©å±•
        // æç¤º2: å¥‡æ•°é•¿åº¦ä¸­å¿ƒæ˜¯å•ä¸ªå­—ç¬¦ï¼Œå¶æ•°é•¿åº¦ä¸­å¿ƒæ˜¯ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´
        // æç¤º3: å®ç°è¾…åŠ©å‡½æ•°expandAroundCenter(s, left, right)
        
        // å®ç°æ¡†æ¶:
        // if (s.empty()) return "";
        // int start = 0, maxLen = 1;
        // for (int i = 0; i < s.length(); i++) {
        //     // å¥‡æ•°é•¿åº¦å›æ–‡: ä»¥iä¸ºä¸­å¿ƒ
        //     int len1 = expandAroundCenter(s, i, i);
        //     // å¶æ•°é•¿åº¦å›æ–‡: ä»¥iå’Œi+1ä¹‹é—´ä¸ºä¸­å¿ƒ  
        //     int len2 = expandAroundCenter(s, i, i + 1);
        //     int len = max(len1, len2);
        //     if (len > maxLen) {
        //         maxLen = len;
        //         start = i - (len - 1) / 2;  // è®¡ç®—èµ·å§‹ä½ç½®
        //     }
        // }
        // return s.substr(start, maxLen);
        
        return "";
    }
    
    // æ–¹æ³•2ï¼šåŠ¨æ€è§„åˆ’æ³• (åŸºäºä½ 516é¢˜çš„DPç»éªŒ)
    string longestPalindromeDP(string s) {
        // TODO: å®ç°åŠ¨æ€è§„åˆ’ç®—æ³•
        // æç¤º1: dp[i][j] = s[i..j]æ˜¯å¦ä¸ºå›æ–‡ä¸²
        // æç¤º2: çŠ¶æ€è½¬ç§»ï¼šdp[i][j] = (s[i] == s[j]) && dp[i+1][j-1]
        // æç¤º3: å‚è€ƒä½ 516é¢˜çš„åŒºé—´DPæ€è·¯ï¼Œä½†è¿™é¢˜è¦æ±‚è¿ç»­å­ä¸²
        
        return "";
    }
    
    // è¾…åŠ©å‡½æ•°ï¼šä¸­å¿ƒæ‰©å±•
    int expandAroundCenter(string s, int left, int right) {
        // TODO: å®ç°ä¸­å¿ƒæ‰©å±•è¾…åŠ©å‡½æ•°
        // è¿”å›ä»¥(left,right)ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²é•¿åº¦
        
        // å®ç°æç¤º:
        // while (left >= 0 && right < s.length() && s[left] == s[right]) {
        //     left--;
        //     right++;
        // }
        // return right - left - 1;  // æ³¨æ„ï¼šé€€å‡ºå¾ªç¯æ—¶å·²ç»ä¸æ»¡è¶³æ¡ä»¶
        
        return 0;
    }
    
    // ä¸»å‡½æ•°
    string longestPalindrome(string s) {
        // æ¨èå…ˆå®ç°ä¸­å¿ƒæ‰©å±•æ³•ï¼Œå†æŒ‘æˆ˜DPæ³•
        return longestPalindromeExpand(s);
    }
};

// è¾…åŠ©å‡½æ•°ï¼šéªŒè¯æ˜¯å¦ä¸ºå›æ–‡
bool isPalindrome(const string& s) {
    int left = 0, right = s.length() - 1;
    while (left < right) {
        if (s[left] != s[right]) return false;
        left++;
        right--;
    }
    return true;
}

// æµ‹è¯•ç”¨ä¾‹
void testSolution() {
    Solution sol;
    
    cout << "ğŸ§ª æµ‹è¯• 5. æœ€é•¿å›æ–‡å­ä¸²" << endl;
    cout << "=====================" << endl;
    
    // æµ‹è¯•ç”¨ä¾‹1: å¥‡æ•°é•¿åº¦å›æ–‡
    string s1 = "babad";
    string result1 = sol.longestPalindrome(s1);
    cout << "Test 1: \"" << s1 << "\" -> \"" << result1 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result1) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
    
    // æµ‹è¯•ç”¨ä¾‹2: å¶æ•°é•¿åº¦å›æ–‡
    string s2 = "cbbd";
    string result2 = sol.longestPalindrome(s2);
    cout << "Test 2: \"" << s2 << "\" -> \"" << result2 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result2) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
    
    // æµ‹è¯•ç”¨ä¾‹3: å•å­—ç¬¦
    string s3 = "a";
    string result3 = sol.longestPalindrome(s3);
    cout << "Test 3: \"" << s3 << "\" -> \"" << result3 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result3) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
    
    // æµ‹è¯•ç”¨ä¾‹4: å…¨ç›¸åŒå­—ç¬¦
    string s4 = "aaaa";
    string result4 = sol.longestPalindrome(s4);
    cout << "Test 4: \"" << s4 << "\" -> \"" << result4 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result4) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
    
    // æµ‹è¯•ç”¨ä¾‹5: æ— å›æ–‡(é™¤å•å­—ç¬¦)
    string s5 = "abcdef";
    string result5 = sol.longestPalindrome(s5);
    cout << "Test 5: \"" << s5 << "\" -> \"" << result5 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result5) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
    
    // æµ‹è¯•ç”¨ä¾‹6: å¤æ‚å›æ–‡ (æ–°å¢)
    string s6 = "raceacar";
    string result6 = sol.longestPalindrome(s6);
    cout << "Test 6: \"" << s6 << "\" -> \"" << result6 << "\"";
    cout << " âœ“éªŒè¯: " << (isPalindrome(result6) ? "æ˜¯å›æ–‡" : "âŒä¸æ˜¯å›æ–‡") << endl;
}

// ç®—æ³•æ€è·¯æç¤º
void showHints() {
    cout << "\nğŸ’¡ ç®—æ³•æ€è·¯æç¤º" << endl;
    cout << "===============" << endl;
    cout << R"(
æ–¹æ³•1ï¼šä¸­å¿ƒæ‰©å±•æ³•
1. éå†æ¯ä¸ªå¯èƒ½çš„å›æ–‡ä¸­å¿ƒ
2. å¯¹äºå¥‡æ•°é•¿åº¦ï¼šä¸­å¿ƒæ˜¯å•ä¸ªå­—ç¬¦ (i, i)
3. å¯¹äºå¶æ•°é•¿åº¦ï¼šä¸­å¿ƒæ˜¯ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ (i, i+1)
4. ä»ä¸­å¿ƒå‘ä¸¤è¾¹æ‰©å±•ï¼Œç›´åˆ°ä¸æ˜¯å›æ–‡ä¸ºæ­¢
5. è®°å½•æœ€é•¿çš„å›æ–‡ä¸²

æ–¹æ³•2ï¼šåŠ¨æ€è§„åˆ’æ³•
1. dp[i][j] è¡¨ç¤º s[i..j] æ˜¯å¦ä¸ºå›æ–‡ä¸²
2. çŠ¶æ€è½¬ç§»ï¼š
   - å¦‚æœ s[i] == s[j] ä¸” dp[i+1][j-1] ä¸ºtrueï¼Œåˆ™dp[i][j] = true
   - ç‰¹æ®Šæƒ…å†µï¼šj - i <= 2 æ—¶ï¼Œåªéœ€æ£€æŸ¥ s[i] == s[j]
3. å¡«è¡¨é¡ºåºï¼šæŒ‰å­—ç¬¦ä¸²é•¿åº¦ä»çŸ­åˆ°é•¿

ä¸516é¢˜çš„åŒºåˆ«ï¼š
- 516é¢˜ï¼šæœ€é•¿å›æ–‡å­åºåˆ—ï¼ˆå¯ä»¥åˆ é™¤å­—ç¬¦ï¼‰
- 5é¢˜ï¼šæœ€é•¿å›æ–‡å­ä¸²ï¼ˆå¿…é¡»è¿ç»­ï¼‰

å®ç°å»ºè®®ï¼š
- å…ˆå®ç° expandAroundCenter è¾…åŠ©å‡½æ•°
- æ³¨æ„è¾¹ç•Œæ£€æŸ¥ï¼Œé¿å…æ•°ç»„è¶Šç•Œ
- è®°å½•æœ€é•¿å›æ–‡çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦
)" << endl;
}

int main() {
    cout << "ğŸš€ LeetCode 5. æœ€é•¿å›æ–‡å­ä¸²" << endl;
    cout << "===========================" << endl;
    cout << "ğŸ¯ åŸºäºä½ 516é¢˜çš„DPç»éªŒï¼Œè¿™é¢˜å¯ä»¥ç”¨ä¸­å¿ƒæ‰©å±•æ³•æ›´ä¼˜é›…è§£å†³ï¼" << endl;
    cout << "ğŸ’¡ é‡ç‚¹ç†è§£å¥‡å¶é•¿åº¦å›æ–‡ä¸²çš„ä¸­å¿ƒæ‰©å±•ç­–ç•¥" << endl << endl;
    
    testSolution();
    showHints();
    
    return 0;
}

/*
ä¸“é¢˜å½’å±ï¼šå­—ç¬¦ä¸² + åŠ¨æ€è§„åˆ’/ä¸­å¿ƒæ‰©å±•
éš¾åº¦è¯„ä¼°ï¼šâ­â­â­ (Mediuméš¾åº¦ï¼Œå›æ–‡é—®é¢˜ç»å…¸é¢˜)
æŠ€èƒ½åŸºç¡€ï¼šåŸºäºä½ 516é¢˜çš„åŒºé—´DPç»éªŒï¼Œè¿™é¢˜å¯ä»¥ç”¨æ›´ç®€æ´çš„ä¸­å¿ƒæ‰©å±•æ³•
*/