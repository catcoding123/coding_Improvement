# ç®—æ³•æ ¸å¿ƒç¬”è®°

## æ ˆé˜Ÿåˆ—ä¸“é¢˜

### 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ (Hard) - å•è°ƒé˜Ÿåˆ—
**æ ¸å¿ƒæ€æƒ³**: å•è°ƒåŒç«¯é˜Ÿåˆ—ç»´æŠ¤çª—å£æœ€å¤§å€¼ï¼Œå­˜å‚¨ä¸‹æ ‡ï¼Œä¿æŒé€’å‡åºåˆ—
**å…³é”®æ“ä½œ**: ç§»é™¤è¿‡æœŸå…ƒç´  â†’ ç»´æŠ¤å•è°ƒæ€§ â†’ æ·»åŠ å½“å‰å…ƒç´ 
**å¤æ‚åº¦**: O(n) - æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥é˜Ÿå‡ºé˜Ÿä¸€æ¬¡
**æ˜“é”™ç‚¹**: å­˜å‚¨ä¸‹æ ‡ä¸æ˜¯å€¼ï¼Œè¿‡æœŸåˆ¤æ–­`<=`ï¼Œçª—å£æ»¡åˆ¤æ–­`i >= k - 1`

### 155. æœ€å°æ ˆ (Medium) - åŒæ ˆè®¾è®¡
**æ ¸å¿ƒæ€æƒ³**: ä¸»æ ˆ+è¾…åŠ©æ ˆï¼Œè¾…åŠ©æ ˆç»´æŠ¤æœ€å°å€¼
**å…³é”®æŠ€å·§**: pushæ—¶ç”¨`<=`å¤„ç†é‡å¤æœ€å°å€¼
**å¤æ‚åº¦**: O(1)æ‰€æœ‰æ“ä½œ

### 84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢ (Hard) - å•è°ƒæ ˆ
**æ ¸å¿ƒæ€æƒ³**: å•è°ƒé€’å¢æ ˆï¼Œå¼¹æ ˆæ—¶è®¡ç®—é¢ç§¯
**å…³é”®å…¬å¼**: `é¢ç§¯ = é«˜åº¦ Ã— (å³è¾¹ç•Œ - å·¦è¾¹ç•Œ - 1)`
**æŠ€å·§**: æ•°ç»„ä¸¤ç«¯åŠ 0ç®€åŒ–è¾¹ç•Œå¤„ç†

### 42. æ¥é›¨æ°´ (Hard) - å•è°ƒæ ˆå˜ç§
**æ ¸å¿ƒæ€æƒ³**: å•è°ƒé€’å‡æ ˆï¼ŒæŒ‰å±‚è®¡ç®—é›¨æ°´
**å…³é”®è¦ç´ **: å·¦è¾¹ç•Œ(æ ˆä¸­å‰©ä½™) + åº•éƒ¨(å¼¹å‡ºå…ƒç´ ) + å³è¾¹ç•Œ(å½“å‰å…ƒç´ )

## é“¾è¡¨ä¸“é¢˜

### 142. ç¯å½¢é“¾è¡¨ II (Medium) - Floydåˆ¤åœˆç®—æ³• â­
**æ ¸å¿ƒæ€æƒ³**: å¿«æ…¢æŒ‡é’ˆæ£€æµ‹ç¯ + æ•°å­¦æ¨å¯¼æ‰¾ç¯å…¥å£
**ç®—æ³•æ­¥éª¤**:
1. **ç¬¬ä¸€é˜¶æ®µ**: å¿«æ…¢æŒ‡é’ˆæ£€æµ‹ç¯å­˜åœ¨
   - å¿«æŒ‡é’ˆæ¯æ¬¡2æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡1æ­¥
   - æœ‰ç¯å¿…ç›¸é‡ï¼Œæ— ç¯å¿«æŒ‡é’ˆåˆ°è¾¾null
2. **ç¬¬äºŒé˜¶æ®µ**: å®šä½ç¯å…¥å£
   - ä»é“¾è¡¨å¤´å’Œç›¸é‡ç‚¹åŒæ—¶å‡ºå‘
   - ä¸¤æŒ‡é’ˆéƒ½æ¯æ¬¡1æ­¥ï¼Œç›¸é‡ç‚¹å°±æ˜¯ç¯å…¥å£

**æ•°å­¦è¯æ˜**: 
- è®¾å¤´åˆ°ç¯å…¥å£è·ç¦»aï¼Œç¯å…¥å£åˆ°ç›¸é‡ç‚¹è·ç¦»bï¼Œç›¸é‡ç‚¹ç»•ç¯å›åˆ°å…¥å£è·ç¦»c
- æ…¢æŒ‡é’ˆèµ°è¿‡ï¼š`a + b`ï¼Œå¿«æŒ‡é’ˆèµ°è¿‡ï¼š`a + b + c + b = a + 2b + c`
- å¿«æŒ‡é’ˆé€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆ2å€ï¼š`a + 2b + c = 2(a + b)` 
- åŒ–ç®€å¾—ï¼š`c = a`ï¼Œæ‰€ä»¥ä»å¤´å’Œç›¸é‡ç‚¹åŒæ­¥èµ°aæ­¥ä¼šåœ¨ç¯å…¥å£ç›¸é‡

**å®ç°è¦ç‚¹**:
```cpp
// å…³é”®ï¼šåœ¨å¾ªç¯ä¸­æ£€æµ‹ç›¸é‡ï¼Œè€Œä¸æ˜¯å¾ªç¯å
while(fast && fast->next) {
    slow = slow->next;
    fast = fast->next->next;
    if(slow == fast) break;  // âœ… å¾ªç¯ä¸­æ£€æµ‹
}
```

**å¤æ‚åº¦**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1)
**æ˜“é”™ç‚¹**: 
1. ç›¸é‡æ£€æµ‹æ—¶æœºï¼šåº”åœ¨å¾ªç¯ä¸­è€Œéå¾ªç¯å
2. å“ˆå¸Œè¡¨è§£æ³•é¡ºåºï¼šå…ˆæ£€æŸ¥â†’æ’å…¥â†’ç§»åŠ¨ï¼Œä¸æ˜¯å…ˆç§»åŠ¨å†æ’å…¥
**ç›¸å…³é¢˜ç›®**: 141.ç¯å½¢é“¾è¡¨ã€287.å¯»æ‰¾é‡å¤æ•°ã€202.å¿«ä¹æ•°

### 23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ (Hard) - åˆ†æ²»ç®—æ³• â­â­
**æ ¸å¿ƒæ€æƒ³**: å¤šè·¯å½’å¹¶é—®é¢˜ï¼ŒKè·¯åˆ†è§£ä¸º2è·¯çš„é€’å½’æ€ç»´
**ä¸‰ç§è§£æ³•å¯¹æ¯”**:
1. **åˆ†æ²»ç®—æ³•**: O(n log k)æ—¶é—´ï¼ŒO(log k)ç©ºé—´ - æœ€ä¼˜è§£
2. **ä¼˜å…ˆé˜Ÿåˆ—**: O(n log k)æ—¶é—´ï¼ŒO(k)ç©ºé—´ - Kè·¯å½’å¹¶ç»å…¸
3. **é€ä¸€åˆå¹¶**: O(kn)æ—¶é—´ï¼ŒO(1)ç©ºé—´ - æœ´ç´ ä½†æœ‰æ•ˆ

**åˆ†æ²»ç®—æ³•è¦ç‚¹**:
```cpp
// é€’å½’åˆ†è§£ï¼šäºŒåˆ†æ€æƒ³
ListNode* mergeHelper(vector<ListNode*>& lists, int start, int end) {
    if(start == end) return lists[start];     // å•é“¾è¡¨ç›´æ¥è¿”å›
    if(start > end) return nullptr;           // å®‰å…¨è¾¹ç•Œ
    int mid = (start + end) / 2;
    ListNode* left = mergeHelper(lists, start, mid);
    ListNode* right = mergeHelper(lists, mid+1, end);
    return mergeTwoLists(left, right);        // å¤ç”¨21é¢˜è§£æ³•
}
```

**ä¼˜å…ˆé˜Ÿåˆ—è¦ç‚¹**:
```cpp
// å…³é”®ï¼šæ¯”è¾ƒå™¨æ„é€ 
struct Cmp {
    bool operator()(ListNode* a, ListNode* b) {
        return a->val > b->val;  // å¤§äºå·æ„é€ æœ€å°å †
    }
};
// æˆ–lambda: auto cmp = [](ListNode* a, ListNode* b) {return a->val > b->val;};
// priority_queue<ListNode*, vector<ListNode*>, decltype(cmp)> pq(cmp);
```

**å¤æ‚åº¦åˆ†æ**: 
- åˆ†æ²»: æ¯å±‚O(n)åˆå¹¶ï¼Œå…±log kå±‚ â†’ O(n log k)
- ä¼˜å…ˆé˜Ÿåˆ—: nä¸ªèŠ‚ç‚¹ï¼Œæ¯æ¬¡å †æ“ä½œO(log k) â†’ O(n log k)
- é€ä¸€: ç¬¬iæ¬¡åˆå¹¶O(iÃ—å¹³å‡é•¿åº¦) â†’ O(kn)

**æ˜“é”™ç‚¹**:
1. Priority_queueæ¯”è¾ƒå™¨ï¼š`>`æ„é€ æœ€å°å †ï¼Œ`<`æ„é€ æœ€å¤§å †
2. Lambdaæ„é€ é—®é¢˜ï¼šéœ€è¦ä¼ å…¥æ¯”è¾ƒå™¨å®ä¾‹`pq(cmp)`
3. ç©ºé“¾è¡¨å¤„ç†ï¼šä¼˜å…ˆé˜Ÿåˆ—å…¥å †å‰è¦æ£€æŸ¥`if(list)`
4. åˆ†æ²»è¾¹ç•Œï¼š`start == end`è¿”å›å•é“¾è¡¨

**æ ¸å¿ƒæ´å¯Ÿ**: åˆ†æ²»å°†å¤æ‚çš„Kè·¯é—®é¢˜è½¬åŒ–ä¸ºç†Ÿæ‚‰çš„2è·¯é—®é¢˜ï¼Œä½“ç°ç®—æ³•è®¾è®¡çš„åŒ–ç¹ä¸ºç®€æ€æƒ³
**ç›¸å…³é¢˜ç›®**: 21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€88.åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ã€315.è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°

## åŠ¨æ€è§„åˆ’ä¸“é¢˜

### 70. çˆ¬æ¥¼æ¢¯ (Easy) - DPå…¥é—¨
**çŠ¶æ€å®šä¹‰**: `dp[i]` = çˆ¬åˆ°ç¬¬ié˜¶çš„æ–¹æ³•æ•°
**è½¬ç§»æ–¹ç¨‹**: `dp[i] = dp[i-1] + dp[i-2]`
**å››ç§å®ç°**: é€’å½’ã€è®°å¿†åŒ–ã€DPã€ç©ºé—´ä¼˜åŒ–

### 198. æ‰“å®¶åŠ«èˆ (Medium) - å†³ç­–ç±»DP
**çŠ¶æ€å®šä¹‰**: `dp[i]` = å·å‰i+1é—´æˆ¿çš„æœ€å¤§é‡‘é¢
**è½¬ç§»æ–¹ç¨‹**: `dp[i] = max(nums[i] + dp[i-2], dp[i-1])`
**æ ¸å¿ƒ**: æ¯æ­¥åšé€‰æ‹©å†³ç­–ï¼Œçº¦æŸå½±å“çŠ¶æ€è½¬ç§»

### 53. æœ€å¤§å­æ•°ç»„å’Œ (Medium) - è¿ç»­å­æ•°ç»„DP
**æ ¸å¿ƒç®—æ³•**: Kadaneç®—æ³•
**è½¬ç§»æ–¹ç¨‹**: `dp[i] = max(nums[i], dp[i-1] + nums[i])`
**å…³é”®ç†è§£**: "ç»§ç»­vsé‡æ–°å¼€å§‹"çš„å†³ç­–

### 322. é›¶é’±å…‘æ¢ (Medium) - å®Œå…¨èƒŒåŒ…
**çŠ¶æ€å®šä¹‰**: `dp[i]` = ç»„æˆé‡‘é¢içš„æœ€å°‘ç¡¬å¸æ•°
**è½¬ç§»æ–¹ç¨‹**: `dp[i] = min(dp[i-coin] + 1)`
**å…³é”®**: å®Œå…¨èƒŒåŒ…å…è®¸é‡å¤ä½¿ç”¨ï¼Œå†…å±‚å¾ªç¯å¯ç”¨å·²æ›´æ–°å€¼
**æ˜“é”™ç‚¹**: è®°å¿†åŒ–æœç´¢å¿…é¡»æ£€æŸ¥ `helpResult != -1`ï¼Œé˜²æ­¢å°†æ— è§£çŠ¶æ€ç´¯åŠ 
**è®°å¿†å£è¯€**: "æ— è§£ä¼ é€’æ¯å…¨å±€ï¼Œ-1æ£€æŸ¥æ˜¯å…³é”®"
```cpp
// âŒ é”™è¯¯ï¼šå¿˜è®°æ— è§£æ£€æŸ¥
int result = helper(amount - coin) + 1;

// âœ… æ­£ç¡®ï¼šæ£€æŸ¥æ— è§£çŠ¶æ€
int helpResult = helper(amount - coin);
if (helpResult != -1) {
    result = min(result, helpResult + 1);
}
```

### 300. æœ€é•¿é€’å¢å­åºåˆ— (Medium) - åºåˆ—DP
**çŠ¶æ€å®šä¹‰**: `dp[i]` = ä»¥nums[i]ç»“å°¾çš„LISé•¿åº¦
**ä¼˜åŒ–**: è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾è¾¾åˆ°O(n log n)
**æ˜“é”™**: è¿”å›`max(dp)`è€Œé`dp[n-1]`

### 1143. æœ€é•¿å…¬å…±å­åºåˆ— (Medium) - åŒåºåˆ—DP
**çŠ¶æ€å®šä¹‰**: `dp[i][j]` = ä¸¤åºåˆ—å‰ç¼€LCSé•¿åº¦
**è½¬ç§»**: åŒ¹é…æ—¶`dp[i-1][j-1]+1`ï¼Œä¸åŒ¹é…æ—¶å–æœ€ä¼˜
**ä¼˜åŒ–**: æ»šåŠ¨æ•°ç»„é™ä½ç©ºé—´å¤æ‚åº¦

### 516. æœ€é•¿å›æ–‡å­åºåˆ— (Medium) - åŒºé—´DP
**çŠ¶æ€å®šä¹‰**: `dp[i][j]` = s[i..j]çš„å›æ–‡å­åºåˆ—é•¿åº¦
**å…³é”®**: æŒ‰åŒºé—´é•¿åº¦é€’å¢éå†
**è½¬ç§»**: ä¸¤ç«¯åŒ¹é…+2ï¼Œä¸åŒ¹é…é€‰æ‹©æœ€ä¼˜å­åŒºé—´

## äºŒå‰æ ‘ä¸“é¢˜

### 104. äºŒå‰æ ‘æœ€å¤§æ·±åº¦ (Easy) - é€’å½’å…¥é—¨
**æ ¸å¿ƒæ€æƒ³**: å¤§æ ‘é—®é¢˜åˆ†è§£ä¸ºå­æ ‘é—®é¢˜
**é€’å½’å…¬å¼**: `max(å·¦æ·±åº¦, å³æ·±åº¦) + 1`
**ä¸‰ç§å®ç°**: é€’å½’DFSã€BFSå±‚åºã€DFSæ ˆæ¨¡æ‹Ÿ

### 226. ç¿»è½¬äºŒå‰æ ‘ (Easy) - æ ‘å½¢å˜æ¢
**æ ¸å¿ƒæ´å¯Ÿ**: ç®—æ³•å±€éƒ¨ç‹¬ç«‹æ€§ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªç®¡è‡ªå·±çš„å·¦å³äº¤æ¢
**é‡è¦**: BFSâ‰ˆDFSé€‚ç”¨äºå±€éƒ¨ç‹¬ç«‹æ“ä½œ
**æ˜“é”™**: é€’å½’æ—¶å…ˆä¿å­˜å­æ ‘æŒ‡é’ˆå†äº¤æ¢

### 94. äºŒå‰æ ‘ä¸­åºéå† (Medium) - æ ˆæ¨¡æ‹Ÿé€’å½’
**æ ¸å¿ƒæ¨¡å¼**: "å‘å·¦æ·±å…¥â†’å¼¹æ ˆè®¿é—®â†’å³è½¬é‡å¤"
**å…³é”®**: curræŒ‡é’ˆé©±åŠ¨ï¼Œæ ˆä¿å­˜å›æº¯è·¯å¾„
**åº”ç”¨**: BSTä¸­åºéå†æœ‰åºï¼Œå¯ç”¨äºéªŒè¯å’ŒæŸ¥æ‰¾

### 98. éªŒè¯BST (Medium) - å¼•ç”¨ä¼ é€’+ä¸­åºéå†
**æ ¸å¿ƒæ€æƒ³**: åˆ©ç”¨BSTä¸­åºéå†ä¸¥æ ¼é€’å¢æ€§è´¨
**å…³é”®çªç ´**: å¼•ç”¨ä¼ é€’`TreeNode*& prev`ç»´æŠ¤å…¨å±€å‰é©±çŠ¶æ€
**BSTå®šä¹‰**: ä¸æ˜¯ç®€å•çˆ¶å­å…³ç³»ï¼Œè€Œæ˜¯æ•´ä½“å­æ ‘çº¦æŸ

### 230. BSTç¬¬Kå°å…ƒç´  (Medium) - çŸ¥è¯†èåˆ+æå‰ç»ˆæ­¢
**æ ¸å¿ƒæ€æƒ³**: ä¸­åºéå†+è®¡æ•°å™¨+æå‰ç»ˆæ­¢ä¼˜åŒ–
**çŸ¥è¯†èåˆ**: 98é¢˜BSTæ€§è´¨ + 94é¢˜ä¸­åºéå† + å¼•ç”¨ä¼ é€’
**æ•ˆç‡ä¼˜åŒ–**: O(H+k) vs O(n)ï¼Œæå‰ç»ˆæ­¢é¿å…æ— æ•ˆéå†
**é€šç”¨æ¨¡å¼**: BST+ä¸­åºéå†å¯æ‰©å±•åˆ°99ã€108ã€173ç­‰é¢˜

### 101. å¯¹ç§°äºŒå‰æ ‘ (Easy) - åŒèŠ‚ç‚¹é€’å½’çªç ´
**ç®—æ³•é©å‘½**: ä»å•èŠ‚ç‚¹é€’å½’åˆ°åŒèŠ‚ç‚¹åŒæ­¥é€’å½’çš„æ€ç»´è·ƒè¿
**å¯¹ç§°å…³ç³»**: å·¦å·¦â†”å³å³ã€å·¦å³â†”å³å·¦çš„äº¤å‰å¯¹åº”
**é€’å½’è®¾è®¡**: åŒå‚æ•°ã€è¾¹ç•Œå¤„ç†ã€é•œåƒè°ƒç”¨çš„ç³»ç»Ÿæ€è€ƒ
**å®ç°å¯¹æ¯”**: é€’å½’ç‰ˆæœ¬vsè¿­ä»£é˜Ÿåˆ—çš„åŒé‡æŒæ¡

### 99. æ¢å¤BST (Hard) - é€†åºå¯¹è¯†åˆ«+çŠ¶æ€ç®¡ç†
**æ ¸å¿ƒç®—æ³•**: ä¸­åºéå†+é€†åºå¯¹è¯†åˆ«+èŠ‚ç‚¹å€¼äº¤æ¢
**é€†åºå¯¹æ¨¡å¼**: 
- ç›¸é‚»äº¤æ¢: ä¸€ä¸ªé€†åºå¯¹ `[1,3,2,4]` â†’ åŒæ—¶è®¾ç½®firstError/secondError
- ä¸ç›¸é‚»äº¤æ¢: ä¸¤ä¸ªé€†åºå¯¹ `[1,4,3,2,5]` â†’ ç¬¬äºŒæ¬¡ä»…æ›´æ–°secondError
**çŠ¶æ€ç®¡ç†**: ä¸‰æŒ‡é’ˆåè°ƒ - prevã€firstErrorã€secondError
**è¿›é˜¶æ‰©å±•**: Morriséå†å®ç°O(1)ç©ºé—´å¤æ‚åº¦
**æ˜“é”™ç‚¹**: ç›¸é‚»äº¤æ¢éœ€åŒæ—¶è®¾ç½®ä¸¤ä¸ªé”™è¯¯èŠ‚ç‚¹ï¼Œä¸ç›¸é‚»äº¤æ¢åˆ†ä¸¤æ¬¡è®¾ç½®

### 108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºBST (Easy) - åˆ†æ²»æ„å»º+å¹³è¡¡ä¿è¯
**æ ¸å¿ƒæ€æƒ³**: åˆ†æ²»é€’å½’æ„å»ºï¼Œé€‰æ‹©ä¸­ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ä¿è¯å¹³è¡¡æ€§
**ç®—æ³•æµç¨‹**: 
- é€‰æ‹©ä¸­ç‚¹: `mid = (left + right) / 2` 
- åˆ›å»ºæ ¹èŠ‚ç‚¹: `root = new TreeNode(nums[mid])`
- é€’å½’æ„å»º: å·¦å­æ ‘`[left, mid-1]`ï¼Œå³å­æ ‘`[mid+1, right]`
**å¹³è¡¡åŸç†**: ä¸­ç‚¹é€‰æ‹©ä¿è¯å·¦å³å­æ ‘å¤§å°ç›¸è¿‘ï¼Œé«˜åº¦å·®â‰¤1
**çŸ¥è¯†é—­ç¯**: éªŒè¯(98)â†’åº”ç”¨(230)â†’æ¢å¤(99)â†’æ„å»º(108)å®Œæ•´BSTç”Ÿå‘½å‘¨æœŸ
**æ—¶é—´å¤æ‚åº¦**: O(n) - æ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºä¸€æ¬¡
**ç©ºé—´å¤æ‚åº¦**: O(log n) - é€’å½’æ ˆæ·±åº¦
**æ˜“é”™ç‚¹**: åˆ›å»ºèŠ‚ç‚¹ç”¨`nums[mid]`ä¸æ˜¯`mid`ï¼Œè¾¹ç•Œæ¡ä»¶`left > right`
**æŠ€æœ¯çªç ´**: å¼•ç”¨ä¼ é€’ç»´æŠ¤å…¨å±€å‰é©±çŠ¶æ€
**ç»å…¸é™·é˜±**: BSTä¸æ˜¯ç®€å•çˆ¶å­å…³ç³»ï¼Œè€Œæ˜¯å­æ ‘æ•´ä½“çº¦æŸ
```cpp
bool inorderCheck(TreeNode* node, TreeNode*& prev) {
    if (!node) return true;
    if (!inorderCheck(node->left, prev)) return false;
    if (prev && prev->val >= node->val) return false;
    prev = node;
    return inorderCheck(node->right, prev);
}
```

### 230. BSTç¬¬Kå°å…ƒç´  (Medium) - çŸ¥è¯†èåˆ+æå‰ç»ˆæ­¢
**æ ¸å¿ƒæ€æƒ³**: BSTä¸­åºéå†+è®¡æ•°å™¨ï¼ŒO(H+k)ä¼˜åŒ–
**çŸ¥è¯†èåˆ**: 98é¢˜BSTæ€§è´¨ + 94é¢˜ä¸­åºéå† + å¼•ç”¨ä¼ é€’
**å…³é”®**: `k==0`æ—¶æå‰ç»ˆæ­¢ï¼Œé¿å…ç»§ç»­é€’å½’

### 101. å¯¹ç§°äºŒå‰æ ‘ (Easy) - åŒèŠ‚ç‚¹é€’å½’
**ç®—æ³•çªç ´**: ä»å•èŠ‚ç‚¹é€’å½’è·ƒå‡åˆ°åŒèŠ‚ç‚¹åŒæ­¥é€’å½’
**é•œåƒå®šä¹‰**: å·¦å·¦â†”å³å³ï¼Œå·¦å³â†”å³å·¦çš„äº¤å‰å¯¹åº”
**è¾¹ç•Œå¤„ç†**: å››ç§ç©ºèŠ‚ç‚¹ç»„åˆçš„å®Œæ•´å¤„ç†
```cpp
bool isMirror(TreeNode* left, TreeNode* right) {
    if (!left && !right) return true;
    if (!left || !right) return false;
    if (left->val != right->val) return false;
    return isMirror(left->left, right->right) && 
           isMirror(left->right, right->left);
}
```

## é€’å½’è®¾è®¡æ¨¡å¼è¿›åŒ–
```
å•èŠ‚ç‚¹é€’å½’ (104/226): f(node) â†’ æ“ä½œå•ä¸ªèŠ‚ç‚¹
    â†“
çŠ¶æ€ä¼ é€’é€’å½’ (98/230): f(node, &state) â†’ å•èŠ‚ç‚¹+å…¨å±€çŠ¶æ€  
    â†“
åŒèŠ‚ç‚¹é€’å½’ (101): f(left, right) â†’ åŒæ­¥æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹
```




---

## 198. æ‰“å®¶åŠ«èˆ (Medium)

### æ ¸å¿ƒæ€æƒ³
å†³ç­–ç±»åŠ¨æ€è§„åˆ’ç»å…¸é¢˜ï¼Œä½“ç°äº†**é€‰æ‹©å†³ç­–**çš„DPæ€ç»´ï¼šæ¯ä¸ªçŠ¶æ€é¢ä¸´å¤šç§é€‰æ‹©ï¼Œé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = å·å‰i+1é—´æˆ¿èƒ½è·å¾—çš„æœ€å¤§é‡‘é¢
   
2. **å†³ç­–åˆ†æ**:
   å¯¹äºç¬¬ié—´æˆ¿ï¼Œå°å·é¢ä¸´ä¸¤ç§é€‰æ‹©ï¼š
   - **å·ç¬¬ié—´æˆ¿**: è·å¾— `nums[i] + dp[i-2]` (ä¸èƒ½å·ç›¸é‚»æˆ¿å±‹)
   - **ä¸å·ç¬¬ié—´æˆ¿**: è·å¾— `dp[i-1]` (ä¿æŒå‰ä¸€çŠ¶æ€)

3. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = max(nums[i] + dp[i-2], dp[i-1])
   ```

4. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0] = nums[0]                    // åªæœ‰1é—´æˆ¿
   dp[1] = max(nums[0], nums[1])      // 2é—´æˆ¿é€‰é‡‘é¢å¤§çš„
   ```

### å››ç§å®ç°æ–¹å¼

#### 1. é€’å½’è§£æ³• (ä¼šè¶…æ—¶)
```cpp
int helper(vector<int>& nums, int i) {
    if (i < 0) return 0;
    return max(helper(nums, i-2) + nums[i], helper(nums, i-1));
}
```

#### 2. è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹)
```cpp
int helperMemo(vector<int>& nums, int i, vector<int>& memo) {
    if (i < 0) return 0;
    if (i == 0) return nums[0];
    if (memo[i] != -1) return memo[i];
    
    memo[i] = max(helperMemo(nums,i-2,memo) + nums[i], 
                  helperMemo(nums,i-1,memo));
    return memo[i];
}
```

#### 3. åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Š) â­
```cpp
int rob(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    if (n == 1) return nums[0];
    
    vector<int> dp(n);
    dp[0] = nums[0];
    dp[1] = max(nums[0], nums[1]);
    
    for (int i = 2; i < n; i++) {
        dp[i] = max(dp[i-2] + nums[i], dp[i-1]);
    }
    return dp[n-1];
}
```

#### 4. ç©ºé—´ä¼˜åŒ– (æ»šåŠ¨å˜é‡)
```cpp
int rob(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    if (n == 1) return nums[0];
    
    int prev2 = nums[0];
    int prev1 = max(nums[0], nums[1]);
    
    for (int i = 2; i < n; i++) {
        int curr = max(nums[i] + prev2, prev1);
        prev2 = prev1;
        prev1 = curr;
    }
    return prev1;
}
```

### ä¸70é¢˜çš„å…³é”®åŒºåˆ«
- **70é¢˜çˆ¬æ¥¼æ¢¯**: é€’æ¨å…³ç³» `f(n) = f(n-1) + f(n-2)` (åŠ æ³•)
- **198é¢˜æ‰“å®¶åŠ«èˆ**: å†³ç­–å…³ç³» `f(n) = max(é€‰æ‹©A, é€‰æ‹©B)` (é€‰æ‹©)

### å†³ç­–ç±»DPç‰¹å¾
1. **å¤šç§é€‰æ‹©**: æ¯ä¸ªçŠ¶æ€é¢ä¸´2ä¸ªæˆ–æ›´å¤šé€‰æ‹©
2. **çº¦æŸæ¡ä»¶**: é€‰æ‹©ä¹‹é—´å­˜åœ¨é™åˆ¶å…³ç³»
3. **æœ€ä¼˜å†³ç­–**: ä½¿ç”¨max/minå‡½æ•°é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
4. **çŠ¶æ€ä¾èµ–**: å½“å‰é€‰æ‹©å½±å“åç»­å¯é€‰æ–¹æ¡ˆ

### å¤æ‚åº¦åˆ†æ
- **é€’å½’**: æ—¶é—´O(2^n)ï¼Œç©ºé—´O(n)
- **è®°å¿†åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **DP**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **ç©ºé—´ä¼˜åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1)

### å…³é”®ç†è§£
- **çº¦æŸå»ºæ¨¡**: ç›¸é‚»æˆ¿å±‹ä¸èƒ½åŒæ—¶å· â†’ çŠ¶æ€è½¬ç§»ä¸­ä½“ç°ä¸ºi-2è€Œä¸æ˜¯i-1
- **å†³ç­–æ€ç»´**: æ¯æ­¥éƒ½è¦é—®"æˆ‘æœ‰å“ªäº›é€‰æ‹©ï¼Ÿå“ªä¸ªæ›´ä¼˜ï¼Ÿ"
- **è®°å¿†åŒ–ç²¾é«“**: è®¡ç®— â†’ ç¼“å­˜ â†’ è¿”å›ï¼Œä¸‰æ­¥ç¼ºä¸€ä¸å¯

### æ‰©å±•åº”ç”¨
- 213. æ‰“å®¶åŠ«èˆII (ç¯å½¢æ•°ç»„)
- 337. æ‰“å®¶åŠ«èˆIII (äºŒå‰æ ‘)
- 01èƒŒåŒ…é—®é¢˜ (ç‰©å“é€‰æ‹©å†³ç­–)

---

## 53. æœ€å¤§å­æ•°ç»„å’Œ (Medium)

### æ ¸å¿ƒæ€æƒ³
è¿ç»­å­æ•°ç»„DPçš„ç»å…¸é¢˜ç›®ï¼Œä½¿ç”¨**Kadaneç®—æ³•**å®ç°O(n)æœ€ä¼˜è§£ï¼ŒåŒæ—¶æŒæ¡**åˆ†æ²»ç®—æ³•**çš„ä¸‰åˆ†è¦†ç›–æ€æƒ³ã€‚

### å…³é”®é€»è¾‘
1. **è¿ç»­æ€§çº¦æŸçš„DPå»ºæ¨¡**:
   - çŠ¶æ€å®šä¹‰ï¼š`dp[i]` = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
   - å†³ç­–é€‰æ‹©ï¼šç»§ç»­ä¹‹å‰çš„å­æ•°ç»„ vs é‡æ–°å¼€å§‹
   
2. **Kadaneç®—æ³•æ ¸å¿ƒ**:
   ```cpp
   dp[i] = max(nums[i], dp[i-1] + nums[i])
   ```
   ç›´è§‚ç†è§£ï¼šå¦‚æœä¹‹å‰ç´¯è®¡æ˜¯è´Ÿæ•°å°±æŠ›å¼ƒï¼Œå¦åˆ™ç»§ç»­ç´¯åŠ 

3. **å…¨å±€vså±€éƒ¨æœ€ä¼˜**:
   - å±€éƒ¨æœ€ä¼˜ï¼šdp[i] (ä»¥iç»“å°¾çš„æœ€å¤§å’Œ)
   - å…¨å±€æœ€ä¼˜ï¼šmax(dp[0], dp[1], ..., dp[n-1])

4. **åˆ†æ²»ç®—æ³•æ€æƒ³**:
   - ä¸‰åˆ†è¦†ç›–ï¼šå·¦åŠéƒ¨åˆ†ã€å³åŠéƒ¨åˆ†ã€è·¨è¶Šä¸­ç‚¹
   - é€’å½’å…³ç³»ï¼š`T(n) = 2T(n/2) + O(n)`ï¼Œæ—¶é—´å¤æ‚åº¦O(n log n)

### å››ç§å®ç°æ–¹å¼

#### 1. Kadaneç®—æ³• (æ¨è) - O(n)
```cpp
int maxSubArrayDP(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    vector<int> dp(n);
    dp[0] = nums[0];
    int max_result = dp[0];
    for(int i = 1; i < n; i++) {
        dp[i] = max(nums[i], nums[i] + dp[i-1]);
        max_result = max(max_result, dp[i]);
    }
    return max_result;
}
```

#### 2. ç©ºé—´ä¼˜åŒ–ç‰ˆæœ¬ - O(1)
```cpp
int maxSubArrayOptimized(vector<int>& nums) {
    int currentSum = nums[0];
    int maxSum = nums[0];
    for(int i = 1; i < nums.size(); i++) {
        currentSum = max(nums[i], currentSum + nums[i]);
        maxSum = max(currentSum, maxSum);
    }
    return maxSum;
}
```

#### 3. åˆ†æ²»ç®—æ³• - O(n log n)
```cpp
int divideConquer(vector<int>& nums, int left, int right) {
    if(left == right) return nums[left];
    int mid = (left + right) / 2;
    int leftMax = divideConquer(nums, left, mid);
    int rightMax = divideConquer(nums, mid+1, right);
    
    // è®¡ç®—è·¨è¶Šä¸­ç‚¹çš„æœ€å¤§å­æ•°ç»„å’Œ
    int sumLeft = nums[mid], maxSumLeft = sumLeft;
    for(int i = mid-1; i >= left; i--) {
        sumLeft += nums[i];
        maxSumLeft = max(maxSumLeft, sumLeft);
    }
    
    int sumRight = nums[mid+1], maxSumRight = sumRight;
    for(int i = mid+2; i <= right; i++) {
        sumRight += nums[i];
        maxSumRight = max(maxSumRight, sumRight);
    }
    
    int crossSum = maxSumLeft + maxSumRight;
    return max({leftMax, rightMax, crossSum});
}
```

### åˆ†æ²»ç®—æ³•æ·±åº¦ç†è§£
**ä¸‰åˆ†è¦†ç›–åŸç†**ï¼šä»»ä½•å­æ•°ç»„è¦ä¹ˆå®Œå…¨åœ¨å·¦åŠéƒ¨åˆ†ï¼Œè¦ä¹ˆå®Œå…¨åœ¨å³åŠéƒ¨åˆ†ï¼Œè¦ä¹ˆè·¨è¶Šä¸­ç‚¹
- **å·¦åŠéƒ¨åˆ†æœ€ä¼˜è§£**ï¼šé€’å½’æ±‚è§£`[left, mid]`
- **å³åŠéƒ¨åˆ†æœ€ä¼˜è§£**ï¼šé€’å½’æ±‚è§£`[mid+1, right]`  
- **è·¨è¶Šä¸­ç‚¹æœ€ä¼˜è§£**ï¼šä»midå‘å·¦æœ€å¤§å»¶ä¼¸ + ä»mid+1å‘å³æœ€å¤§å»¶ä¼¸

**å…³é”®æ´å¯Ÿ**ï¼šè·¨è¶Šä¸­ç‚¹çš„è®¡ç®—å®é™…ä¸Šè¦†ç›–äº†æ‰€æœ‰åŒ…å«midæˆ–mid+1çš„å­æ•°ç»„æƒ…å†µï¼

### è¿ç»­å­æ•°ç»„DPç‰¹å¾
1. **çŠ¶æ€å®šä¹‰å¿…é¡»åŒ…å«"ä»¥iç»“å°¾"çš„çº¦æŸ**
2. **çŠ¶æ€è½¬ç§»ä½“ç°"ç»§ç»­vsé‡æ–°å¼€å§‹"çš„å†³ç­–**
3. **å…¨å±€æœ€ä¼˜éœ€è¦åœ¨æ‰€æœ‰å±€éƒ¨æœ€ä¼˜ä¸­é€‰æ‹©**
4. **ä¸å…¶ä»–DPçš„åŒºåˆ«**ï¼š
   - çˆ¬æ¥¼æ¢¯(70é¢˜)ï¼šé€’æ¨å…³ç³» `f(n) = f(n-1) + f(n-2)`
   - æ‰“å®¶åŠ«èˆ(198é¢˜)ï¼šå†³ç­–å…³ç³» `f(n) = max(é€‰æ‹©A, é€‰æ‹©B)`
   - æœ€å¤§å­æ•°ç»„(53é¢˜)ï¼šè¿ç»­çº¦æŸ `f(n) = max(ç»§ç»­, é‡æ–°å¼€å§‹)`

### å¤æ‚åº¦åˆ†æ
- **Kadaneç®—æ³•**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1) - æœ€ä¼˜è§£
- **åˆ†æ²»ç®—æ³•**: æ—¶é—´O(n log n)ï¼Œç©ºé—´O(log n) - é€’å½’æ ˆ
- **æš´åŠ›æšä¸¾**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(1) - è¶…æ—¶

### æ˜“é”™ç‚¹
1. **å…¨å±€æœ€ä¼˜è§£**: éœ€è¦éå†æ‰€æœ‰dp[i]å–æœ€å¤§å€¼ï¼Œä¸æ˜¯dp[n-1]
2. **è¾¹ç•Œæ¡ä»¶**: å•ä¸ªå…ƒç´ æ—¶çš„å¤„ç†
3. **åˆ†æ²»è¾¹ç•Œ**: å¾ªç¯æ¡ä»¶åº”è¯¥ç”¨`>=`å’Œ`<=`åŒ…å«è¾¹ç•Œ

### æ‰©å±•åº”ç”¨
- 152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ (å¤„ç†è´Ÿæ•°ä¹˜ç§¯)
- 718. æœ€é•¿é‡å¤å­æ•°ç»„ (é•¿åº¦æœ€å¤§å€¼)
- 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ (æ»‘åŠ¨çª—å£å˜ç§)

### å…³é”®ç†è§£
è¿ç»­å­æ•°ç»„DPçš„ç²¾é«“åœ¨äº**åœ¨ä¿æŒè¿ç»­æ€§çº¦æŸä¸‹åšæœ€ä¼˜å†³ç­–**ï¼šæ¯æ­¥éƒ½è¦é—®"æˆ‘æ˜¯ç»§ç»­ä¹‹å‰çš„ç´¯ç§¯ï¼Œè¿˜æ˜¯ä»å½“å‰ä½ç½®é‡æ–°å¼€å§‹ï¼Ÿ"

---

## 322. é›¶é’±å…‘æ¢ (Medium)

### æ ¸å¿ƒæ€æƒ³
å®Œå…¨èƒŒåŒ…åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼Œæ¯ä¸ªç¡¬å¸å¯ä»¥ä½¿ç”¨æ— é™æ¬¡ï¼Œæ±‚ç»„æˆç›®æ ‡é‡‘é¢æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = ç»„æˆé‡‘é¢iæ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = min(dp[i-coin] + 1) for all valid coins
   ```
   é€»è¾‘ï¼šå¯¹äºé‡‘é¢iï¼Œå°è¯•ä½¿ç”¨æ¯ç§ç¡¬å¸ï¼Œé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0] = 0                    // ç»„æˆé‡‘é¢0éœ€è¦0ä¸ªç¡¬å¸
   dp[i] = amount + 1           // åˆå§‹åŒ–ä¸ºä¸å¯èƒ½çš„å¤§å€¼
   ```

4. **æ— è§£åˆ¤æ–­**:
   ```cpp
   return dp[amount] > amount ? -1 : dp[amount];
   ```

### å®Œå…¨èƒŒåŒ…vs01èƒŒåŒ…
- **01èƒŒåŒ…**: æ¯ä¸ªç‰©å“æœ€å¤šé€‰æ‹©ä¸€æ¬¡
- **å®Œå…¨èƒŒåŒ…**: æ¯ä¸ªç‰©å“å¯ä»¥é€‰æ‹©æ— é™æ¬¡
- **å…³é”®åŒºåˆ«**: å®Œå…¨èƒŒåŒ…åœ¨å†…å±‚å¾ªç¯ä¸­å¯ä»¥ä½¿ç”¨å·²æ›´æ–°çš„dpå€¼

### å››ç§å®ç°æ–¹å¼

#### 1. é€’å½’è§£æ³• (ä¼šè¶…æ—¶)
```cpp
int helper(vector<int>& coins, int amount) {
    if(amount == 0) return 0;
    if(amount < 0) return -1;
    
    int minCoins = INT_MAX;
    for(int coin : coins) {
        int subResult = helper(coins, amount - coin);
        if(subResult != -1) {
            minCoins = min(minCoins, subResult + 1);
        }
    }
    return minCoins == INT_MAX ? -1 : minCoins;
}
```
**é—®é¢˜**: æŒ‡æ•°çº§æ—¶é—´å¤æ‚åº¦O(S^n)ï¼Œå¤§é‡é‡å¤è®¡ç®—

#### 2. è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹)
```cpp
int helperMemo(vector<int>& coins, int amount, vector<int>& memo) {
    if(amount == 0) return 0;
    if(amount < 0) return -1;
    if(memo[amount] != -2) return memo[amount];
    
    int minCoins = INT_MAX;
    for(int coin : coins) {
        int subResult = helperMemo(coins, amount - coin, memo);
        if(subResult != -1) {
            minCoins = min(minCoins, subResult + 1);
        }
    }
    memo[amount] = (minCoins == INT_MAX) ? -1 : minCoins;
    return memo[amount];
}
```

#### 3. åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Š) â­ æ¨è
```cpp
int coinChangeDP(vector<int>& coins, int amount) {
    vector<int> dp(amount + 1, amount + 1);  // åˆå§‹åŒ–ä¸ºä¸å¯èƒ½çš„å¤§å€¼
    dp[0] = 0;  // è¾¹ç•Œæ¡ä»¶
    
    for(int i = 1; i <= amount; i++) {
        for(int coin : coins) {
            if(coin <= i) {
                dp[i] = min(dp[i], dp[i - coin] + 1);
            }
        }
    }
    
    return dp[amount] > amount ? -1 : dp[amount];
}
```


### å…³é”®ç†è§£ç‚¹

#### ä¸ºä»€ä¹ˆåˆå§‹åŒ–ä¸ºamount + 1ï¼Ÿ
- **ç†è®ºä¸Šç•Œ**: ç»„æˆä»»æ„é‡‘é¢æœ€å¤šéœ€è¦amountä¸ªé¢é¢ä¸º1çš„ç¡¬å¸
- **é¿å…æº¢å‡º**: æ¯”ä½¿ç”¨INT_MAXæ›´å®‰å…¨
- **ä¾¿äºåˆ¤æ–­**: dp[amount] > amount è¯´æ˜æ— è§£

#### å¾ªç¯é¡ºåºä¸ºä»€ä¹ˆæ­£ç¡®ï¼Ÿ
```cpp
for(int i = 1; i <= amount; i++) {        // å¤–å±‚ï¼šé‡‘é¢
    for(int coin : coins) {               // å†…å±‚ï¼šç¡¬å¸
        if(coin <= i) {
            dp[i] = min(dp[i], dp[i - coin] + 1);
        }
    }
}
```
å®Œå…¨èƒŒåŒ…å…è®¸é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯ä½¿ç”¨å·²æ›´æ–°çš„dpå€¼æ˜¯æ­£ç¡®çš„ã€‚

### æ˜“é”™ç‚¹è®°å½•

#### 1. å¾ªç¯è¾¹ç•Œé”™è¯¯ âŒ
```cpp
for(int i = 1; i < amount; i++) {  // é”™è¯¯ï¼šåº”è¯¥æ˜¯ i <= amount
```
**åæœ**: æ— æ³•è®¡ç®—dp[amount]ï¼Œå¯¼è‡´è¿”å›é”™è¯¯ç»“æœ

#### 2. ç¼–è¯‘é”™è¯¯
ä½¿ç”¨C++11ç‰¹æ€§ï¼ˆrange-based forå¾ªç¯ã€initializer listï¼‰éœ€è¦ç¼–è¯‘å™¨æ”¯æŒï¼š
```bash
g++ -std=c++11 -o problem_322 problem_322_template.cpp
```

### å¤æ‚åº¦åˆ†æ
- **é€’å½’**: æ—¶é—´O(S^n)ï¼Œç©ºé—´O(S) - Sæ˜¯é‡‘é¢ï¼Œnæ˜¯ç¡¬å¸ç§ç±»æ•°
- **è®°å¿†åŒ–**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S)
- **åŠ¨æ€è§„åˆ’**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S) â­ æœ€ä¼˜è§£
- **BFS**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S)

### æ‰©å±•åº”ç”¨
- 518. é›¶é’±å…‘æ¢II (ç»„åˆæ•°é—®é¢˜)
- 279. å®Œå…¨å¹³æ–¹æ•° (æœ€å°‘å¹³æ–¹æ•°)
- 377. ç»„åˆæ€»å’Œâ…£ (æ’åˆ—æ•°é—®é¢˜)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼š
- coins=[1,2,5], amount=11 â†’ 3 (5+5+1)
- coins=[2], amount=3 â†’ -1 (æ— è§£)
- coins=[1], amount=0 â†’ 0 (è¾¹ç•Œæƒ…å†µ)
- coins=[1,3,4], amount=6 â†’ 2 (3+3)
- coins=[3,5], amount=1 â†’ -1 (æ— è§£)

### å…³é”®æ´å¯Ÿ
å®Œå…¨èƒŒåŒ…DPçš„ç²¾é«“åœ¨äº**å»ºæ¨¡æ— é™é€‰æ‹©çš„æœ€ä¼˜åŒ–é—®é¢˜**ï¼šå°†"æ¯ä¸ªç‰©å“å¯ä»¥é€‰æ‹©æ— é™æ¬¡"è½¬åŒ–ä¸º"åœ¨çŠ¶æ€è½¬ç§»ä¸­å…è®¸é‡å¤ä½¿ç”¨å·²è®¡ç®—çš„ç»“æœ"ã€‚

---

## 300. æœ€é•¿é€’å¢å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åºåˆ—åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼ŒæŒæ¡ä»¥"ä½ç½®ç»“å°¾"çš„çŠ¶æ€å®šä¹‰æ€ç»´ï¼ŒåŒæ—¶å­¦ä¹ è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾çš„O(n log n)ä¼˜åŒ–ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = ä»¥nums[i]ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = max(dp[j] + 1) for all j < i and nums[j] < nums[i]
   ```
   é€»è¾‘ï¼šå¯¹äºæ¯ä¸ªä½ç½®iï¼Œæ£€æŸ¥æ‰€æœ‰å‰é¢æ›´å°çš„å…ƒç´ ï¼Œé€‰æ‹©æœ€ä¼˜è½¬ç§»

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[i] = 1  // æ¯ä¸ªå…ƒç´ è‡ªå·±æ„æˆé•¿åº¦ä¸º1çš„åºåˆ—
   ```

4. **æœ€ç»ˆç­”æ¡ˆ**:
   ```cpp
   return max(dp[i]) for all i  // éœ€è¦éå†æ‰€æœ‰ä½ç½®å–æœ€å¤§å€¼
   ```

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. åŠ¨æ€è§„åˆ’ O(nÂ²) - ç»å…¸è§£æ³• â­
```cpp
int lengthOfLISDP(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    
    vector<int> dp(n, 1);  // åˆå§‹åŒ–ä¸º1
    
    for(int i = 1; i < n; i++) {
        for(int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) {
                dp[i] = max(dp[i], dp[j] + 1);
            }
        }
    }
    
    return *max_element(dp.begin(), dp.end());
}
```

#### 2. è®°å¿†åŒ–æœç´¢ O(nÂ²) - è‡ªé¡¶å‘ä¸‹
```cpp
int lengthOfLISMemo(vector<int>& nums) {
    int n = nums.size();
    vector<int> memo(n, -1);
    int maxResult = 1;
    for(int i = 0; i < n; i++) {
        maxResult = max(maxResult, helper(nums, i, memo));
    }
    return maxResult;
}

int helper(vector<int>& nums, int i, vector<int>& memo) {
    if (memo[i] != -1) return memo[i];  // ç¼“å­˜å‘½ä¸­
    memo[i] = 1;  // åŸºç¡€æƒ…å†µ
    for(int j = 0; j < i; j++) {
        if (nums[j] < nums[i]) {
            memo[i] = max(memo[i], helper(nums, j, memo) + 1);
        }
    }
    return memo[i];
}
```

#### 3. è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾ O(n log n) - æœ€ä¼˜è§£ â­â­
```cpp
int lengthOfLISBinary(vector<int>& nums) {
    vector<int> tails;
    for (int num : nums) {
        int pos = tails.size();
        int left = 0, right = tails.size() - 1;
        
        // äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ª >= num çš„ä½ç½®
        while(left <= right) {
            int mid = left + (right - left) / 2;
            if(tails[mid] >= num) {
                pos = mid;
                right = mid - 1;
            } else {
                left = mid + 1; 
            }
        }
        
        if(pos == tails.size()) {
            tails.push_back(num);  // æ·»åŠ åˆ°æœ«å°¾
        } else {
            tails[pos] = num;      // æ›¿æ¢
        }
    }
    return tails.size();
}
```

### è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾æ·±åº¦ç†è§£

#### æ ¸å¿ƒæ€æƒ³
- **tails[i]** = é•¿åº¦ä¸ºi+1çš„é€’å¢å­åºåˆ—çš„æœ€å°å°¾å…ƒç´ 
- **ä¸ºä»€ä¹ˆè¦æœ€å°ï¼Ÿ** å°¾å…ƒç´ è¶Šå°ï¼Œåç»­æ·»åŠ æ–°å…ƒç´ çš„æœºä¼šè¶Šå¤§

#### ç®—æ³•æ­¥éª¤
1. å¯¹æ¯ä¸ªæ–°å…ƒç´ numï¼š
   - å¦‚æœnum > tailsä¸­æ‰€æœ‰å…ƒç´  â†’ ç›´æ¥æ·»åŠ åˆ°æœ«å°¾ï¼ˆå»¶é•¿åºåˆ—ï¼‰
   - å¦åˆ™ â†’ äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªâ‰¥numçš„ä½ç½®å¹¶æ›¿æ¢ï¼ˆä¿æŒæœ€å°å°¾å…ƒç´ ï¼‰

#### å…³é”®æ´å¯Ÿ
- **tailsæ•°ç»„å§‹ç»ˆä¿æŒä¸¥æ ¼é€’å¢**
- **tailsé•¿åº¦ = æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦**
- **tailså†…å®¹ä¸ä¸€å®šæ˜¯çœŸå®çš„LISï¼Œä½†é•¿åº¦ä¿è¯æ­£ç¡®**

### æ˜“é”™ç‚¹è®°å½•

#### 1. DPçŠ¶æ€è½¬ç§»é”™è¯¯ âŒ
```cpp
dp[i] = max(dp[j] + 1);  // é”™è¯¯ï¼šç¼ºå°‘dp[i]å‚æ•°
```
**æ­£ç¡®å†™æ³•**:
```cpp
dp[i] = max(dp[i], dp[j] + 1);  // éœ€è¦æ¯”è¾ƒå½“å‰å€¼å’Œæ–°å€¼
```

#### 2. äºŒåˆ†æŸ¥æ‰¾è¯­æ³•é”™è¯¯ âŒ
```cpp
int left = 0; right = tails.size() - 1;  // é”™è¯¯ï¼šç¼ºå°‘ç±»å‹å£°æ˜
```
**æ­£ç¡®å†™æ³•**:
```cpp
int left = 0, right = tails.size() - 1;  // é€—å·åˆ†éš”ï¼Œç»Ÿä¸€å£°æ˜
```

#### 3. äºŒåˆ†æŸ¥æ‰¾midè®¡ç®—ä½ç½®é”™è¯¯ âŒ
```cpp
int mid = (left + right) / 2;  // æ”¾åœ¨whileå¤–é¢
while(left <= right) {
    // ä½¿ç”¨è¿‡æ—¶çš„midå€¼
}
```
**æ­£ç¡®å†™æ³•**:
```cpp
while(left <= right) {
    int mid = left + (right - left) / 2;  // æ¯æ¬¡å¾ªç¯é‡æ–°è®¡ç®—
}
```

#### 4. è®°å¿†åŒ–æœç´¢è¯­æ³•é”™è¯¯ âŒ
```cpp
if memo[i] != -1 return memo[i];  // ç¼ºå°‘æ‹¬å·
for(int j=0; j<i; i++) {          // å¾ªç¯å˜é‡é”™è¯¯
```
**æ­£ç¡®å†™æ³•**:
```cpp
if (memo[i] != -1) return memo[i];  // åŠ æ‹¬å·
for(int j=0; j<i; j++) {            // j++è€Œä¸æ˜¯i++
```

#### 5. åˆå§‹åŒ–çš„é‡è¦æ€§
```cpp
int pos = tails.size();  // ğŸ”‘ å…³é”®ï¼šåˆå§‹åŒ–ä¸º"æœªæ‰¾åˆ°"æ ‡å¿—
```
è¿™ä¸ªåˆå§‹åŒ–ç¡®ä¿äº†å½“æ²¡æ‰¾åˆ°â‰¥numçš„å…ƒç´ æ—¶ï¼Œposä¿æŒä¸ºtails.size()ï¼Œä»è€Œæ­£ç¡®æ‰§è¡Œpush_backæ“ä½œã€‚

### åºåˆ—DPç‰¹å¾æ€»ç»“
1. **çŠ¶æ€å®šä¹‰å¿…é¡»åŒ…å«"ä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾"**
2. **éœ€è¦æ£€æŸ¥å‰é¢æ‰€æœ‰å¯èƒ½çš„è½¬ç§»çŠ¶æ€**
3. **æœ€ç»ˆç­”æ¡ˆéœ€è¦éå†æ‰€æœ‰çŠ¶æ€å–æœ€ä¼˜å€¼**
4. **ä¸å…¶ä»–DPç±»å‹çš„åŒºåˆ«**ï¼š
   - çˆ¬æ¥¼æ¢¯ï¼šé€’æ¨å…³ç³»
   - æ‰“å®¶åŠ«èˆï¼šå†³ç­–å…³ç³»  
   - æœ€å¤§å­æ•°ç»„ï¼šè¿ç»­çº¦æŸ
   - é›¶é’±å…‘æ¢ï¼šå®Œå…¨èƒŒåŒ…
   - **æœ€é•¿é€’å¢å­åºåˆ—ï¼šåºåˆ—å…³ç³»**

### å¤æ‚åº¦åˆ†æ
- **DPè§£æ³•**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(n)
- **è®°å¿†åŒ–**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(n) + é€’å½’æ ˆ
- **è´ªå¿ƒ+äºŒåˆ†**: æ—¶é—´O(n log n)ï¼Œç©ºé—´O(n) â­ æœ€ä¼˜è§£

### æ‰©å±•åº”ç”¨
- 354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜ (äºŒç»´LIS)
- 673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•° (è®¡æ•°é—®é¢˜)
- 1143. æœ€é•¿å…¬å…±å­åºåˆ— (åŒåºåˆ—DP)
- 368. æœ€å¤§æ•´é™¤å­é›† (ç‰¹æ®Šçº¦æŸçš„LIS)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰ä¸‰ç§å®ç°å‡é€šè¿‡å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹ï¼š
- [10,9,2,5,3,7,101,18] â†’ 4
- [0,1,0,3,2,3] â†’ 4  
- [7,7,7,7,7,7,7] â†’ 1
- [1,3,6,7,9,4,10,5,6] â†’ 6
- [10] â†’ 1

### å…³é”®æ´å¯Ÿ
åºåˆ—DPçš„ç²¾é«“åœ¨äº**æ­£ç¡®å»ºæ¨¡"ä»¥æŸä½ç½®ç»“å°¾"çš„çŠ¶æ€**ï¼Œé€šè¿‡æ£€æŸ¥æ‰€æœ‰å‰é©±çŠ¶æ€æ¥æ„å»ºæœ€ä¼˜è§£ã€‚è´ªå¿ƒ+äºŒåˆ†çš„ä¼˜åŒ–ä½“ç°äº†**ç»´æŠ¤å…³é”®ä¿¡æ¯è€Œéå®Œæ•´çŠ¶æ€**çš„ç®—æ³•è®¾è®¡æ€æƒ³ã€‚

---

## 1143. æœ€é•¿å…¬å…±å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åŒåºåˆ—åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼Œç”¨äºŒç»´DPè¡¨è¡¨ç¤ºä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»ï¼ŒæŒæ¡å­—ç¬¦åŒ¹é…/ä¸åŒ¹é…çš„çŠ¶æ€è½¬ç§»ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i][j]` = text1å‰iä¸ªå­—ç¬¦å’Œtext2å‰jä¸ªå­—ç¬¦çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```cpp
   if (text1[i-1] == text2[j-1]):
       dp[i][j] = dp[i-1][j-1] + 1      // å­—ç¬¦åŒ¹é…ï¼šå·¦ä¸Šè§’+1
   else:
       dp[i][j] = max(dp[i-1][j],       // ä¸Šè¾¹ï¼šä¸ä½¿ç”¨text1[i-1]
                      dp[i][j-1])       // å·¦è¾¹ï¼šä¸ä½¿ç”¨text2[j-1]
   ```

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0][j] = 0  // ç©ºå­—ç¬¦ä¸²ä¸ä»»ä½•å­—ç¬¦ä¸²çš„LCSä¸º0
   dp[i][0] = 0  // ä»»ä½•å­—ç¬¦ä¸²ä¸ç©ºå­—ç¬¦ä¸²çš„LCSä¸º0
   ```

4. **å“¨å…µæŠ€å·§**:
   - åˆ›å»º`(m+1) x (n+1)`çš„DPè¡¨ï¼Œå¤šå‡ºçš„ä¸€è¡Œä¸€åˆ—ä½œä¸ºè¾¹ç•Œå¤„ç†
   - é¿å…ç‰¹æ®Šåˆ¤æ–­ï¼Œç®€åŒ–ä»£ç é€»è¾‘

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. äºŒç»´åŠ¨æ€è§„åˆ’ O(mn) - ç»å…¸è§£æ³• â­
```cpp
int longestCommonSubsequenceDP(string text1, string text2) {
    int m = text1.length(), n = text2.length();
    
    // å“¨å…µæŠ€å·§ï¼šå¤šä¸€è¡Œä¸€åˆ—å¤„ç†è¾¹ç•Œ
    vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
    
    for(int i = 0; i < m; i++) {
        for(int j = 0; j < n; j++) {
            if(text1[i] == text2[j]) {
                dp[i+1][j+1] = dp[i][j] + 1;        // å·¦ä¸Šè§’+1
            } else {
                dp[i+1][j+1] = max(dp[i+1][j],      // å·¦è¾¹
                                   dp[i][j+1]);     // ä¸Šè¾¹
            }
        }
    }
    
    return dp[m][n];
}
```

#### 2. è®°å¿†åŒ–æœç´¢ O(mn) - è‡ªé¡¶å‘ä¸‹
```cpp
int longestCommonSubsequenceMemo(string text1, string text2) {
    int m = text1.length(), n = text2.length();
    vector<vector<int>> memo(m + 1, vector<int>(n + 1, -1));
    return helper(text1, text2, m, n, memo);
}

int helper(string& text1, string& text2, int i, int j, vector<vector<int>>& memo) {
    if(i == 0 || j == 0) return 0;  // è¾¹ç•Œæ¡ä»¶
    if(memo[i][j] != -1) return memo[i][j];  // ç¼“å­˜å‘½ä¸­
    
    int result;
    if(text1[i-1] == text2[j-1]) {
        result = helper(text1, text2, i-1, j-1, memo) + 1;
    } else {
        result = max(helper(text1, text2, i, j-1, memo),
                    helper(text1, text2, i-1, j, memo));
    }
    
    memo[i][j] = result;  // ç¼“å­˜ç»“æœ
    return result;
}
```

#### 3. ç©ºé—´ä¼˜åŒ– O(min(m,n)) - æ»šåŠ¨æ•°ç»„ â­â­
```cpp
int longestCommonSubsequenceOptimized(string text1, string text2) {
    int m = text1.size(), n = text2.size();
    if(m == 0 || n == 0) return 0;

    // ä¸¤è¡Œæ»šåŠ¨æ•°ç»„
    vector<int> pre(n + 1, 0);   // ä¸Šä¸€è¡Œ
    vector<int> curr(n + 1, 0);  // å½“å‰è¡Œ

    for(int i = 0; i < m; i++) {
        curr[0] = 0;  // è¾¹ç•Œæ¡ä»¶
        for(int j = 0; j < n; j++) {
            if(text1[i] == text2[j]) {
                curr[j+1] = pre[j] + 1;         // å·¦ä¸Šè§’+1
            } else {
                curr[j+1] = max(pre[j+1],       // ä¸Šè¾¹
                               curr[j]);        // å·¦è¾¹
            }
        }
        swap(pre, curr);  // æ»šåŠ¨ï¼šé«˜æ•ˆäº¤æ¢
    }
    
    return pre[n];  // æœ€ç»ˆç»“æœåœ¨pre[n]
}
```

### æ»šåŠ¨æ•°ç»„æ·±åº¦ç†è§£

#### æ ¸å¿ƒæ€æƒ³
- **è§‚å¯Ÿä¾èµ–å…³ç³»**ï¼š`dp[i][j]` åªä¾èµ–äº `dp[i-1][j-1]`ã€`dp[i-1][j]`ã€`dp[i][j-1]`
- **ç©ºé—´ä¼˜åŒ–ç­–ç•¥**ï¼šåªä¿å­˜ä¸Šä¸€è¡Œå’Œå½“å‰è¡Œï¼Œä¸éœ€è¦æ•´ä¸ªäºŒç»´è¡¨
- **æ»šåŠ¨æœºåˆ¶**ï¼šè®¡ç®—å®Œå½“å‰è¡Œåï¼Œé€šè¿‡swapè®©å½“å‰è¡Œå˜æˆä¸‹ä¸€è½®çš„"ä¸Šä¸€è¡Œ"

#### æ•°ç»„å¯¹åº”å…³ç³»
| äºŒç»´DP | æ»šåŠ¨æ•°ç»„ | è¯´æ˜ |
|--------|----------|------|
| `dp[i-1][j-1]` | `pre[j]` | å·¦ä¸Šè§’ï¼šä¸Šä¸€è¡Œçš„jä½ç½® |
| `dp[i-1][j]` | `pre[j+1]` | ä¸Šè¾¹ï¼šä¸Šä¸€è¡Œçš„j+1ä½ç½® |
| `dp[i][j-1]` | `curr[j]` | å·¦è¾¹ï¼šå½“å‰è¡Œçš„jä½ç½® |
| `dp[i][j]` | `curr[j+1]` | å½“å‰ä½ç½®ï¼šå½“å‰è¡Œçš„j+1ä½ç½® |

#### ä¸ºä»€ä¹ˆè¿”å›pre[n]ï¼Ÿ
```cpp
// æœ€åä¸€è½®å¾ªç¯ç»“æŸæ—¶
curr = [æœ€åä¸€è¡Œçš„è®¡ç®—ç»“æœ]
swap(pre, curr);  // äº¤æ¢å
pre = [æœ€åä¸€è¡Œçš„ç»“æœ] â† æœ€ç»ˆç­”æ¡ˆåœ¨è¿™é‡Œ
```

### åŒåºåˆ—DPç‰¹å¾æ€»ç»“
1. **äºŒç»´çŠ¶æ€ç©ºé—´**ï¼šéœ€è¦è€ƒè™‘ä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»
2. **åŒ¹é…å†³ç­–**ï¼šå­—ç¬¦åŒ¹é…æ—¶å»¶ç»­å­é—®é¢˜ï¼Œä¸åŒ¹é…æ—¶é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
3. **è¾¹ç•Œå¤„ç†**ï¼šç©ºåºåˆ—ä½œä¸ºè¾¹ç•Œæ¡ä»¶ï¼Œé€šå¸¸ç»“æœä¸º0
4. **ç©ºé—´ä¼˜åŒ–**ï¼šå¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ï¼Œä½†ä¸èƒ½æ„é€ å…·ä½“åºåˆ—
5. **æ—¶é—´å¤æ‚åº¦**ï¼šé€šå¸¸ä¸ºO(mn)ï¼Œéš¾ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–

### ä¸LISå¯¹æ¯”åˆ†æ
| ç‰¹å¾ | LIS (300é¢˜) | LCS (1143é¢˜) |
|------|-------------|--------------|
| åºåˆ—æ•°é‡ | å•åºåˆ— | åŒåºåˆ— |
| çŠ¶æ€å®šä¹‰ | `dp[i]` = ä»¥iç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ— | `dp[i][j]` = ä¸¤åºåˆ—å‰ç¼€çš„LCS |
| çŠ¶æ€è½¬ç§» | æ£€æŸ¥æ‰€æœ‰å‰é©±ï¼Œé€‰æ‹©æœ€ä¼˜ | è€ƒè™‘åŒ¹é…/ä¸åŒ¹é…ï¼Œé€‰æ‹©æœ€ä¼˜ |
| å¤æ‚åº¦ | O(nÂ²) â†’ O(n log n) | O(mn) â†’ O(min(m,n)) |
| ä¼˜åŒ–æ–¹å¼ | è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾ | æ»šåŠ¨æ•°ç»„ |

### æ˜“é”™ç‚¹è®°å½•

#### 1. è®°å¿†åŒ–æœç´¢å­—ç¬¦æ¯”è¾ƒé”™è¯¯ âŒ
```cpp
if(text1[i] == text2[j]) {  // é”™è¯¯ï¼šå‚æ•°i,jè¡¨ç¤ºé•¿åº¦
```
**æ­£ç¡®å†™æ³•**:
```cpp
if(text1[i-1] == text2[j-1]) {  // å­—ç¬¦ä¸‹æ ‡è¦å‡1
```

#### 2. æ»šåŠ¨æ•°ç»„çŠ¶æ€è½¬ç§»é”™è¯¯ âŒ
```cpp
curr[j+1] = curr[j] + 1;  // é”™è¯¯ï¼šåº”è¯¥æ˜¯å·¦ä¸Šè§’+1
```
**æ­£ç¡®å†™æ³•**:
```cpp
curr[j+1] = pre[j] + 1;  // å·¦ä¸Šè§’+1
```

### å¤æ‚åº¦åˆ†æ
- **äºŒç»´DP**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(mn)
- **è®°å¿†åŒ–**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(mn) + é€’å½’æ ˆ
- **æ»šåŠ¨æ•°ç»„**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(min(m,n)) â­ æœ€ä¼˜ç©ºé—´

### æ‰©å±•åº”ç”¨
- 72. ç¼–è¾‘è·ç¦» (æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢æ“ä½œ)
- 97. äº¤é”™å­—ç¬¦ä¸² (è·¯å¾„åŒ¹é…é—®é¢˜)
- 115. ä¸åŒçš„å­åºåˆ— (è®¡æ•°DP)
- 516. æœ€é•¿å›æ–‡å­åºåˆ— (LCSå˜ç§)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰å®ç°å‡é€šè¿‡å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹ï¼š
- "abcde" vs "ace" â†’ 3 (LCS: "ace")
- "abc" vs "abc" â†’ 3 (å®Œå…¨ç›¸åŒ)
- "abc" vs "def" â†’ 0 (æ— å…¬å…±å­—ç¬¦)
- "abcdgh" vs "aedfhr" â†’ 3 (LCS: "adh")
- "a" vs "a" â†’ 1 (å•å­—ç¬¦åŒ¹é…)

### å…³é”®æ´å¯Ÿ
åŒåºåˆ—DPçš„ç²¾é«“åœ¨äº**å»ºæ¨¡ä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»**ï¼Œé€šè¿‡äºŒç»´çŠ¶æ€ç©ºé—´è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„åŒ¹é…ç»„åˆã€‚æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ä½“ç°äº†**æœ€å°åŒ–çŠ¶æ€å­˜å‚¨**çš„ç©ºé—´ä¼˜åŒ–æ€æƒ³ã€‚

---

## 516. æœ€é•¿å›æ–‡å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åŒºé—´åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼ŒæŒæ¡"æ»‘åŠ¨çª—å£å¼"çš„åŒºé—´éå†æ€ç»´ï¼Œç†è§£å¤§åŒºé—´ä¾èµ–å°åŒºé—´çš„çŠ¶æ€è½¬ç§»ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i][j]` = å­—ç¬¦ä¸²s[i..j]èŒƒå›´å†…çš„æœ€é•¿å›æ–‡å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```cpp
   if (s[i] == s[j]):
       dp[i][j] = dp[i+1][j-1] + 2    // ä¸¤ç«¯åŒ¹é…ï¼Œé•¿åº¦+2
   else:
       dp[i][j] = max(dp[i+1][j], dp[i][j-1])  // é€‰æ‹©æ›´ä¼˜çš„å­åŒºé—´
   ```

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[i][i] = 1  // å•ä¸ªå­—ç¬¦çš„å›æ–‡é•¿åº¦ä¸º1
   ```

4. **éå†é¡ºåº**: æŒ‰åŒºé—´é•¿åº¦ä»å°åˆ°å¤§ï¼ˆå…³é”®ï¼ï¼‰
   ```cpp
   for(int len = 2; len <= n; len++) {        // åŒºé—´é•¿åº¦
       for(int i = 0; i <= n - len; i++) {    // å·¦ç«¯ç‚¹
           int j = i + len - 1;               // å³ç«¯ç‚¹
           // çŠ¶æ€è½¬ç§»...
       }
   }
   ```

### æ ¸å¿ƒæ´å¯Ÿ

#### åŒºé—´DPçš„"æ»‘åŠ¨çª—å£"æ€ç»´
- **å¤–å±‚å¾ªç¯**: å›ºå®šçª—å£å¤§å°(len = 2, 3, 4, ...)
- **å†…å±‚å¾ªç¯**: å°†å›ºå®šå¤§å°çš„çª—å£åœ¨å­—ç¬¦ä¸²ä¸Šæ»‘åŠ¨
- **ä¾èµ–å…³ç³»**: å¤§çª—å£çš„è®¡ç®—ä¾èµ–å°çª—å£çš„ç»“æœ

#### ä¸LCSçš„å·§å¦™è”ç³»
- **è½¬åŒ–æ€æƒ³**: sçš„æœ€é•¿å›æ–‡å­åºåˆ— = sä¸reverse(s)çš„æœ€é•¿å…¬å…±å­åºåˆ—
- **åŸç†**: å›æ–‡åºåˆ—åœ¨åŸä¸²å’Œåè½¬ä¸²ä¸­éƒ½å­˜åœ¨
- **ä¼˜åŠ¿**: å¯ä»¥ç›´æ¥å¤ç”¨LCSä»£ç 

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. åŒºé—´DP - O(nÂ²) â­ æ¨è
```cpp
int longestPalindromeSubseqDP(string s) {
    int n = s.length();
    vector<vector<int>> dp(n, vector<int>(n, 0));
    
    // åˆå§‹åŒ–ï¼šå•ä¸ªå­—ç¬¦
    for(int i = 0; i < n; i++) {
        dp[i][i] = 1;
    }
    
    // æŒ‰åŒºé—´é•¿åº¦å¡«å……
    for(int len = 2; len <= n; len++) {
        for(int i = 0; i <= n - len; i++) {
            int j = i + len - 1;
            if(s[i] == s[j]) {
                dp[i][j] = dp[i+1][j-1] + 2;
            } else {
                dp[i][j] = max(dp[i+1][j], dp[i][j-1]);
            }
        }
    }
    return dp[0][n-1];
}
```

#### 2. è®°å¿†åŒ–æœç´¢ - O(nÂ²)
```cpp
int helper(string& s, int i, int j, vector<vector<int>>& memo) {
    if(i > j) return 0;
    if(i == j) return 1;
    if(memo[i][j] != -1) return memo[i][j];
    
    if(s[i] == s[j]) {
        memo[i][j] = helper(s, i+1, j-1, memo) + 2;
    } else {
        memo[i][j] = max(helper(s, i+1, j, memo), helper(s, i, j-1, memo));
    }
    return memo[i][j];
}
```

#### 3. LCSè½¬åŒ– - O(nÂ²)
```cpp
int longestPalindromeSubseqLCS(string s) {
    string rev_s = s;
    reverse(rev_s.begin(), rev_s.end());
    return longestCommonSubsequence(s, rev_s);
}
```

### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(nÂ²) - åŒé‡å¾ªç¯å¡«å……DPè¡¨
- **ç©ºé—´å¤æ‚åº¦**: O(nÂ²) - äºŒç»´DPè¡¨
- **ä¼˜åŒ–å¯èƒ½**: æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´ï¼Œä½†å®ç°å¤æ‚

### æ˜“é”™ç‚¹
1. **éå†é¡ºåºé”™è¯¯**: å¿…é¡»æŒ‰åŒºé—´é•¿åº¦é€’å¢ï¼Œä¸èƒ½æŒ‰åæ ‡éå†
2. **è¾¹ç•Œæ¡ä»¶**: `len <= n` ä¸æ˜¯ `len < n`
3. **å¾ªç¯è¾¹ç•Œ**: `i <= n - len` ä¿è¯jä¸è¶Šç•Œ
4. **å…¬å¼é”™è¯¯**: `j = i + len - 1` ä¸æ˜¯å…¶ä»–å…¬å¼

### ä¸å…¶ä»–DPç±»å‹å¯¹æ¯”
| DPç±»å‹ | çŠ¶æ€å®šä¹‰ | éå†é¡ºåº | è½¬ç§»ç‰¹ç‚¹ |
|--------|----------|----------|----------|
| åºåˆ—DP | ä»¥ä½ç½®ç»“å°¾ | ä»å‰å¾€å | æ£€æŸ¥æ‰€æœ‰å‰é©± |
| åŒåºåˆ—DP | ä¸¤åºåˆ—å‰ç¼€ | åŒé‡é€’å¢ | åŒ¹é…/ä¸åŒ¹é… |
| **åŒºé—´DP** | åŒºé—´èŒƒå›´ | æŒ‰é•¿åº¦é€’å¢ | ç«¯ç‚¹å¤„ç† |

### æ‰©å±•åº”ç”¨
- 5. æœ€é•¿å›æ–‡å­ä¸² (è¿ç»­æ€§çº¦æŸ)
- 312. æˆ³æ°”çƒ (ä¹˜ç§¯æœ€å¤§åŒ–)
- 1039. å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†
- 87. æ‰°ä¹±å­—ç¬¦ä¸²

### æµ‹è¯•ç»“æœ
æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼š
- "bbbab" â†’ 4 (LPS: "bbbb")
- "cbbd" â†’ 2 (LPS: "bb")
- "a" â†’ 1 (å•å­—ç¬¦)
- "abcba" â†’ 5 (æ•´ä¸ªä¸²å°±æ˜¯å›æ–‡)
- "aabaa" â†’ 5 (æ•´ä¸ªä¸²å°±æ˜¯å›æ–‡)

### å…³é”®æ´å¯Ÿ
åŒºé—´DPçš„ç²¾é«“åœ¨äº**æŒ‰åŒºé—´é•¿åº¦é€’å¢çš„éå†ç­–ç•¥**ï¼Œç¡®ä¿è®¡ç®—å¤§åŒºé—´æ—¶æ‰€éœ€çš„å°åŒºé—´å·²ç»è®¡ç®—å®Œæ¯•ã€‚"æ»‘åŠ¨çª—å£"çš„æ€ç»´æ¨¡å¼å¸®åŠ©ç†è§£è¿™ç§éå†é¡ºåºçš„å¿…è¦æ€§ã€‚

---

## 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ (Easy)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘æ·±åº¦é—®é¢˜çš„å…¥é—¨ç»å…¸ï¼Œä½“ç°äº†**æ ‘å½¢é€’å½’**çš„åŸºæœ¬æ€ç»´æ¨¡å¼ï¼šå¤§æ ‘çš„é—®é¢˜åˆ†è§£ä¸ºå­æ ‘çš„é—®é¢˜ã€‚

### å…³é”®é€»è¾‘
1. **é€’å½’ç»“æ„**:
   - æ ‘çš„æ·±åº¦ = max(å·¦å­æ ‘æ·±åº¦, å³å­æ ‘æ·±åº¦) + 1
   - ç©ºèŠ‚ç‚¹æ·±åº¦ä¸º0
   
2. **ä¸‰ç§å®ç°æ–¹å¼**:
   ```cpp
   // 1. é€’å½’DFS - æœ€ç›´è§‚
   int maxDepthRecursive(TreeNode* root) {
       if (!root) return 0;
       return max(maxDepthRecursive(root->left), 
                  maxDepthRecursive(root->right)) + 1;
   }
   
   // 2. BFSå±‚åºéå† - æŒ‰å±‚è®¡æ•°
   int maxDepthBFS(TreeNode* root) {
       if (!root) return 0;
       queue<TreeNode*> q;
       q.push(root);
       int depth = 0;
       
       while (!q.empty()) {
           int size = q.size();
           for (int i = 0; i < size; i++) {
               TreeNode* node = q.front();
               q.pop();
               if (node->left) q.push(node->left);
               if (node->right) q.push(node->right);
           }
           depth++;
       }
       return depth;
   }
   
   // 3. DFSæ ˆæ¨¡æ‹Ÿ - æ‰‹åŠ¨ç®¡ç†æ·±åº¦
   int maxDepthDFS(TreeNode* root) {
       if (!root) return 0;
       stack<pair<TreeNode*, int>> st;
       st.push({root, 1});
       int maxDepth = 1;
       
       while (!st.empty()) {
           auto [node, depth] = st.top();
           st.pop();
           maxDepth = max(maxDepth, depth);
           
           if (node->left) st.push({node->left, depth + 1});
           if (node->right) st.push({node->right, depth + 1});
       }
       return maxDepth;
   }
   ```

3. **éå†æ¨¡å¼å¯¹æ¯”**:
   - **é€’å½’DFS**: ååºéå†æ¨¡å¼ï¼Œè‡ªåº•å‘ä¸Šè¿”å›ç»“æœ
   - **BFS**: å±‚åºéå†ï¼Œé€å±‚å¤„ç†ï¼Œå±‚æ•°å³æ·±åº¦
   - **æ ˆDFS**: è‡ªé¡¶å‘ä¸‹ä¼ é€’æ·±åº¦å€¼ï¼Œè®°å½•æœ€å¤§å€¼

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **æ‰€æœ‰æ–¹æ³•**: æ—¶é—´O(n) - æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦å·®å¼‚**:
  - é€’å½’: O(h) - hæ˜¯æ ‘é«˜åº¦ï¼Œæœ€åO(n)ï¼ˆé€€åŒ–ä¸ºé“¾è¡¨ï¼‰
  - BFS: O(w) - wæ˜¯æœ€å¤§å®½åº¦ï¼Œæœ€åO(n)ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰
  - æ ˆDFS: O(h) - åŒé€’å½’

### æ˜“é”™ç‚¹
1. **é€’å½’å‡ºå£**: ç©ºèŠ‚ç‚¹è¿”å›0ï¼Œä¸æ˜¯1
2. **BFSå±‚æ•°è®¡ç®—**: è¦åœ¨å¤„ç†å®Œæ•´ä¸€å±‚åæ‰+1
3. **æ ˆä¸­æ·±åº¦ä¼ é€’**: ä½¿ç”¨`depth + 1`è€Œä¸æ˜¯`depth++`
4. **æŒ‡é’ˆè®¿é—®**: `node->left`è€Œä¸æ˜¯`node.left`
5. **å¾ªç¯æ¡ä»¶**: BFSä¸­ä½¿ç”¨é¢„å­˜çš„`size`é¿å…é˜Ÿåˆ—å¤§å°å˜åŒ–

### æ‰©å±•åº”ç”¨
- 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ (ä¿®æ”¹ä¸ºmin)
- 110. å¹³è¡¡äºŒå‰æ ‘ (æ¯”è¾ƒå·¦å³å­æ ‘æ·±åº¦å·®)
- 543. äºŒå‰æ ‘çš„ç›´å¾„ (æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³æ·±åº¦å’Œ)

### å…³é”®ç†è§£
äºŒå‰æ ‘é€’å½’çš„ç²¾é«“ï¼š**å°†æ ‘å½¢é—®é¢˜è½¬åŒ–ä¸ºå­æ ‘é—®é¢˜**ï¼Œé€šè¿‡é€’å½’çš„è‡ªç„¶ç»“æ„è§£å†³å¤æ‚çš„æ ‘å½¢éå†ã€‚

---

## 226. ç¿»è½¬äºŒå‰æ ‘ (Easy)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘å˜æ¢çš„ç»å…¸é¢˜ç›®ï¼Œä½“ç°äº†**æ ‘å½¢é€’å½’**çš„æ ¸å¿ƒæ€ç»´å’Œ**å±€éƒ¨ç‹¬ç«‹æ€§**çš„ç®—æ³•ç‰¹å¾ã€‚

### å…³é”®é€»è¾‘
1. **æ ‘å½¢é€’å½’æ€ç»´**:
   - ç¿»è½¬å¤§æ ‘ = äº¤æ¢å·¦å³å­æ ‘ + é€’å½’ç¿»è½¬å·¦å³å­æ ‘
   - æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦ç®¡ç†è‡ªå·±çš„ç›´æ¥å­èŠ‚ç‚¹
   
2. **ä¸‰ç§å®ç°æ–¹å¼çš„æœ¬è´¨**:
   ```cpp
   // 1. é€’å½’DFS - æœ€ç›´è§‚çš„å®ç°
   TreeNode* invertTree(TreeNode* root) {
       if (!root) return nullptr;
       TreeNode* left = invertTree(root->left);
       TreeNode* right = invertTree(root->right);
       root->left = right;
       root->right = left;
       return root;
   }
   
   // 2. BFSå±‚åºéå† - æŒ‰å±‚å¤„ç†
   TreeNode* invertTreeBFS(TreeNode* root) {
       if (!root) return nullptr;
       queue<TreeNode*> q;
       q.push(root);
       while (!q.empty()) {
           TreeNode* node = q.front();
           q.pop();
           swap(node->left, node->right);
           if (node->left) q.push(node->left);
           if (node->right) q.push(node->right);
       }
       return root;
   }
   
   // 3. DFSæ ˆæ¨¡æ‹Ÿ - æ‰‹åŠ¨ç®¡ç†æ ˆ
   TreeNode* invertTreeDFS(TreeNode* root) {
       if (!root) return nullptr;
       stack<TreeNode*> st;
       st.push(root);
       while (!st.empty()) {
           TreeNode* node = st.top();
           st.pop();
           swap(node->left, node->right);
           if (node->left) st.push(node->left);
           if (node->right) st.push(node->right);
       }
       return root;
   }
   ```

### æ·±å±‚æ´å¯Ÿï¼šç®—æ³•çš„"å±€éƒ¨ç‹¬ç«‹æ€§"

#### æ ¸å¿ƒå‘ç°
åœ¨ç¿»è½¬äºŒå‰æ ‘ä¸­ï¼Œ**BFS â‰ˆ DFS**ï¼Œä¸‰ç§æ–¹æ³•æœ¬è´¨ç›¸åŒï¼š
- **ä¸ºä»€ä¹ˆï¼Ÿ** æ¯ä¸ªèŠ‚ç‚¹çš„æ“ä½œæ˜¯ç‹¬ç«‹çš„ï¼Œåªéœ€äº¤æ¢è‡ªå·±çš„å·¦å³å­æ ‘
- **å…³é”®ç‰¹å¾**: èŠ‚ç‚¹é—´æ²¡æœ‰å¤æ‚ä¾èµ–å…³ç³»ï¼Œå¤„ç†é¡ºåºä¸å½±å“æœ€ç»ˆç»“æœ

#### ç®—æ³•åˆ†ç±»æ¡†æ¶

**ç±»å‹Aï¼šå±€éƒ¨ç‹¬ç«‹æ“ä½œ** (BFS â‰ˆ DFS)
- ç¿»è½¬äºŒå‰æ ‘ - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹äº¤æ¢å·¦å³å­æ ‘
- äºŒå‰æ ‘å±‚åºéå† - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹è¾“å‡º
- èŠ‚ç‚¹å€¼ä¿®æ”¹ - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹å¤„ç†
â†’ **é€‰æ‹©åŸåˆ™**: é€‰æ‹©æœ€ç®€æ´çš„å®ç°ï¼ˆé€šå¸¸æ˜¯é€’å½’ï¼‰

**ç±»å‹Bï¼šå…¨å±€ä¾èµ–æ“ä½œ** (BFS â‰  DFS)
- è·¯å¾„æœç´¢ - DFSå›æº¯ vs BFSæœ€çŸ­è·¯å¾„
- äºŒå‰æ ‘åºåˆ—åŒ– - éå†é¡ºåºç›´æ¥å½±å“ç»“æœ
- æ‹“æ‰‘æ’åº - ä¸åŒéå†å¯èƒ½äº§ç”Ÿä¸åŒåˆæ³•åºåˆ—
â†’ **é€‰æ‹©åŸåˆ™**: æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©éå†æ–¹å¼

#### æ ˆç‰ˆæœ¬çš„å¾®å¦™ç»†èŠ‚
```cpp
// äº¤æ¢åå†å…¥æ ˆï¼Œä¼šæ”¹å˜è®¿é—®é¡ºåº
swap(node->left, node->right);  // äº¤æ¢äº†ï¼
if (node->left) st.push(node->left);   // å…¥æ ˆçš„å®é™…æ˜¯åŸæ¥çš„right
if (node->right) st.push(node->right); // å…¥æ ˆçš„å®é™…æ˜¯åŸæ¥çš„left
```
**å…³é”®æ´å¯Ÿ**: è™½ç„¶è®¿é—®é¡ºåºæ”¹å˜äº†ï¼Œä½†åœ¨å±€éƒ¨ç‹¬ç«‹æ“ä½œä¸­ä¸å½±å“æœ€ç»ˆç»“æœï¼

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **æ‰€æœ‰æ–¹æ³•**: æ—¶é—´O(n) - æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**:
  - é€’å½’: O(h) - é€’å½’æ ˆæ·±åº¦
  - BFS: O(w) - é˜Ÿåˆ—æœ€å¤§å®½åº¦  
  - æ ˆDFS: O(h) - æ ˆæ·±åº¦

### é€‰æ‹©å»ºè®®
**æ¨èé€’å½’ç‰ˆæœ¬**ï¼Œå› ä¸ºï¼š
1. ä»£ç æœ€ç®€æ´ï¼Œé€»è¾‘æœ€ç›´è§‚
2. å®Œç¾ä½“ç°æ ‘å½¢é€’å½’æ€ç»´
3. åœ¨"å±€éƒ¨ç‹¬ç«‹"é—®é¢˜ä¸­ï¼Œç®€æ´æ€§æœ€é‡è¦

### æ˜“é”™ç‚¹
1. **é€’å½’æŒ‡é’ˆæ··ä¹±**: å…ˆä¿å­˜å­æ ‘æŒ‡é’ˆï¼Œå†äº¤æ¢
3. **è¾¹ç•Œå¤„ç†**: ç©ºèŠ‚ç‚¹æ£€æŸ¥

### æ‰©å±•åº”ç”¨
- 101. å¯¹ç§°äºŒå‰æ ‘ (åˆ¤æ–­é•œåƒå¯¹ç§°)
- 100. ç›¸åŒçš„æ ‘ (é€’å½’æ¯”è¾ƒ)
- 951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘ (ç¿»è½¬ååˆ¤æ–­ç›¸ç­‰)

### å…³é”®ç†è§£
1. **æ ‘å½¢é€’å½’ç²¾é«“**: å¤§é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜çš„è‡ªç„¶é€’å½’ç»“æ„
2. **ç®—æ³•åˆ†ç±»æ€ç»´**: è¯†åˆ«é—®é¢˜çš„"å±€éƒ¨ç‹¬ç«‹æ€§"ç‰¹å¾
3. **å®ç°é€‰æ‹©ç­–ç•¥**: åœ¨ç­‰æ•ˆç®—æ³•ä¸­é€‰æ‹©æœ€ç®€æ´çš„ç‰ˆæœ¬

è¿™é“é¢˜çš„ä»·å€¼ä¸ä»…åœ¨äºæŒæ¡æ ‘å½¢é€’å½’ï¼Œæ›´åœ¨äºå»ºç«‹**ç®—æ³•åˆ†ç±»çš„æ€ç»´æ¡†æ¶**ï¼Œå­¦ä¼šè¯†åˆ«ä¸åŒé—®é¢˜ç±»å‹çš„æœ¬è´¨ç‰¹å¾ã€‚

---

## 94. äºŒå‰æ ‘çš„ä¸­åºéå† (Medium)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘éå†çš„ç»å…¸é—®é¢˜ï¼ŒæŒæ¡**æ ˆæ¨¡æ‹Ÿé€’å½’**çš„é€šç”¨æ¨¡å¼ï¼Œç†è§£ä¸­åºéå†åœ¨BSTä¸­çš„ç‰¹æ®Šæ€§è´¨ã€‚

### å…³é”®é€»è¾‘
1. **ä¸­åºéå†é¡ºåº**:
   - é€’å½’æ¨¡å¼ï¼šå·¦å­æ ‘ â†’ æ ¹èŠ‚ç‚¹ â†’ å³å­æ ‘
   - å¯¹äºBSTï¼šç»“æœå¿…ç„¶æ˜¯æœ‰åºåºåˆ—

2. **ä¸¤ç§å®ç°æ–¹å¼å¯¹æ¯”**:
   ```cpp
   // 1. é€’å½’å®ç° - æœ€ç›´è§‚
   vector<int> inorderTraversal(TreeNode* root) {
       if(root == nullptr) return {};
       vector<int> result;
       vector<int> left = inorderTraversal(root->left);
       vector<int> right = inorderTraversal(root->right);
       
       result.insert(result.end(), left.begin(), left.end());
       result.push_back(root->val);
       result.insert(result.end(), right.begin(), right.end());
       return result;
   }
   
   // 2. è¿­ä»£å®ç° - æ ˆæ¨¡æ‹Ÿé€’å½’ â­ æ ¸å¿ƒæŒæ¡
   vector<int> inorderTraversalIterative(TreeNode* root) {
       vector<int> result;
       stack<TreeNode*> st;
       TreeNode* curr = root;
       
       while(!st.empty() || curr != nullptr) {
           // é˜¶æ®µ1: ä¸€è·¯å‘å·¦ï¼Œæ²¿é€”èŠ‚ç‚¹å…¥æ ˆ
           while(curr != nullptr) {
               st.push(curr);
               curr = curr->left;
           }
           
           // é˜¶æ®µ2: å¼¹æ ˆè®¿é—®ï¼Œç„¶åè½¬å‘å³å­æ ‘
           curr = st.top();
           st.pop();
           result.push_back(curr->val);
           curr = curr->right;  // è§¦å‘å³å­æ ‘çš„å‘å·¦éå†
       }
       return result;
   }
   ```

### æ ˆæ¨¡æ‹Ÿé€’å½’çš„æ ¸å¿ƒæ¨¡å¼

#### æ·±å±‚ç†è§£ï¼šä¸ºä»€ä¹ˆç”¨curré©±åŠ¨ï¼Ÿ
- **curræ˜¯çŠ¶æ€æŒ‡é’ˆ**ï¼šæ§åˆ¶"å‘å·¦æ·±å…¥"å’Œ"å³å­æ ‘è½¬ç§»"
- **æ ˆä¿å­˜å›æº¯è·¯å¾„**ï¼šå­˜å‚¨ä»æ ¹åˆ°å½“å‰ä½ç½®çš„è·¯å¾„
- **ä¸‰é˜¶æ®µå¾ªç¯**ï¼š
  1. å‘å·¦æ·±å…¥ â†’ è·¯å¾„å…¥æ ˆ
  2. åˆ°è¾¾å¶å­ â†’ å¼¹æ ˆè®¿é—®  
  3. è½¬å‘å³å­æ ‘ â†’ é‡å¤å¾ªç¯

#### å…³é”®æ´å¯Ÿ
```cpp
// âŒ é”™è¯¯ç†è§£
while(curr->left != nullptr) {
    st.push(curr->left);  // ä¸¢å¤±äº†å½“å‰èŠ‚ç‚¹ï¼
}

// âœ… æ­£ç¡®ç†è§£
while(curr != nullptr) {
    st.push(curr);        // ä¿å­˜å½“å‰èŠ‚ç‚¹ç”¨äºå›æº¯
    curr = curr->left;    // ç»§ç»­å‘å·¦æ·±å…¥
}
```

**ä¸ºä»€ä¹ˆå¿…é¡»ä¿å­˜å½“å‰èŠ‚ç‚¹ï¼Ÿ**
- ä¸­åºéå†éœ€è¦åœ¨å¤„ç†å®Œå·¦å­æ ‘åå›åˆ°çˆ¶èŠ‚ç‚¹
- æ ˆä¸­å­˜å‚¨çš„æ˜¯"å¾…è®¿é—®çš„çˆ¶èŠ‚ç‚¹åºåˆ—"
- `curr = node->right` è®©å³å­æ ‘ä¹Ÿç»å†å®Œæ•´çš„éå†è¿‡ç¨‹

### ç®—æ³•æ¨¡å¼æ€»ç»“

#### æ ˆæ¨¡æ‹Ÿé€’å½’çš„é€šç”¨æ¡†æ¶
```cpp
while(!st.empty() || curr != nullptr) {
    // 1. æ·±å…¥é˜¶æ®µï¼šå‘æŸä¸ªæ–¹å‘æ¢ç´¢ï¼Œæ²¿é€”ä¿å­˜çŠ¶æ€
    while(curr != nullptr) {
        st.push(curr);           // ä¿å­˜å½“å‰çŠ¶æ€
        curr = curr->next_dir;   // ç»§ç»­æ¢ç´¢
    }
    
    // 2. å¤„ç†é˜¶æ®µï¼šåˆ°è¾¾è¾¹ç•Œï¼Œå¼€å§‹å¤„ç†
    curr = st.top();
    st.pop();
    process(curr);               // å¤„ç†å½“å‰èŠ‚ç‚¹
    
    // 3. è½¬ç§»é˜¶æ®µï¼šè½¬å‘å…¶ä»–æ–¹å‘ç»§ç»­
    curr = curr->other_dir;      // è½¬å‘å…¶ä»–åˆ†æ”¯
}
```

#### ä¸‰ç§éå†çš„æ—¶æœºå·®å¼‚
| éå†ç±»å‹ | è®¿é—®æ—¶æœº | æ¨¡å¼ç‰¹ç‚¹ |
|----------|----------|----------|
| **å‰åº** | å…¥æ ˆæ—¶è®¿é—® | æ ¹â†’å·¦â†’å³ |
| **ä¸­åº** | å¼¹æ ˆæ—¶è®¿é—® | å·¦â†’æ ¹â†’å³ |
| **ååº** | éœ€è¦çŠ¶æ€æ ‡è®° | å·¦â†’å³â†’æ ¹ |

### ä¸­åºéå†çš„ç‰¹æ®Šåº”ç”¨

#### BSTä¸­çš„é‡è¦æ€§è´¨
```cpp
// éªŒè¯BSTï¼šä¸­åºéå†å¿…é¡»ä¸¥æ ¼é€’å¢
bool isValidBST(TreeNode* root) {
    vector<int> inorder = inorderTraversal(root);
    for(int i = 1; i < inorder.size(); i++) {
        if(inorder[i] <= inorder[i-1]) return false;
    }
    return true;
}

// BSTä¸­ç¬¬Kå°å…ƒç´ ï¼šä¸­åºéå†çš„ç¬¬Kä¸ª
int kthSmallest(TreeNode* root, int k) {
    vector<int> inorder = inorderTraversal(root);
    return inorder[k-1];
}
```

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **é€’å½’ç‰ˆæœ¬**: æ—¶é—´O(n)ï¼Œç©ºé—´O(h)é€’å½’æ ˆ + O(n)ç»“æœå­˜å‚¨
- **è¿­ä»£ç‰ˆæœ¬**: æ—¶é—´O(n)ï¼Œç©ºé—´O(h)æ˜¾å¼æ ˆ + O(n)ç»“æœå­˜å‚¨
- **Morriséå†**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1) - è¿›é˜¶æŠ€å·§

### æ˜“é”™ç‚¹
1. **è¿­ä»£ç‰ˆæœ¬å¾ªç¯æ¡ä»¶**: `!st.empty() || curr != nullptr` ç¼ºä¸€ä¸å¯
2. **çŠ¶æ€æ›´æ–°**: `curr = node->right` è€Œä¸æ˜¯ `node = node->right`
3. **å…¥æ ˆæ—¶æœº**: å‘å·¦æ—¶å…¥æ ˆï¼Œè€Œä¸æ˜¯è®¿é—®æ—¶å…¥æ ˆ

### æ‰©å±•åº”ç”¨
- 144. äºŒå‰æ ‘çš„å‰åºéå† (è°ƒæ•´è®¿é—®æ—¶æœº)
- 145. äºŒå‰æ ‘çš„ååºéå† (éœ€è¦çŠ¶æ€æ ‡è®°)
- 98. éªŒè¯äºŒå‰æœç´¢æ ‘ (åˆ©ç”¨æœ‰åºæ€§)
- 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  (æå‰ç»ˆæ­¢éå†)

### å…³é”®ç†è§£
1. **æ ˆæ¨¡æ‹Ÿé€’å½’çš„æœ¬è´¨**: æ˜¾å¼ç®¡ç†è°ƒç”¨æ ˆï¼Œæ§åˆ¶æ‰§è¡Œæµç¨‹
2. **ä¸­åºéå†çš„æ•°å­¦æ€§è´¨**: åœ¨BSTä¸­äº§ç”Ÿæœ‰åºåºåˆ—
3. **è¿­ä»£vsé€’å½’çš„æƒè¡¡**: é¿å…æ ˆæº¢å‡º vs ä»£ç ç®€æ´æ€§

è¿™é“é¢˜å»ºç«‹äº†å¯¹**æ ˆæ¨¡æ‹Ÿé€’å½’**çš„æ·±åº¦ç†è§£ï¼Œè¿™ä¸ªæ¨¡å¼å¯ä»¥æ¨å¹¿åˆ°å¾ˆå¤šæ ‘å½¢é€’å½’é—®é¢˜çš„è¿­ä»£å®ç°ä¸­ã€‚

---


---

## æ˜“é”™ç‚¹æ€»ç»“

### DPç±»æ˜“é”™ç‚¹
1. **çŠ¶æ€å®šä¹‰æ··æ·†**: "ä»¥ä½ç½®ç»“å°¾"éœ€è¦è¿”å›å…¨å±€æœ€å¤§å€¼
2. **è½¬ç§»æ–¹ç¨‹é—æ¼**: å¿˜è®°æ¯”è¾ƒå½“å‰å€¼ `max(dp[i], newValue)`
3. **è¾¹ç•Œæ¡ä»¶**: å¾ªç¯èŒƒå›´`i <= amount`ä¸æ˜¯`i < amount`
4. **è®°å¿†åŒ–ä¸‰æ­¥éª¤**: æ£€æŸ¥ç¼“å­˜â†’è®¡ç®—â†’å­˜å‚¨ç¼“å­˜â†’è¿”å›

### äºŒå‰æ ‘ç±»æ˜“é”™ç‚¹
1. **å¼•ç”¨ä¼ é€’**: è·¨é€’å½’ç»´æŠ¤çŠ¶æ€å¿…é¡»ç”¨`TreeNode*&`
2. **é€’å½’æŒ‡é’ˆæ··ä¹±**: å…ˆä¿å­˜å­æ ‘æŒ‡é’ˆå†äº¤æ¢
3. **åŒèŠ‚ç‚¹é€’å½’**: é•œåƒå¯¹åº”å…³ç³»ï¼Œé€»è¾‘è¡¨è¾¾å¼ç”¨`&&`
4. **æ ˆæ¨¡æ‹Ÿé€’å½’**: curræŒ‡é’ˆé©±åŠ¨ï¼Œ`curr = node->right`
5. **BSTå®šä¹‰**: å­æ ‘æ•´ä½“çº¦æŸï¼Œä¸æ˜¯ç®€å•çˆ¶å­å…³ç³»

### æŠ€æœ¯ç»†èŠ‚æ˜“é”™ç‚¹
1. **C++è¯­æ³•**: å˜é‡å£°æ˜ç”¨é€—å·åˆ†éš”ï¼Œæ¡ä»¶åˆ¤æ–­åŠ æ‹¬å·
2. **å¾ªç¯æ§åˆ¶**: é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨åŠ¨æ€å˜åŒ–çš„æ¡ä»¶
3. **å®¹å™¨API**: `queue.pop()` vs `deque.pop_front()`
4. **è‡ªå¢æ“ä½œ**: `depth++`æ”¹å˜åŸå€¼ï¼Œ`depth+1`ä¸æ”¹å˜

### æ ¸å¿ƒç®—æ³•æ¨¡æ¿

```cpp
// DPåŸºç¡€æ¨¡æ¿
dp[i] = max/min(dp[i], f(dp[j]) + cost)

// BSTä¸­åºéªŒè¯æ¨¡æ¿
bool inorder(TreeNode* node, TreeNode*& prev) {
    if (!node) return true;
    if (!inorder(node->left, prev)) return false;
    if (prev && prev->val >= node->val) return false;
    prev = node;
    return inorder(node->right, prev);
}

// åŒèŠ‚ç‚¹é€’å½’æ¨¡æ¿
bool compare(TreeNode* left, TreeNode* right) {
    if (!left && !right) return true;
    if (!left || !right) return false;
    if (left->val != right->val) return false;
    return compare(left->left, right->?) && 
           compare(left->right, right->?);
}

// æ ˆæ¨¡æ‹Ÿé€’å½’æ¨¡æ¿
while (!st.empty() || curr) {
    while (curr) {
        st.push(curr);
        curr = curr->left;
    }
    curr = st.top(); st.pop();
    process(curr);
    curr = curr->right;
}
```

## é“¾è¡¨ä¸“é¢˜

### 206. åè½¬é“¾è¡¨ (Easy) - é“¾è¡¨ç®—æ³•åŸºç¡€
**æ ¸å¿ƒæ€æƒ³**: æ”¹å˜æ¯ä¸ªèŠ‚ç‚¹çš„nextæŒ‡é’ˆæ–¹å‘ï¼Œä»å•å‘é“¾è¡¨å˜ä¸ºåå‘é“¾è¡¨
**å…³é”®æŠ€å·§**: ä¸‰æŒ‡é’ˆåè°ƒ - prevã€currã€nextçš„åŒæ­¥ç§»åŠ¨
**é˜²æ–­è£‚**: ä¿®æ”¹æŒ‡é’ˆå‰å…ˆä¿å­˜åç»­èŠ‚ç‚¹ï¼Œé¿å…é“¾è¡¨æ–­è£‚

#### è¿­ä»£å®ç° - ä¸‰æŒ‡é’ˆæ¨¡å¼ â­
```cpp
ListNode* reverseList(ListNode* head) {
    ListNode* prev = nullptr;
    ListNode* curr = head;
    while (curr) {
        ListNode* next = curr->next;  // ä¿å­˜åç»­
        curr->next = prev;            // åè½¬æŒ‡å‘
        prev = curr;                  // æŒ‡é’ˆå‰ç§»
        curr = next;                  // æŒ‡é’ˆå‰ç§»
    }
    return prev;  // prevæˆä¸ºæ–°å¤´èŠ‚ç‚¹
}
```

#### é€’å½’å®ç° - ä¿¡ä»»æœºåˆ¶ â­
```cpp
ListNode* reverseListRecursive(ListNode* head) {
    if (!head || !head->next) return head;
    ListNode* newHead = reverseListRecursive(head->next);  // ä¿¡ä»»é€’å½’
    head->next->next = head;   // å½“å‰æ“ä½œï¼šåè½¬è¿æ¥
    head->next = nullptr;      // é˜²æˆç¯å…³é”®æ­¥éª¤
    return newHead;            // è¿”å›æ–°å¤´èŠ‚ç‚¹
}
```

### 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ (Medium) - åˆ†ç»„å¤„ç†è¿›é˜¶
**æ ¸å¿ƒæ€æƒ³**: å±€éƒ¨åè½¬çš„åº”ç”¨ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºä¸€ç»„è¿›è¡Œäº¤æ¢
**å…³é”®æŠ€å·§**: è™šæ‹Ÿå¤´èŠ‚ç‚¹ + å››æŒ‡é’ˆåè°ƒ
**æ¨¡å¼å‡å**: ä»æ•´ä½“æ“ä½œåˆ°åˆ†ç»„æ“ä½œçš„ç®—æ³•æ€ç»´

### 25. Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ (Hard) - å¤åˆç®—æ³•é›†å¤§æˆ
**æ ¸å¿ƒæ€æƒ³**: 206é¢˜åè½¬+24é¢˜åˆ†ç»„çš„å®Œç¾èåˆï¼Œä»»æ„kå€¼çš„é€šç”¨åˆ†ç»„åè½¬ç®—æ³•
**å…³é”®æŠ€å·§**: æ¨¡å—åŒ–è®¾è®¡ + å¤åˆæ“ä½œ + è¿æ¥ç®¡ç†
**ç®—æ³•å‡å**: ä»ç‰¹ä¾‹(k=2)åˆ°é€šç”¨(ä»»æ„k)çš„æŠ½è±¡è®¾è®¡èƒ½åŠ›

### 92. åè½¬é“¾è¡¨II (Medium) - ä¸‰æ®µå¼ç²¾ç¡®åŒºé—´åè½¬
**æ ¸å¿ƒæ€æƒ³**: ä¸‰æ®µå¼è¿æ¥æ³•ï¼Œç²¾ç¡®åŒºé—´æ§åˆ¶+å¤ç”¨å·²æœ‰æŠ€å·§
**å…³é”®æŠ€å·§**: è¾¹ç•Œå®šä½ + å®‰å…¨æ–­å¼€ + å±€éƒ¨åè½¬ + ä¸‰æ®µé‡è¿
**æŠ€æœ¯èåˆ**: 206é¢˜ä¸‰æŒ‡é’ˆæŠ€å·§ + 25é¢˜æ¨¡å—åŒ–è®¾è®¡ + ç²¾ç¡®è¾¹ç•Œæ§åˆ¶

#### 24é¢˜è¿­ä»£å®ç° - è™šæ‹Ÿå¤´èŠ‚ç‚¹+å››æŒ‡é’ˆ â­
```cpp
ListNode* swapPairs(ListNode* head) {
    ListNode* dummy = new ListNode(0);
    dummy->next = head;
    ListNode* prev = dummy;
    
    while (prev->next && prev->next->next) {
        ListNode* first = prev->next;
        ListNode* second = prev->next->next;
        ListNode* next = second->next;
        
        // ä¸‰æ­¥äº¤æ¢ï¼šprevâ†’secondâ†’firstâ†’next
        second->next = first;
        first->next = next;
        prev->next = second;
        
        prev = first;  // æ›´æ–°prevä¸ºäº¤æ¢åçš„æœ«å°¾èŠ‚ç‚¹
    }
    
    ListNode* result = dummy->next;
    delete dummy;
    return result;
}
```

#### 25é¢˜è¿­ä»£å®ç° - æ¨¡å—åŒ–åˆ†ç»„åè½¬ â­â­
```cpp
ListNode* reverseKGroup(ListNode* head, int k) {
    ListNode* dummy = new ListNode(0);
    dummy->next = head;
    ListNode* prevGroupEnd = dummy;
    
    while (hasKNodes(prevGroupEnd->next, k)) {
        auto [newHead, newTail] = reverseKNodes(prevGroupEnd->next, k);
        prevGroupEnd->next = newHead;
        prevGroupEnd = newTail;
    }
    
    return dummy->next;
}

// è¾…åŠ©å‡½æ•°1: æ£€æŸ¥æ˜¯å¦æœ‰kä¸ªèŠ‚ç‚¹
bool hasKNodes(ListNode* start, int k) {
    while (start && k > 0) {
        start = start->next;
        k--;
    }
    return k == 0;
}

// è¾…åŠ©å‡½æ•°2: åè½¬kä¸ªèŠ‚ç‚¹å¹¶è¿æ¥
pair<ListNode*, ListNode*> reverseKNodes(ListNode* start, int k) {
    if (!start || k == 0) return {nullptr, nullptr};
    
    ListNode* originalStart = start;  // ä¿å­˜åŸå§‹å¤´ï¼Œæˆä¸ºæ–°å°¾
    ListNode* prev = nullptr;
    
    // åè½¬kä¸ªèŠ‚ç‚¹ (å¤ç”¨206é¢˜æŠ€å·§)
    while (start && k > 0) {
        ListNode* next = start->next;
        start->next = prev;
        prev = start;
        start = next;
        k--;
    }
    
    // å…³é”®ï¼šæ–°å°¾è¿æ¥åˆ°ä¸‹ä¸€ç»„
    originalStart->next = start;
    
    return {prev, originalStart};  // {æ–°å¤´, æ–°å°¾}
}
```

#### 92é¢˜ä¸‰æ®µå¼å®ç° - ç²¾ç¡®åŒºé—´åè½¬ â­â­
```cpp
ListNode* reverseBetween(ListNode* head, int left, int right) {
    ListNode* dummy = new ListNode(0);
    dummy->next = head;
    
    // 1. è¾¹ç•Œå®šä½ï¼šæ‰¾åˆ°å…³é”®èŠ‚ç‚¹
    ListNode* startPre = findPrevNode(dummy, left);    // leftå‰é©±
    ListNode* startNode = startPre->next;              // åè½¬æ®µå¼€å§‹
    ListNode* endNode = findTargetNode(dummy, right);  // åè½¬æ®µç»“æŸ
    ListNode* nextNode = endNode->next;                // rightåç»§
    
    // 2. å®‰å…¨æ–­å¼€ï¼šé¿å…åè½¬æ—¶å½±å“åç»­
    endNode->next = nullptr;
    
    // 3. å±€éƒ¨åè½¬ï¼šå¤ç”¨206é¢˜æŠ€å·§
    auto [newHead, newTail] = reverseSegment(startNode);
    
    // 4. ä¸‰æ®µé‡è¿ï¼šå‰æ®µâ†’åè½¬æ®µâ†’åæ®µ
    startPre->next = newHead;
    newTail->next = nextNode;
    
    return dummy->next;
}

// è¾…åŠ©å‡½æ•°ï¼šå®šä½å‰é©±èŠ‚ç‚¹
ListNode* findPrevNode(ListNode* dummy, int pos) {
    ListNode* node = dummy;
    for(int i = 0; i < pos - 1; i++) {
        node = node->next;
    }
    return node;
}

// è¾…åŠ©å‡½æ•°ï¼šå®šä½ç›®æ ‡èŠ‚ç‚¹  
ListNode* findTargetNode(ListNode* dummy, int pos) {
    ListNode* node = dummy;
    for(int i = 0; i < pos; i++) {
        node = node->next;
    }
    return node;
}

// è¾…åŠ©å‡½æ•°ï¼šåè½¬é“¾è¡¨æ®µï¼ˆå¤ç”¨206é¢˜ï¼‰
pair<ListNode*, ListNode*> reverseSegment(ListNode* start) {
    ListNode* pre = nullptr;
    ListNode* curr = start;
    while(curr) {
        ListNode* next = curr->next;
        curr->next = pre;
        pre = curr;
        curr = next;
    }
    return {pre, start};  // {æ–°å¤´, æ–°å°¾}
}
```

#### é€’å½’å®ç° - åˆ†æ²»æ€æƒ³ â­
```cpp
ListNode* swapPairsRecursive(ListNode* head) {
    if (!head || !head->next) return head;
    
    ListNode* next = head->next;
    ListNode* nextNode = swapPairsRecursive(head->next->next);  // ä¿¡ä»»é€’å½’
    next->next = head;         // å½“å‰æ“ä½œï¼šäº¤æ¢è¿™ä¸€å¯¹
    head->next = nextNode;     // è¿æ¥åˆ°é€’å½’ç»“æœ
    return next;               // è¿”å›äº¤æ¢åçš„æ–°å¤´èŠ‚ç‚¹
}
```

## é“¾è¡¨ç®—æ³•æ ¸å¿ƒæ¨¡å¼æ€»ç»“

### è¿­ä»£ vs é€’å½’æ€ç»´å¯¹æ¯”
| ç‰¹å¾ | è¿­ä»£æ€ç»´ | é€’å½’æ€ç»´ |
|------|----------|----------|
| **æ§åˆ¶æ–¹å¼** | ä¸»åŠ¨æ¨è¿›ï¼Œstep by step | ä¿¡ä»»æœºåˆ¶ï¼Œå¤„ç†å½“å‰ |
| **çŠ¶æ€ç®¡ç†** | å…¨å±€çŠ¶æ€è·Ÿè¸ª | å±€éƒ¨æ“ä½œè®¾è®¡ |
| **ç©ºé—´å¤æ‚åº¦** | O(1) | O(h) - é€’å½’æ ˆ |
| **æ€ç»´æ¨¡å¼** | ä»å‰å¾€åæ„å»º | å‡è®¾åé¢å·²å®Œæˆ |

### é€’å½’è®¾è®¡çš„ä¸‰è¦ç´ 
1. **ä¿¡ä»»å‡è®¾**: ç›¸ä¿¡é€’å½’ä¼šæ­£ç¡®å¤„ç†å­é—®é¢˜
2. **ä¸“æ³¨å½“å‰**: åªå¤„ç†å½“å‰å±‚çš„å±€éƒ¨æ“ä½œ  
3. **æ­£ç¡®è¿”å›**: ä¿è¯è¿”å›å€¼ç¬¦åˆå‡½æ•°å¥‘çº¦

### æŒ‡é’ˆæ“ä½œè¿›é˜¶è·¯å¾„
```
206é¢˜ï¼šä¸‰æŒ‡é’ˆ prevâ†’currâ†’next (æ•´ä½“åè½¬)
    â†“
24é¢˜ï¼šå››æŒ‡é’ˆ prevâ†’firstâ†’secondâ†’next (å›ºå®šk=2åˆ†ç»„)
    â†“  
25é¢˜ï¼šæ¨¡å—åŒ–è®¾è®¡ prevGroupEndâ†’[kä¸ªèŠ‚ç‚¹åˆ†ç»„] (ä»»æ„ké€šç”¨ç®—æ³•)
    â†“
92é¢˜ï¼šä¸‰æ®µå¼è®¾è®¡ å‰æ®µâ†’åè½¬æ®µâ†’åæ®µ (ç²¾ç¡®åŒºé—´åè½¬)
```

### æ ¸å¿ƒæŠ€å·§å·¥å…·ç®±
1. **è™šæ‹Ÿå¤´èŠ‚ç‚¹**: ç»Ÿä¸€å¤„ç†å¤´èŠ‚ç‚¹å˜åŒ–ï¼Œç®€åŒ–è¾¹ç•Œé€»è¾‘
2. **å¤šæŒ‡é’ˆåè°ƒ**: ä¿å­˜å…³é”®èŠ‚ç‚¹ï¼Œé˜²æ­¢é“¾è¡¨æ–­è£‚
3. **é˜²æˆç¯å¤„ç†**: é€’å½’ä¸­å¿…é¡»åˆ‡æ–­æ—§è¿æ¥
4. **è¾¹ç•Œæ¡ä»¶**: ç©ºé“¾è¡¨ã€å•èŠ‚ç‚¹ã€å¥‡å¶é•¿åº¦çš„ç³»ç»Ÿå¤„ç†
5. **æ¨¡å—åŒ–è®¾è®¡**: å¤æ‚ç®—æ³•åˆ†è§£ä¸ºç‹¬ç«‹çš„è¾…åŠ©å‡½æ•°
6. **è¿æ¥ç®¡ç†**: ç¡®ä¿åˆ†ç»„æ“ä½œåé“¾è¡¨çš„å®Œæ•´è¿æ¥

### ç®—æ³•æ¨¡å¼è¯†åˆ«
- **æ•´ä½“å˜æ¢**: 206é¢˜ç±»å‹ï¼Œä½¿ç”¨ä¸‰æŒ‡é’ˆè¿­ä»£æˆ–ä¿¡ä»»é€’å½’
- **å›ºå®šåˆ†ç»„**: 24é¢˜ç±»å‹ï¼Œè™šæ‹Ÿå¤´èŠ‚ç‚¹+å¤šæŒ‡é’ˆåè°ƒ
- **é€šç”¨åˆ†ç»„**: 25é¢˜ç±»å‹ï¼Œæ¨¡å—åŒ–è®¾è®¡+å¤åˆæ“ä½œ
- **ç²¾ç¡®åŒºé—´**: 92é¢˜ç±»å‹ï¼Œä¸‰æ®µå¼è®¾è®¡+æŠ€å·§å¤ç”¨

### 92é¢˜å…³é”®çªç ´
- **ä¸‰æ®µå¼ç†å¿µ**: å®šä½â†’æ–­å¼€â†’åè½¬â†’é‡è¿çš„æ¸…æ™°æµç¨‹
- **æŠ€å·§å¤ç”¨**: 206é¢˜ä¸‰æŒ‡é’ˆ + 25é¢˜æ¨¡å—åŒ– + è¾¹ç•Œç²¾ç¡®æ§åˆ¶
- **æ¨¡å—åŒ–è®¾è®¡**: ä¸‰ä¸ªç‹¬ç«‹è¾…åŠ©å‡½æ•°ï¼ŒèŒè´£åˆ†ç¦»
- **å®‰å…¨æ“ä½œ**: å…ˆæ–­å¼€è¿æ¥ï¼Œé¿å…åè½¬æ—¶çš„ç›¸äº’å½±å“

## 25é¢˜å…³é”®è¦ç‚¹ä¸æ˜“é”™ç‚¹

### ğŸ¯ æ ¸å¿ƒç®—æ³•æ€æƒ³
- **å¤åˆæ“ä½œ**: åˆ†ç»„è¯†åˆ« + å±€éƒ¨åè½¬ + è¿æ¥ç®¡ç†
- **æ¨¡å—åŒ–è®¾è®¡**: å°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºç‹¬ç«‹çš„è¾…åŠ©å‡½æ•°
- **è¿æ¥ä¿è¯**: ç¡®ä¿æ¯æ¬¡æ“ä½œåé“¾è¡¨çš„å®Œæ•´æ€§

### âš ï¸ å¸¸è§æ˜“é”™ç‚¹åˆ†æ

#### 1. **è¯­æ³•é”™è¯¯ç±»**
```cpp
// âŒ é”™è¯¯ï¼šç»“æ„åŒ–ç»‘å®šè¯­æ³•é”™è¯¯
auto {newHead, newTail} = reverseKNodes(...);

// âœ… æ­£ç¡®ï¼šä½¿ç”¨æ–¹æ‹¬å·
auto [newHead, newTail] = reverseKNodes(...);
```

#### 2. **å˜é‡åä¸åŒ¹é…**
```cpp
auto [newhead, newtail] = reverseKNodes(...);
prevGroupEnd->next = newHead;  // âŒ å˜é‡åå¤§å°å†™ä¸åŒ¹é…
```

#### 3. **å†…å­˜ç®¡ç†é”™è¯¯**
```cpp
ListNode* dummy = ListNode(0);     // âŒ æ ˆå¯¹è±¡ï¼Œå¯èƒ½æœ‰é—®é¢˜
ListNode* dummy = new ListNode(0); // âœ… å †å¯¹è±¡æ›´å®‰å…¨
```

#### 4. **è¿æ¥æ–­è£‚æ‹…å¿ƒ**
```cpp
// æ‹…å¿ƒï¼šprevGroupEnd = newTail ä¼šæ–­å¼€è¿æ¥ï¼Ÿ
// è§£ç­”ï¼šä¸ä¼šï¼newTailåœ¨è¿”å›å‰å·²ç»è¿æ¥åˆ°ä¸‹ä¸€ç»„
originalStart->next = start;  // å…³é”®è¿æ¥æ­¥éª¤
```

#### 5. **hasKNodesè¾¹ç•Œæ£€æŸ¥**
```cpp
// âŒ å¯èƒ½çš„é”™è¯¯ï¼šæ£€æŸ¥æ—¶ä¿®æ”¹äº†kçš„å€¼
bool hasKNodes(ListNode* start, int k) {
    while(start) {
        k--;  // ä¿®æ”¹äº†å‚æ•°k
        start = start->next;
    }
    return k == 0;
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨å±€éƒ¨å˜é‡æˆ–è€…ä¸ä¿®æ”¹å‚æ•°
bool hasKNodes(ListNode* start, int k) {
    while(start && k > 0) {
        start = start->next;
        k--;
    }
    return k == 0;
}
```

### ğŸ”§ è°ƒè¯•è¦ç‚¹
1. **åˆ†æ­¥éªŒè¯**: å…ˆç¡®ä¿ hasKNodes å’Œ reverseKNodes ç‹¬ç«‹æ­£ç¡®
2. **è¿æ¥æ£€æŸ¥**: é‡ç‚¹éªŒè¯æ¯ç»„åè½¬åçš„è¿æ¥æ˜¯å¦å®Œæ•´
3. **è¾¹ç•Œæµ‹è¯•**: æµ‹è¯•k=1ã€k=é“¾è¡¨é•¿åº¦ã€k>é“¾è¡¨é•¿åº¦ç­‰è¾¹ç•Œæƒ…å†µ
4. **å†…å­˜å®‰å…¨**: ç¡®ä¿æ²¡æœ‰é‡æŒ‡é’ˆå’Œå†…å­˜æ³„æ¼

### ğŸ’¡ è®¾è®¡ç²¾é«“
- **å•ä¸€èŒè´£**: æ¯ä¸ªå‡½æ•°åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
- **æ¥å£è®¾è®¡**: è¿”å›å€¼è®¾è®¡è¦ä¾¿äºè°ƒç”¨æ–¹ä½¿ç”¨
- **çŠ¶æ€ç®¡ç†**: prevGroupEndå§‹ç»ˆæŒ‡å‘å·²å¤„ç†éƒ¨åˆ†çš„å°¾éƒ¨
- **ä¿¡ä»»æœºåˆ¶**: ä¸»å‡½æ•°ä¿¡ä»»è¾…åŠ©å‡½æ•°ä¼šæ­£ç¡®å¤„ç†å±€éƒ¨æ“ä½œ

### ğŸ”‘ è¿æ¥æœºåˆ¶æ·±åº¦ç†è§£

#### åŒé‡è¿æ¥çš„å¿…è¦æ€§
25é¢˜éœ€è¦ä¸¤ä¸ªå±‚æ¬¡çš„è¿æ¥æ“ä½œï¼š

**1. ç»„å†…è¿æ¥** (reverseKNodeså‡½æ•°å†…éƒ¨):
```cpp
startNode->next = start;  // æ–°å°¾è¿æ¥åˆ°ä¸‹ä¸€ç»„å¼€å§‹
```
- **ä½œç”¨**: ä¿è¯å½“å‰åè½¬ç»„çš„å†…éƒ¨å®Œæ•´æ€§
- **æ—¶æœº**: åè½¬æ“ä½œå®Œæˆåç«‹å³æ‰§è¡Œ
- **è¿æ¥**: å½“å‰ç»„å°¾éƒ¨ â†’ å‰©ä½™é“¾è¡¨å¤´éƒ¨

**2. ç»„é—´è¿æ¥** (ä¸»å‡½æ•°æ‰§è¡Œ):
```cpp
prevGroupEnd->next = newHead;  // ä¸Šä¸€ç»„å°¾éƒ¨è¿æ¥åˆ°å½“å‰ç»„æ–°å¤´
```
- **ä½œç”¨**: ä¿è¯ä¸åŒåè½¬ç»„ä¹‹é—´çš„è¿æ¥å®Œæ•´æ€§  
- **æ—¶æœº**: è·å¾—åè½¬ç»“æœåæ‰§è¡Œ
- **è¿æ¥**: ä¸Šä¸€ç»„å°¾éƒ¨ â†’ å½“å‰ç»„æ–°å¤´éƒ¨

#### æ—¶åºæ§åˆ¶çš„å…³é”®æ€§
```cpp
// âœ… æ­£ç¡®æ—¶åº
while(hasKNodes(prevGroupEnd->next, k)) {
    auto [newHead, newTail] = reverseKNodes(...);  // 1. å…ˆåè½¬
    prevGroupEnd->next = newHead;                  // 2. å†è¿æ¥
    prevGroupEnd = newTail;                        // 3. æœ€åæ›´æ–°
}
```

**ä¸ºä»€ä¹ˆå¿…é¡»æŒ‰æ­¤é¡ºåº**:
- **æ­¥éª¤1**: åè½¬æ“ä½œäº§ç”ŸnewHeadå’ŒnewTail
- **æ­¥éª¤2**: åˆ©ç”¨å½“å‰prevGroupEndå»ºç«‹ç»„é—´è¿æ¥
- **æ­¥éª¤3**: æ›´æ–°prevGroupEndä¸ºæ–°çš„å°¾éƒ¨ï¼Œå‡†å¤‡ä¸‹è½®è¿æ¥

**é”™è¯¯æ—¶åºçš„åæœ**:
```cpp
// âŒ å¦‚æœæå‰æ›´æ–°prevGroupEnd
prevGroupEnd = newTail;           // å¤±å»ä¸Šä¸€ç»„å°¾éƒ¨å¼•ç”¨
prevGroupEnd->next = newHead;     // é”™è¯¯è¿æ¥ï¼
```

#### è¿æ¥å®Œæ•´æ€§éªŒè¯
**å®Œæ•´æµç¨‹ç¤ºä¾‹** `[1,2,3,4,5]` k=2:

```
åˆå§‹: dummy â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5
      â†‘prevGroupEnd

ç¬¬ä¸€è½®:
- åè½¬[1,2] â†’ {newHead:2, newTail:1}
- ç»„å†…è¿æ¥: 1.next = 3
- ç»„é—´è¿æ¥: dummy.next = 2
- ç»“æœ: dummy â†’ 2 â†’ 1 â†’ 3 â†’ 4 â†’ 5
- æ›´æ–°: prevGroupEnd = 1

ç¬¬äºŒè½®:  
- åè½¬[3,4] â†’ {newHead:4, newTail:3}
- ç»„å†…è¿æ¥: 3.next = 5
- ç»„é—´è¿æ¥: 1.next = 4  â† å…³é”®ï¼
- ç»“æœ: dummy â†’ 2 â†’ 1 â†’ 4 â†’ 3 â†’ 5
- æ›´æ–°: prevGroupEnd = 3
```

#### æ ¸å¿ƒæ´å¯Ÿ
- **ç»„å†…è¿æ¥**: è§£å†³å½“å‰åè½¬ç»„çš„å‘åå»¶ç»­
- **ç»„é—´è¿æ¥**: è§£å†³ä¸åŒåè½¬ç»„çš„ä¸²è”ç»„åˆ
- **æ—¶åºæ§åˆ¶**: prevGroupEndä½œä¸ºè¿æ¥æ¡¥æ¢ï¼Œå¿…é¡»åœ¨æ­£ç¡®æ—¶æœºæ›´æ–°
- **çŠ¶æ€ç»´æŠ¤**: æ¯è½®å¾ªç¯åprevGroupEndæŒ‡å‘å·²å¤„ç†éƒ¨åˆ†çš„çœŸå®å°¾éƒ¨

### æ‰©å±•åº”ç”¨æ–¹å‘
- 25. Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ (24é¢˜æ¨å¹¿)
- 92. åè½¬é“¾è¡¨II (æŒ‡å®šåŒºé—´åè½¬)
- 143. é‡æ’é“¾è¡¨ (å¤æ‚èŠ‚ç‚¹é‡ç»„)
- 61. æ—‹è½¬é“¾è¡¨ (æ•´ä½“ç§»åŠ¨)

## å›æº¯ç®—æ³•ä¸“é¢˜

### 78. å­é›† (Medium) - å›æº¯ç®—æ³•å…¥é—¨ç»å…¸ â­â­â­
**æ ¸å¿ƒæ€æƒ³**: å›æº¯ç®—æ³•çš„ç»å…¸å…¥é—¨é¢˜ï¼Œå»ºç«‹"é€‰æ‹©/ä¸é€‰æ‹©"çš„å†³ç­–æ ‘æ€ç»´
**ç®—æ³•æœ¬è´¨**: ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼Œå¯¹æ¯ä¸ªå…ƒç´ åšäºŒé€‰ä¸€å†³ç­–

#### æ ¸å¿ƒç®—æ³•æ¨¡å¼
å›æº¯ç®—æ³•ä¸‰è¦ç´ ï¼š
1. **é€‰æ‹©** (Make Choice) - åšå‡ºå†³ç­–æ”¹å˜çŠ¶æ€
2. **é€’å½’** (Recurse) - åœ¨æ–°çŠ¶æ€ä¸‹ç»§ç»­æœç´¢
3. **æ’¤é”€** (Undo) - æ¢å¤çŠ¶æ€ï¼Œå°è¯•å…¶ä»–å¯èƒ½

#### ä¸¤ç§æ ¸å¿ƒå®ç°æ€ç»´

**1. åŸºäºç´¢å¼•çš„å›æº¯** â­ - æ ‡å‡†å›æº¯æ¨¡å¼
```cpp
void backtrack(vector<int>& nums, int index, vector<int>& current, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢ï¼šæ‰€æœ‰å…ƒç´ éƒ½è€ƒè™‘å®Œ
    if (index == nums.size()) {
        result.push_back(current);  // å»¶è¿Ÿæ”¶é›†ç»“æœ
        return;
    }
    
    // é€‰æ‹©1ï¼šä¸é€‰æ‹©å½“å‰å…ƒç´ 
    backtrack(nums, index + 1, current, result);
    
    // é€‰æ‹©2ï¼šé€‰æ‹©å½“å‰å…ƒç´ 
    current.push_back(nums[index]);      // é€‰æ‹©
    backtrack(nums, index + 1, current, result);  // é€’å½’
    current.pop_back();                  // æ’¤é”€
}
```

**æ ¸å¿ƒç‰¹ç‚¹**:
- **å†³ç­–æ ‘ç»“æ„**: å®Œæ•´çš„äºŒå‰å†³ç­–æ ‘ï¼Œæ¯å±‚å¯¹åº”ä¸€ä¸ªå…ƒç´ 
- **å»¶è¿Ÿæ”¶é›†**: åªåœ¨å¶å­èŠ‚ç‚¹æ”¶é›†ç»“æœï¼Œä½“ç°å®Œæ•´å†³ç­–è¿‡ç¨‹
- **è¾¹ç•Œæ¡ä»¶**: `index == nums.size()` è¡¨ç¤ºæ‰€æœ‰å…ƒç´ éƒ½è€ƒè™‘å®Œ
- **æ€ç»´æ¨¡å¼**: "å¯¹æ¯ä¸ªå…ƒç´ ï¼Œæˆ‘é€‰æ‹©è¦å®ƒè¿˜æ˜¯ä¸è¦å®ƒï¼Ÿ"

**2. åŸºäºè·¯å¾„çš„å›æº¯** â­ - å¢é‡æ„é€ æ¨¡å¼
```cpp
void generateSubsets(vector<int>& nums, int start, vector<int>& path, vector<vector<int>>& result) {
    // æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¶é›†å½“å‰è·¯å¾„
    result.push_back(path);
    
    // ä»startå¼€å§‹å°è¯•æ‰€æœ‰å¯èƒ½é€‰æ‹©
    for (int i = start; i < nums.size(); i++) {
        path.push_back(nums[i]);          // é€‰æ‹©
        generateSubsets(nums, i + 1, path, result);  // é€’å½’
        path.pop_back();                  // æ’¤é”€
    }
}
```

**æ ¸å¿ƒç‰¹ç‚¹**:
- **æ„é€ æ ‘ç»“æ„**: Nå‰æ ‘ï¼Œæ¯å±‚é€‰æ‹©æ•°é‡é€’å‡
- **å³æ—¶æ”¶é›†**: æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¶é›†ï¼Œä½“ç°å¢é‡æ„é€ è¿‡ç¨‹
- **å¾ªç¯é€‰æ‹©**: ç”¨forå¾ªç¯æšä¸¾æ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€æ­¥é€‰æ‹©
- **æ€ç»´æ¨¡å¼**: "åœ¨å‰©ä½™å…ƒç´ ä¸­ï¼Œæˆ‘æ¥ä¸‹æ¥é€‰å“ªä¸€ä¸ªï¼Ÿ"

#### å…³é”®ç†è§£çªç ´

**1. é€’å½’è¾¹ç•Œçš„æ·±åº¦ç†è§£**
```cpp
// âŒ å¸¸è§é”™è¯¯
if (index == nums.size() - 1) return;  // æœ€åä¸€ä¸ªå…ƒç´ æ²¡æœ‰æœºä¼šè¢«è€ƒè™‘ï¼

// âœ… æ­£ç¡®ç†è§£  
if (index == nums.size()) return;      // æ‰€æœ‰å…ƒç´ éƒ½è€ƒè™‘å®Œæ‰ç»ˆæ­¢
```

**2. å»¶è¿Ÿæ”¶é›† vs å³æ—¶æ”¶é›†**
- **ç´¢å¼•æ–¹æ³•**: åœ¨ `index == nums.size()` æ—¶æ”¶é›†ï¼Œæ­¤æ—¶æ”¶é›†çš„æ˜¯"å¯¹å‰é¢æ‰€æœ‰å…ƒç´ åšå®Œå†³ç­–"çš„ç»“æœ
- **è·¯å¾„æ–¹æ³•**: æ¯åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æ”¶é›†ï¼Œä½“ç°äº†"æ„é€ å­é›†"çš„æ¯ä¸ªä¸­é—´çŠ¶æ€

**3. ä¸¤ç§æ–¹æ³•çš„å†³ç­–æ ‘å¯¹æ¯”**
```
ç´¢å¼•æ–¹æ³• - äºŒå‰å†³ç­–æ ‘:           è·¯å¾„æ–¹æ³• - Nå‰æ„é€ æ ‘:
        []                              []
      /    \                         /   |   \
   ä¸é€‰1    é€‰1                     é€‰1   é€‰2   é€‰3
   /  \    /  \                   /|    |     
  []  [2] [1] [1,2]              ...   ...   ...
```

#### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(2^n) - æ¯ä¸ªå…ƒç´ æœ‰ä¸¤ç§é€‰æ‹©ï¼Œå…±2^nç§ç»„åˆ
- **ç©ºé—´å¤æ‚åº¦**: O(n) - é€’å½’æ ˆæ·±åº¦ä¸ºnï¼ŒåŠ ä¸Šç»“æœå­˜å‚¨O(nÂ·2^n)
- **ç”Ÿæˆç»“æœ**: 2^nä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†å¹³å‡é•¿åº¦n/2

#### æ‰©å±•åº”ç”¨æ–¹å‘
- **å­é›†é—®é¢˜**: 90. å­é›†II (å¤„ç†é‡å¤å…ƒç´ )
- **ç»„åˆé—®é¢˜**: 77. ç»„åˆ (å›ºå®šé•¿åº¦çº¦æŸ)
- **æ’åˆ—é—®é¢˜**: 46. å…¨æ’åˆ— (å…ƒç´ é¡ºåºé‡è¦)
- **åˆ†å‰²é—®é¢˜**: 131. åˆ†å‰²å›æ–‡ä¸² (å­—ç¬¦ä¸²åˆ†å‰²)

#### å›æº¯ç®—æ³•è®¾è®¡åŸåˆ™
1. **æ˜ç¡®çŠ¶æ€å®šä¹‰**: å½“å‰å·²åšçš„é€‰æ‹© + å‰©ä½™çš„é€‰æ‹©ç©ºé—´
2. **æ¸…æ™°çš„é€’å½’è¾¹ç•Œ**: ä»€ä¹ˆæ—¶å€™åœæ­¢é€’å½’å¹¶æ”¶é›†ç»“æœ
3. **æ­£ç¡®çš„çŠ¶æ€ç®¡ç†**: é€‰æ‹©â†’é€’å½’â†’æ’¤é”€çš„å®Œæ•´æµç¨‹
4. **æœ‰æ•ˆçš„å‰ªæç­–ç•¥**: é¿å…æ— æ•ˆçš„æœç´¢åˆ†æ”¯

#### æ˜“é”™ç‚¹æ€»ç»“
1. **é€’å½’ç»ˆæ­¢æ¡ä»¶**: `nums.size()` vs `nums.size()-1` çš„è¾¹ç•Œç†è§£
2. **çŠ¶æ€æ¢å¤**: `pop_back()` çš„æ—¶æœºå’Œå¿…è¦æ€§
3. **å‡½æ•°å‘½å**: `backtrack` çš„æ‹¼å†™å’Œä¸€è‡´æ€§
4. **å‚æ•°ä¼ é€’**: `i+1` vs `start+1` çš„åŒºåˆ«

### å›æº¯ç®—æ³•æ€ç»´å»ºç«‹
**ä»äºŒå‰æ ‘é€’å½’åˆ°å›æº¯ç®—æ³•çš„æ€ç»´è·ƒè¿**:
- **äºŒå‰æ ‘é€’å½’**: å·¦/å³å­æ ‘çš„é€‰æ‹©ï¼Œé—®é¢˜è§„æ¨¡é€’å‡
- **å›æº¯ç®—æ³•**: é€‰æ‹©/ä¸é€‰æ‹©çš„å†³ç­–ï¼Œè§£ç©ºé—´ç©·ä¸¾
- **å…±åŒç‚¹**: éƒ½æ˜¯é€’å½’æ€ç»´ï¼Œéƒ½éœ€è¦æ­£ç¡®çš„è¾¹ç•Œæ¡ä»¶
- **åŒºåˆ«**: äºŒå‰æ ‘æ±‚è§£ï¼Œå›æº¯ç©·ä¸¾æ‰€æœ‰å¯èƒ½

å›æº¯ç®—æ³•æ˜¯é€’å½’æ€ç»´çš„é«˜çº§åº”ç”¨ï¼Œåœ¨å·²æœ‰äºŒå‰æ ‘é€’å½’åŸºç¡€ä¸Šï¼Œèƒ½å¤Ÿå¿«é€Ÿå»ºç«‹å›æº¯çš„å†³ç­–æ ‘æ€ç»´ã€‚

### 77. ç»„åˆ (Medium) - å¸¦çº¦æŸå›æº¯ + å‰ªæä¼˜åŒ– â­â­â­
**æ ¸å¿ƒæ€æƒ³**: åœ¨å›æº¯åŸºç¡€ä¸ŠåŠ å…¥é•¿åº¦çº¦æŸï¼Œå­¦ä¹ å‰ªæä¼˜åŒ–æŠ€å·§
**ç®—æ³•æœ¬è´¨**: ä»nä¸ªæ•°å­—ä¸­é€‰æ‹©kä¸ªçš„æ‰€æœ‰å¯èƒ½ç»„åˆï¼ŒC(n,k)ç§ç»“æœ

#### ä¸78é¢˜å­é›†çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹å¾ | 78é¢˜å­é›† | 77é¢˜ç»„åˆ |
|------|----------|----------|
| **çº¦æŸæ¡ä»¶** | æ— é•¿åº¦é™åˆ¶ | å›ºå®šé€‰æ‹©kä¸ªå…ƒç´  |
| **ç»“æœæ•°é‡** | 2^nç§å¯èƒ½ | C(n,k)ç§å¯èƒ½ |
| **é€’å½’ç»ˆæ­¢** | index == nums.size() | current.size() == k |
| **æ€ç»´æ¨¡å¼** | æ¯ä¸ªå…ƒç´ é€‰æ‹©/ä¸é€‰æ‹© | ä»å€™é€‰ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ª |

#### ä¸¤ç§å®ç°æ–¹å¼å¯¹æ¯”

**1. æ ‡å‡†å›æº¯** â­ - åŸºäºå¾ªç¯æšä¸¾
```cpp
void backtrack(int n, int k, int start, vector<int>& current, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šè¾¾åˆ°æ‰€éœ€é•¿åº¦
    if (current.size() == k) {
        result.push_back(current);
        return;
    }
    
    // ä»startå¼€å§‹å°è¯•æ‰€æœ‰å¯èƒ½çš„æ•°å­—
    for (int i = start; i <= n; i++) {
        current.push_back(i);          // é€‰æ‹©
        backtrack(n, k, i + 1, current, result);  // é€’å½’
        current.pop_back();            // æ’¤é”€
    }
}
```

**2. å‰ªæä¼˜åŒ–å›æº¯** â­â­ - æ•°å­¦æ¨å¯¼å‡å°‘æœç´¢ç©ºé—´
```cpp
void backtrackOptimized(int n, int k, int start, vector<int>& current, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šè¾¾åˆ°æ‰€éœ€é•¿åº¦
    if (current.size() == k) {
        result.push_back(current);
        return;
    }
    
    // å‰ªæä¼˜åŒ–ï¼šè®¡ç®—è¿˜éœ€è¦å¤šå°‘ä¸ªæ•°å­—
    int need = k - current.size();
    
    // å‰ªææ¡ä»¶ï¼šå‰©ä½™æ•°å­—ä¸è¶³ä»¥å¡«æ»¡æ—¶æå‰ç»ˆæ­¢
    for (int i = start; i <= n - need + 1; i++) {
        current.push_back(i);
        backtrackOptimized(n, k, i + 1, current, result);
        current.pop_back();
    }
}
```

#### å‰ªæä¼˜åŒ–çš„æ•°å­¦æ¨å¯¼ç²¾é«“ ğŸ¯
è¿™æ˜¯77é¢˜æœ€é‡è¦çš„å­¦ä¹ ç‚¹ï¼š

**æ¨å¯¼è¿‡ç¨‹**:
- **å½“å‰å·²é€‰**: `current.size()` ä¸ªå…ƒç´ 
- **è¿˜éœ€é€‰æ‹©**: `need = k - current.size()` ä¸ªå…ƒç´   
- **ä»iåˆ°nçš„å‰©ä½™æ•°å­—**: `n - i + 1` ä¸ªæ•°å­—
- **å‰ªææ¡ä»¶**: å‰©ä½™æ•°å­— â‰¥ è¿˜éœ€æ•°å­—ï¼Œå³ `n - i + 1 >= need`
- **åŒ–ç®€å¾—åˆ°**: `i <= n - need + 1`

**ä¼˜åŒ–æ•ˆæœ**:
- **æ— å‰ªæ**: å¯èƒ½æ¢ç´¢åˆ° `i = n` æ‰å‘ç°æ•°å­—ä¸å¤Ÿ
- **æœ‰å‰ªæ**: åœ¨ `i > n - need + 1` æ—¶ç›´æ¥è·³è¿‡ï¼Œå¤§å¹…å‡å°‘é€’å½’åˆ†æ”¯

#### ç®—æ³•æ€ç»´è¿›åŒ–
```
78é¢˜ï¼šæ— çº¦æŸå­é›†ç”Ÿæˆ
    â†“ (åŠ å…¥é•¿åº¦çº¦æŸ)
77é¢˜ï¼šå›ºå®šé•¿åº¦ç»„åˆç”Ÿæˆ  
    â†“ (åŠ å…¥å‰ªæä¼˜åŒ–)
é«˜æ•ˆç»„åˆç®—æ³•ï¼šæ•°å­¦æ¨å¯¼å‡å°‘æœç´¢ç©ºé—´
```

#### å›æº¯æ¨¡å¼è¯†åˆ«
**åŸºäºç´¢å¼•é€‰æ‹©** (78é¢˜æ¨¡å¼):
```cpp
// äºŒé€‰ä¸€ï¼šé€‰æ‹©å½“å‰å…ƒç´  or ä¸é€‰æ‹©å½“å‰å…ƒç´ 
backtrack(index + 1, current);           // ä¸é€‰æ‹©
current.push_back(nums[index]);          // é€‰æ‹©  
backtrack(index + 1, current);           // é€’å½’
current.pop_back();                       // æ’¤é”€
```

**åŸºäºå¾ªç¯æšä¸¾** (77é¢˜æ¨¡å¼):
```cpp
// å¤šé€‰ä¸€ï¼šä»å‰©ä½™å€™é€‰ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ª
for (int i = start; i <= n; i++) {
    current.push_back(i);                 // é€‰æ‹©
    backtrack(i + 1, current);            // é€’å½’
    current.pop_back();                    // æ’¤é”€
}
```

#### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(C(n,k)) - æ•°å­¦ç»„åˆæ•°
- **å‰ªæä¼˜åŒ–**: æ˜¾è‘—å‡å°‘å®é™…é€’å½’è°ƒç”¨æ¬¡æ•°
- **ç©ºé—´å¤æ‚åº¦**: O(k) - é€’å½’æ ˆæ·±åº¦ä¸ºk

#### å…³é”®ç†è§£çªç ´
1. **çº¦æŸæ¡ä»¶å»ºæ¨¡**: å¦‚ä½•å°†\"å›ºå®šé•¿åº¦\"çº¦æŸè½¬åŒ–ä¸ºé€’å½’ç»ˆæ­¢æ¡ä»¶
2. **å‰ªæä¼˜åŒ–æ€ç»´**: æ•°å­¦æ¨å¯¼å‡å°‘æ— æ•ˆæœç´¢åˆ†æ”¯
3. **æœç´¢ç©ºé—´æ§åˆ¶**: startå‚æ•°ç¡®ä¿ä¸é‡å¤ï¼Œå‰ªææ¡ä»¶ç¡®ä¿æœ‰è§£

**ä»78é¢˜åˆ°77é¢˜çš„ç®—æ³•è¿›åŒ–**:
- **78é¢˜**: å»ºç«‹åŸºç¡€å›æº¯æ€ç»´ï¼Œç†è§£é€‰æ‹©â†’é€’å½’â†’æ’¤é”€æ¨¡å¼
- **77é¢˜**: åŠ å…¥çº¦æŸæ¡ä»¶ï¼Œå­¦ä¹ å‰ªæä¼˜åŒ–æŠ€å·§
- **æ ¸å¿ƒçªç ´**: ä»ç©·ä¸¾æ‰€æœ‰å¯èƒ½åˆ°æ™ºèƒ½å‡å°‘æœç´¢ç©ºé—´

### 90. å­é›† II (Medium) - å»é‡å›æº¯é«˜çº§æŠ€å·§ â­â­â­
**æ ¸å¿ƒæ€æƒ³**: åœ¨å›æº¯åŸºç¡€ä¸Šå¤„ç†é‡å¤å…ƒç´ ï¼ŒæŒæ¡å»é‡ç­–ç•¥
**ç®—æ³•æœ¬è´¨**: ç”Ÿæˆæ‰€æœ‰ä¸é‡å¤å­é›†ï¼Œé¿å…é‡å¤å…ƒç´ äº§ç”Ÿç›¸åŒç»“æœ

#### ä¸78é¢˜å­é›†çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹å¾ | 78é¢˜å­é›† | 90é¢˜å­é›†II |
|------|----------|------------|
| **è¾“å…¥çº¦æŸ** | å…ƒç´ äº’ä¸ç›¸åŒ | å¯èƒ½åŒ…å«é‡å¤å…ƒç´  |
| **å»é‡éœ€æ±‚** | æ— éœ€å»é‡ | å¿…é¡»é¿å…é‡å¤å­é›† |
| **é¢„å¤„ç†** | æ— éœ€æ’åº | å¿…é¡»å…ˆæ’åº |
| **æ ¸å¿ƒæŠ€å·§** | æ ‡å‡†å›æº¯ | æ’åº+åŒå±‚å»é‡ |

#### å»é‡ç­–ç•¥æ ¸å¿ƒåŸç†

**é—®é¢˜æ ¹æº**: é‡å¤å…ƒç´ åœ¨åŒä¸€é€’å½’å±‚è¢«é€‰æ‹©ä¼šç”Ÿæˆç›¸åŒå­é›†
```
è¾“å…¥: [1,2,2] (é‡å¤å…ƒç´ )
é”™è¯¯ç»“æœ: [[],[1],[1,2],[1,2,2],[2],[2,2],[2]] â† ä¸¤ä¸ª[2]é‡å¤
æ­£ç¡®ç»“æœ: [[],[1],[1,2],[1,2,2],[2],[2,2]]     â† å»é‡å
```

**è§£å†³æ–¹æ¡ˆ**: **æ’åº + åŒå±‚å»é‡**
```cpp
sort(nums.begin(), nums.end());  // ç¬¬1æ­¥: æ’åºä½¿ç›¸åŒå…ƒç´ ç›¸é‚»

void backtrack(vector<int>& nums, int start, vector<int>& current, vector<vector<int>>& result) {
    result.push_back(current);   // æ”¶é›†å½“å‰å­é›†
    
    for (int i = start; i < nums.size(); i++) {
        // ç¬¬2æ­¥: åŒå±‚å»é‡çš„æ ¸å¿ƒåˆ¤æ–­
        if (i > start && nums[i] == nums[i-1]) continue;
        
        current.push_back(nums[i]);
        backtrack(nums, i + 1, current, result);
        current.pop_back();
    }
}
```

#### å»é‡æ¡ä»¶æ·±åº¦è§£æ

**æ ¸å¿ƒå…¬å¼**: `if (i > start && nums[i] == nums[i-1]) continue;`

**æ¡ä»¶åˆ†è§£**:
- `i > start`: ç¡®ä¿ä¸æ˜¯å½“å‰é€’å½’å±‚çš„ç¬¬ä¸€ä¸ªé€‰æ‹©
- `nums[i] == nums[i-1]`: å½“å‰å…ƒç´ ä¸å‰ä¸€ä¸ªå…ƒç´ å€¼ç›¸åŒ
- **ç»„åˆå«ä¹‰**: åœ¨åŒä¸€å±‚é€’å½’ä¸­ï¼Œè·³è¿‡é‡å¤å€¼çš„åç»­é€‰æ‹©

**ä¸ºä»€ä¹ˆ `i > start` è€Œä¸æ˜¯ `i > 0`ï¼Ÿ**
```cpp
// åœºæ™¯: [1,2,2] åœ¨é€‰æ‹©1åï¼Œstart=1
for (int i = 1; i < 3; i++) {  // start=1, å¯ä»¥ä»ç¬¬äºŒä¸ª2å¼€å§‹
    // i=1: nums[1]=2â‚, i==start, ä¸è·³è¿‡ âœ…
    // i=2: nums[2]=2â‚‚, i>startä¸”nums[2]==nums[1], è·³è¿‡ âœ…
}
```

**åŒå±‚ vs è·¨å±‚çš„ç»å…¸ç¤ºä¾‹**:
```
æ•°ç»„: [1,2,2] (å·²æ’åº)

é€’å½’æ ‘åˆ†æ:
        []
    /   |   \
   1   2â‚  (2â‚‚) â† åŒå±‚: è·³è¿‡2â‚‚ï¼Œé¿å…é‡å¤å­é›†[2]
  /|    |
[1,2â‚] [2â‚,2â‚‚] â† è·¨å±‚: å…è®¸é€‰æ‹©2â‚‚ï¼Œç”Ÿæˆ[1,2â‚,2â‚‚]
```

#### æ’åºçš„å…³é”®ä½œç”¨
```cpp
sort(nums.begin(), nums.end());  // å¿…éœ€çš„é¢„å¤„ç†æ­¥éª¤
```

**ä½œç”¨**:
1. **ç›¸é‚»æ€§**: ä½¿ç›¸åŒå…ƒç´ ç›¸é‚»ï¼Œä¾¿äº `nums[i] == nums[i-1]` æ¯”è¾ƒ
2. **é¡ºåºæ€§**: ç¡®ä¿é‡å¤å…ƒç´ çš„å¤„ç†é¡ºåºä¸€è‡´
3. **æ•ˆç‡æ€§**: O(n log n)æ’åº vs O(2^n)å®Œæ•´æœç´¢ï¼Œæ’åºæˆæœ¬å¯å¿½ç•¥

#### ç®—æ³•å¤æ‚åº¦
- **æ—¶é—´å¤æ‚åº¦**: O(2^n) - æœ€å¤š2^nä¸ªå­é›†ï¼ŒåŠ ä¸ŠO(n log n)æ’åº
- **ç©ºé—´å¤æ‚åº¦**: O(n) - é€’å½’æ ˆæ·±åº¦ä¸ºn
- **å»é‡æ•ˆæœ**: ä»å¯èƒ½çš„é‡å¤ç»“æœå‡å°‘åˆ°å”¯ä¸€ç»“æœé›†

#### å›æº¯ç®—æ³•è¿›åŒ–è·¯å¾„æ€»ç»“
```
78é¢˜: åŸºç¡€å›æº¯ â†’ å»ºç«‹å†³ç­–æ ‘æ€ç»´
    â†“ (åŠ å…¥çº¦æŸæ¡ä»¶)
77é¢˜: çº¦æŸå›æº¯ â†’ æŒæ¡å‰ªæä¼˜åŒ–æŠ€å·§  
    â†“ (å¤„ç†é‡å¤å…ƒç´ )
90é¢˜: å»é‡å›æº¯ â†’ ç²¾é€šé‡å¤å…ƒç´ å¤„ç†ç­–ç•¥
```

#### æ‰©å±•åº”ç”¨
- **ç»„åˆå»é‡**: 40. ç»„åˆæ€»å’ŒII (é‡å¤å…ƒç´ çš„ç»„åˆé—®é¢˜)
- **æ’åˆ—å»é‡**: 47. å…¨æ’åˆ—II (é‡å¤å…ƒç´ çš„æ’åˆ—é—®é¢˜)  
- **é«˜çº§å»é‡**: 491. é€’å¢å­åºåˆ— (ä¸æ’åºçš„å»é‡ç­–ç•¥)

#### å…³é”®ç†è§£çªç ´
1. **å»é‡æœ¬è´¨**: é¿å…åœ¨åŒä¸€å†³ç­–å±‚é€‰æ‹©ç›¸åŒå€¼çš„ä¸åŒå…ƒç´ 
2. **æ’åºä½œç”¨**: å°†å»é‡åˆ¤æ–­ç®€åŒ–ä¸ºç›¸é‚»å…ƒç´ æ¯”è¾ƒ
3. **å±‚æ¬¡åŒºåˆ†**: åŒå±‚å»é‡ vs è·¨å±‚å¯é‡å¤çš„ç²¾ç¡®ç†è§£
4. **ç®—æ³•è®¾è®¡**: é¢„å¤„ç†+æ ¸å¿ƒé€»è¾‘çš„ç»„åˆä¼˜åŒ–æ€ç»´

**ä»78é¢˜åˆ°90é¢˜çš„æ€ç»´è·ƒè¿**:
- **78é¢˜**: å»ºç«‹å›æº¯åŸºç¡€æ€ç»´ï¼ŒæŒæ¡é€‰æ‹©â†’é€’å½’â†’æ’¤é”€æ¨¡å¼
- **77é¢˜**: å­¦ä¹ çº¦æŸå»ºæ¨¡å’Œå‰ªæä¼˜åŒ–æŠ€å·§
- **90é¢˜**: æŒæ¡é‡å¤å…ƒç´ å¤„ç†ï¼Œå®Œæˆå›æº¯ç®—æ³•æ ¸å¿ƒæŠ€èƒ½ä½“ç³»

90é¢˜æ ‡å¿—ç€å›æº¯ç®—æ³•åŸºç¡€æŠ€èƒ½çš„å…¨é¢æŒæ¡ï¼Œä¸ºåç»­å¤æ‚å›æº¯é—®é¢˜å¥ å®šåšå®åŸºç¡€ã€‚

### 46. å…¨æ’åˆ— (Medium) - çŠ¶æ€ç®¡ç†ä¸æ’åˆ—ç”Ÿæˆ â­â­â­
**æ ¸å¿ƒæ€æƒ³**: ç”Ÿæˆæ•°ç»„çš„æ‰€æœ‰å¯èƒ½æ’åˆ—ï¼ŒæŒæ¡usedæ•°ç»„çŠ¶æ€ç®¡ç†æŠ€å·§
**ç®—æ³•æœ¬è´¨**: å…¨é€‰æ‰€æœ‰å…ƒç´ ä½†å…³å¿ƒé¡ºåºï¼Œä»å‰©ä½™æœªä½¿ç”¨å…ƒç´ ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ª

#### ä¸å­é›†ç±»é¢˜ç›®çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹å¾ | 78é¢˜å­é›† | 46é¢˜å…¨æ’åˆ— |
|------|----------|------------|
| **é€‰æ‹©ç­–ç•¥** | é€‰æ‹©/ä¸é€‰æ‹© | å…¨é€‰+é¡ºåºç®¡ç† |
| **çŠ¶æ€ç®¡ç†** | èµ·å§‹ä½ç½®ç´¢å¼• | usedæ•°ç»„æ ‡è®° |
| **å¾ªç¯æ–¹å¼** | ä»startå¼€å§‹é€’å¢ | ä»0å¼€å§‹éå†æ‰€æœ‰ |
| **ç»“æœæ•°é‡** | 2^nä¸ªå­é›† | n!ä¸ªæ’åˆ— |
| **æ ¸å¿ƒæ€ç»´** | å…³å¿ƒå…ƒç´ ç»„åˆ | å…³å¿ƒå…ƒç´ é¡ºåº |

#### ä¸¤ç§ç»å…¸å®ç°æ–¹å¼

**1. ä¼ ç»Ÿå›æº¯ + usedæ•°ç»„** â­ - æ ‡å‡†çŠ¶æ€ç®¡ç†
```cpp
void backtrack(vector<int>& nums, vector<int>& path, vector<bool>& used, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢ï¼šè·¯å¾„é•¿åº¦ç­‰äºåŸæ•°ç»„é•¿åº¦
    if (path.size() == nums.size()) {
        result.push_back(path);
        return;
    }
    
    // ä»æ‰€æœ‰å…ƒç´ ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæœªä½¿ç”¨çš„
    for (int i = 0; i < nums.size(); i++) {
        if (used[i]) continue;  // å‰ªæï¼šè·³è¿‡å·²ä½¿ç”¨å…ƒç´ 
        
        path.push_back(nums[i]);     // é€‰æ‹©
        used[i] = true;              // æ ‡è®°ä½¿ç”¨
        backtrack(nums, path, used, result);  // é€’å½’
        path.pop_back();             // æ’¤é”€é€‰æ‹©
        used[i] = false;             // æ’¤é”€æ ‡è®°
    }
}
```

**2. äº¤æ¢å¼å›æº¯** â­â­ - åŸåœ°äº¤æ¢ä¼˜åŒ–
```cpp
void backtrack(vector<int>& nums, int index, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢ï¼šå¤„ç†åˆ°æœ€åä¸€ä¸ªå…ƒç´ 
    if (index == nums.size() - 1) {
        result.push_back(nums);
        return;
    }
    
    // å°†ç¬¬indexä½ä¸åé¢æ¯ä¸ªä½ç½®äº¤æ¢
    for (int i = index; i < nums.size(); i++) {
        swap(nums[i], nums[index]);       // äº¤æ¢åˆ°indexä½ç½®
        backtrack(nums, index + 1, result);  // é€’å½’å¤„ç†ä¸‹ä¸€ä½
        swap(nums[i], nums[index]);       // æ¢å¤äº¤æ¢
    }
}
```

#### æ ¸å¿ƒç†è§£çªç ´

**1. usedæ•°ç»„çš„åŒé‡ä½œç”¨**
- **å…ƒç´ å»é‡**: é¿å…åŒä¸€ä¸ªå…ƒç´ è¢«é‡å¤ä½¿ç”¨
- **çŠ¶æ€ç®¡ç†**: è®°å½•å½“å‰æ’åˆ—çš„æ„é€ è¿›åº¦

**2. ç»ˆæ­¢æ¡ä»¶ç†è§£**
```cpp
// ä¼ ç»Ÿæ–¹æ³•: path.size() == nums.size()
// å«ä¹‰: æ‰€æœ‰ä½ç½®éƒ½å¡«æ»¡äº†ï¼Œå¾—åˆ°å®Œæ•´æ’åˆ—

// äº¤æ¢æ–¹æ³•: index == nums.size() - 1  
// å«ä¹‰: åªå‰©æœ€åä¸€ä¸ªä½ç½®ï¼Œä¸éœ€è¦äº¤æ¢ï¼Œè‡ªç„¶ç¡®å®š
```

**3. å¾ªç¯èµ·å§‹ä½ç½®çš„å·®å¼‚**
```cpp
// å­é›†ç±» (78/77/90é¢˜)
for (int i = start; i < nums.size(); i++)  // ä»startå¼€å§‹ï¼Œé¿å…é‡å¤

// æ’åˆ—ç±» (46/47é¢˜)  
for (int i = 0; i < nums.size(); i++)      // ä»0å¼€å§‹ï¼Œæ‰€æœ‰å…ƒç´ éƒ½å¯é€‰
```

#### ç®—æ³•ä¼˜åŠ¿å¯¹æ¯”
| æ–¹å¼ | ç©ºé—´å¤æ‚åº¦ | å®ç°éš¾åº¦ | æ‰©å±•æ€§ |
|------|------------|----------|--------|
| **ä¼ ç»Ÿå›æº¯** | O(n)é¢å¤–ç©ºé—´ | å®¹æ˜“ç†è§£ | æ˜“æ‰©å±•åˆ°47é¢˜å»é‡ |
| **äº¤æ¢å›æº¯** | O(1)é¢å¤–ç©ºé—´ | éœ€è¦ç†è§£äº¤æ¢æœºåˆ¶ | å»é‡å®ç°å¤æ‚ |

#### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(n! Ã— n) - ç”Ÿæˆn!ä¸ªæ’åˆ—ï¼Œæ¯ä¸ªæ’åˆ—é•¿åº¦ä¸ºn
- **ç©ºé—´å¤æ‚åº¦**: O(n) - é€’å½’æ ˆæ·±åº¦n + pathæ•°ç»„n + usedæ•°ç»„n

### 47. å…¨æ’åˆ— II (Medium) - å»é‡å›æº¯é«˜çº§åº”ç”¨ â­â­â­â­
**æ ¸å¿ƒæ€æƒ³**: åœ¨å…¨æ’åˆ—åŸºç¡€ä¸Šå¤„ç†é‡å¤å…ƒç´ ï¼ŒæŒæ¡é«˜çº§å»é‡ç­–ç•¥
**ç®—æ³•æœ¬è´¨**: 46é¢˜å…¨æ’åˆ— + 90é¢˜å»é‡æŠ€å·§çš„å®Œç¾èåˆ

#### ä¸46é¢˜å…¨æ’åˆ—çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹å¾ | 46é¢˜å…¨æ’åˆ— | 47é¢˜å…¨æ’åˆ—II |
|------|------------|--------------|
| **è¾“å…¥çº¦æŸ** | å…ƒç´ äº’ä¸ç›¸åŒ | å¯èƒ½åŒ…å«é‡å¤å…ƒç´  |
| **å»é‡éœ€æ±‚** | æ— éœ€å»é‡ | é¿å…é‡å¤æ’åˆ— |
| **é¢„å¤„ç†** | æ— éœ€æ’åº | å¿…é¡»å…ˆæ’åº |
| **æ ¸å¿ƒæŠ€å·§** | usedæ•°ç»„çŠ¶æ€ç®¡ç† | æ’åº+åŒå±‚å»é‡+usedæ•°ç»„ |

#### å»é‡ç­–ç•¥æ ¸å¿ƒçªç ´

**å…³é”®æ´å¯Ÿ**: usedæ•°ç»„åœ¨47é¢˜ä¸­æ‰¿æ‹…åŒé‡èŒè´£
1. **å…ƒç´ ä½¿ç”¨æ ‡è®°**: é˜²æ­¢åŒä¸€ä½ç½®å…ƒç´ é‡å¤ä½¿ç”¨ (46é¢˜åŸæœ‰åŠŸèƒ½)
2. **é€’å½’å±‚æ¬¡åˆ¤æ–­**: åŒºåˆ†åŒå±‚é€‰æ‹© vs è·¨å±‚é€‰æ‹© (47é¢˜æ–°å¢åŠŸèƒ½)

**æ ¸å¿ƒå»é‡æ¡ä»¶**:
```cpp
if (i > 0 && nums[i] == nums[i-1] && !used[i-1]) {
    continue;  // åŒå±‚å»é‡ï¼šè·³è¿‡é‡å¤å…ƒç´ çš„åç»­é€‰æ‹©
}
```

#### æ¡ä»¶åˆ†è§£æ·±åº¦è§£æ

**ä¸‰ä¸ªå­æ¡ä»¶çš„ååŒä½œç”¨**:
- `i > 0`: ç¡®ä¿ä¸æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé¿å…æ•°ç»„è¶Šç•Œ
- `nums[i] == nums[i-1]`: å½“å‰å…ƒç´ ä¸å‰ä¸€ä¸ªå…ƒç´ å€¼ç›¸åŒ
- `!used[i-1]`: å‰ä¸€ä¸ªç›¸åŒå…ƒç´ åœ¨å½“å‰å±‚è¿˜æœªè¢«ä½¿ç”¨

**usedæ•°ç»„çš„å±‚æ¬¡åˆ¤æ–­æœºåˆ¶**:
```cpp
// åœºæ™¯: [1,1,2] å·²æ’åº
// ç¬¬ä¸€å±‚é€’å½’ä¸­ï¼š
used = [false, false, false]
// é€‰æ‹©ç¬¬ä¸€ä¸ª1: used[0]=trueï¼Œæ­¤æ—¶used[1]=false
// å½“è€ƒè™‘ç¬¬äºŒä¸ª1æ—¶: nums[1]==nums[0] && !used[0] ä¸ºfalseï¼Œå…è®¸é€‰æ‹©

// ç¬¬äºŒå±‚é€’å½’ä¸­ï¼š
used = [true, false, false]  
// å½“éå†åˆ°ç¬¬äºŒä¸ª1æ—¶: nums[1]==nums[0] && !used[0] ä¸ºfalseï¼Œå…è®¸é€‰æ‹©
// å¦‚æœå…ˆè·³è¿‡ç¬¬ä¸€ä¸ª1ï¼Œused[0]=falseï¼Œç¬¬äºŒä¸ª1ä¼šè¢«å‰ªæ
```

**æ ¸å¿ƒæ´å¯Ÿ**: `!used[i-1]` ç¡®ä¿ç›¸åŒå…ƒç´ æŒ‰é¡ºåºä½¿ç”¨
- **åŒå±‚å‰ªæ**: ç›¸åŒå…ƒç´ åœ¨åŒä¸€å±‚åªèƒ½é€‰æ‹©ç¬¬ä¸€ä¸ªå‡ºç°çš„
- **è·¨å±‚å…è®¸**: ä¸åŒå±‚å¯ä»¥é€‰æ‹©ç›¸åŒå€¼çš„ä¸åŒå…ƒç´ 

#### ç®—æ³•å®ç°
```cpp
void backtrack(vector<int>& nums, vector<int>& path, vector<bool>& used, vector<vector<int>>& result) {
    if (path.size() == nums.size()) {
        result.push_back(path);
        return;
    }
    
    for (int i = 0; i < nums.size(); i++) {
        if (used[i]) continue;  // å·²ä½¿ç”¨å…ƒç´ è·³è¿‡
        
        // æ ¸å¿ƒå»é‡é€»è¾‘
        if (i > 0 && nums[i] == nums[i-1] && !used[i-1]) {
            continue;  // åŒå±‚å»é‡å‰ªæ
        }
        
        path.push_back(nums[i]);
        used[i] = true;
        backtrack(nums, path, used, result);
        path.pop_back();
        used[i] = false;
    }
}
```

#### å›æº¯ç®—æ³•è¿›åŒ–æ€»ç»“

**å®Œæ•´æŠ€èƒ½ä½“ç³»**:
```
78é¢˜å­é›†: åŸºç¡€å›æº¯æ€ç»´å»ºç«‹
    â†“
77é¢˜ç»„åˆ: çº¦æŸæ¡ä»¶ + å‰ªæä¼˜åŒ–
    â†“  
90é¢˜å­é›†II: å»é‡ç­–ç•¥åˆæ­¥ (æ’åº+åŒå±‚å»é‡)
    â†“
46é¢˜å…¨æ’åˆ—: çŠ¶æ€ç®¡ç†æŠ€å·§ (usedæ•°ç»„)
    â†“
47é¢˜å…¨æ’åˆ—II: é«˜çº§å»é‡åº”ç”¨ (usedæ•°ç»„åŒé‡ä½œç”¨)
    â†“
39é¢˜ç»„åˆæ€»å’Œ: æ— é™é‡å¤ä½¿ç”¨ç­–ç•¥ (å…ƒç´ å¯é‡å¤é€‰æ‹©)
```

**47é¢˜çš„é›†å¤§æˆæ„ä¹‰**:
- **æŠ€æœ¯èåˆ**: 46é¢˜usedæ•°ç»„ + 90é¢˜å»é‡æ€æƒ³
- **æ¦‚å¿µå‡å**: usedæ•°ç»„ä»å•ä¸€æ ‡è®°åˆ°åŒé‡åŠŸèƒ½
- **æ€ç»´çªç ´**: ç†è§£çŠ¶æ€æ•°ç»„åœ¨å¤æ‚åœºæ™¯ä¸‹çš„å¤šé‡å«ä¹‰

#### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(n! Ã— n) - æœ€åæƒ…å†µä»éœ€ç”Ÿæˆn!ç§æ’åˆ—
- **å»é‡æ•ˆæœ**: æ˜¾è‘—å‡å°‘å®é™…ç”Ÿæˆçš„æ’åˆ—æ•°é‡
- **ç©ºé—´å¤æ‚åº¦**: O(n) - é€’å½’æ ˆ + pathæ•°ç»„ + usedæ•°ç»„

#### æ‰©å±•åº”ç”¨
- **æ’åˆ—å˜ç§**: 31. ä¸‹ä¸€ä¸ªæ’åˆ— (æ’åˆ—çš„æ•°å­¦æ€§è´¨)
- **å­—ç¬¦ä¸²æ’åˆ—**: 567. å­—ç¬¦ä¸²çš„æ’åˆ— (æ»‘åŠ¨çª—å£å˜ç§)
- **é«˜çº§å»é‡**: 491. é€’å¢å­åºåˆ— (æ— æ’åºçš„å»é‡æŠ€å·§)

#### å…³é”®ç†è§£è¦ç‚¹
1. **çŠ¶æ€æ•°ç»„å¤šç”¨é€”**: usedæ•°ç»„çš„å…ƒç´ æ ‡è®° + å±‚æ¬¡åˆ¤æ–­åŒé‡åŠŸèƒ½
2. **å»é‡ç­–ç•¥å‡çº§**: ä»90é¢˜çš„ç®€å•åŒå±‚å»é‡åˆ°47é¢˜çš„å¤æ‚é€’å½’å±‚æ¬¡åˆ¤æ–­
3. **ç®—æ³•è®¾è®¡æ€ç»´**: å¦‚ä½•å¤ç”¨å·²æœ‰æŠ€å·§è§£å†³æ›´å¤æ‚çš„é—®é¢˜
4. **å‰ªæç­–ç•¥ç²¾è¿›**: ä»æ•°å­¦å‰ªæåˆ°é€»è¾‘å‰ªæçš„é«˜çº§åº”ç”¨

**ä»46é¢˜åˆ°47é¢˜çš„æ€ç»´è·ƒè¿**:
- **46é¢˜**: å»ºç«‹çŠ¶æ€ç®¡ç†åŸºç¡€ï¼ŒæŒæ¡usedæ•°ç»„çš„æ ‡å‡†ç”¨æ³•
- **47é¢˜**: çŠ¶æ€æ•°ç»„çš„é«˜çº§åº”ç”¨ï¼Œç†è§£å¤šé‡å«ä¹‰çš„è®¾è®¡ç²¾å¦™

47é¢˜æ˜¯å›æº¯ç®—æ³•çš„é›†å¤§æˆä¹‹ä½œï¼Œèåˆäº†å‰æœŸæ‰€æœ‰æ ¸å¿ƒæŠ€å·§ï¼Œä»£è¡¨å›æº¯ç®—æ³•è¿›é˜¶æŠ€èƒ½çš„å…¨é¢æŒæ¡ã€‚

### 39. ç»„åˆæ€»å’Œ (Medium) - å…ƒç´ æ— é™é‡å¤ä½¿ç”¨ç­–ç•¥ â­â­â­
**æ ¸å¿ƒæ€æƒ³**: åœ¨ç»„åˆåŸºç¡€ä¸Šå…è®¸å…ƒç´ æ— é™é‡å¤ä½¿ç”¨ï¼ŒæŒæ¡å…ƒç´ é‡å¤é€‰æ‹©çš„å›æº¯ç­–ç•¥
**ç®—æ³•æœ¬è´¨**: ä»æœ‰é™é€‰æ‹©åˆ°æ— é™é‡å¤ä½¿ç”¨çš„å›æº¯æ€ç»´è·ƒè¿

#### ä¸å…¶ä»–å›æº¯é¢˜ç›®çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹å¾ | 77é¢˜ç»„åˆ | 90é¢˜å­é›†II | 39é¢˜ç»„åˆæ€»å’Œ |
|------|----------|------------|-------------|
| **å…ƒç´ ä½¿ç”¨** | æ¯ä¸ªå…ƒç´ æœ€å¤šç”¨ä¸€æ¬¡ | æ¯ä¸ªå…ƒç´ æœ€å¤šç”¨ä¸€æ¬¡ | æ¯ä¸ªå…ƒç´ å¯æ— é™ä½¿ç”¨ |
| **å»é‡éœ€æ±‚** | æ— éœ€å»é‡ | éœ€è¦å»é‡ | æ— é‡å¤å…ƒç´ ï¼Œæ— éœ€å»é‡ |
| **é€’å½’å‚æ•°** | `i+1` (è·³è¿‡å½“å‰) | `i+1` (è·³è¿‡å½“å‰) | `i` (å…è®¸é‡å¤) |
| **æ ¸å¿ƒæ€ç»´** | ä¸€æ¬¡æ€§é€‰æ‹© | ä¸€æ¬¡æ€§é€‰æ‹©+å»é‡ | æ— é™é‡å¤é€‰æ‹© |

#### å…ƒç´ æ— é™ä½¿ç”¨ç­–ç•¥æ ¸å¿ƒ

**å…³é”®æ´å¯Ÿ**: é€’å½’æ—¶èµ·å§‹ä½ç½®ä¸å˜ï¼Œå…è®¸é‡å¤é€‰æ‹©å½“å‰å…ƒç´ 
```cpp
// å…¶ä»–é¢˜ç›®: é€‰æ‹©å½“å‰å…ƒç´ åï¼Œä¸‹æ¬¡ä»i+1å¼€å§‹
backtrack(candidates, target-candidates[i], i+1, path, result);

// 39é¢˜: é€‰æ‹©å½“å‰å…ƒç´ åï¼Œä¸‹æ¬¡ä»ä»iå¼€å§‹ï¼Œå…è®¸é‡å¤é€‰æ‹©
backtrack(candidates, target-candidates[i], i, path, result);
```

**é€’å½’è°ƒç”¨çš„å…³é”®åŒºåˆ«**:
- **i+1**: é€‰æ‹©å½“å‰å…ƒç´ åè·³è¿‡ï¼Œç¡®ä¿æ¯ä¸ªå…ƒç´ æœ€å¤šä½¿ç”¨ä¸€æ¬¡
- **i**: é€‰æ‹©å½“å‰å…ƒç´ åä¸è·³è¿‡ï¼Œå…è®¸åœ¨åç»­é€’å½’ä¸­å†æ¬¡é€‰æ‹©ç›¸åŒå…ƒç´ 

#### ç®—æ³•æ ¸å¿ƒå®ç°

```cpp
void backtrack(vector<int>& candidates, int target, int start, vector<int>& path, vector<vector<int>>& result) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶
    if (target == 0) {
        result.push_back(path);
        return;
    }
    if (target < 0) return;  // å‰ªæï¼šç›®æ ‡å€¼ä¸ºè´Ÿ
    
    // ä»startå¼€å§‹å°è¯•æ‰€æœ‰å€™é€‰æ•°å­—
    for (int i = start; i < candidates.size(); i++) {
        // å‰ªæä¼˜åŒ–ï¼šæ’åºåå¯æå‰ç»ˆæ­¢
        if (target < candidates[i]) break;
        
        path.push_back(candidates[i]);  // é€‰æ‹©
        backtrack(candidates, target - candidates[i], i, path, result);  // å…³é”®ï¼šiè€Œéi+1
        path.pop_back();  // æ’¤é”€
    }
}
```

#### å‰ªæä¼˜åŒ–ç­–ç•¥

**1. æ’åºé¢„å¤„ç†**:
```cpp
sort(candidates.begin(), candidates.end());  // ä¾¿äºå‰ªæ
```

**2. æå‰ç»ˆæ­¢å‰ªæ**:
```cpp
if (target < candidates[i]) break;  // åç»­å…ƒç´ æ›´å¤§ï¼Œç›´æ¥è·³å‡º
```

**3. è´Ÿå€¼å‰ªæ**:
```cpp
if (target < 0) return;  // ç›®æ ‡å€¼ä¸ºè´Ÿï¼Œæ— è§£
```

#### ä¸å…¶ä»–é¢˜ç›®çš„æ€ç»´å¯¹æ¯”

**å›æº¯ç®—æ³•æ¨¡å¼æ¼”è¿›**:
```
78é¢˜å­é›†: é€‰æ‹©/ä¸é€‰æ‹© â†’ 2^nç§å¯èƒ½
    â†“
77é¢˜ç»„åˆ: å›ºå®šé•¿åº¦k â†’ C(n,k)ç§å¯èƒ½
    â†“  
90é¢˜å­é›†II: å»é‡ç­–ç•¥ â†’ é¿å…é‡å¤ç»“æœ
    â†“
46/47é¢˜å…¨æ’åˆ—: å…¨é€‰+é¡ºåº â†’ n!ç§æ’åˆ—
    â†“
39é¢˜ç»„åˆæ€»å’Œ: æ— é™é‡å¤ä½¿ç”¨ â†’ ç›®æ ‡å¯¼å‘æœç´¢
```

**é€’å½’è°ƒç”¨æ¨¡å¼å¯¹æ¯”**:
```cpp
// å­é›†/ç»„åˆç±»ï¼šä¸€æ¬¡æ€§é€‰æ‹©
for (int i = start; i < nums.size(); i++) {
    path.push_back(nums[i]);
    backtrack(nums, i + 1, path, result);  // i+1è·³è¿‡å½“å‰
    path.pop_back();
}

// ç»„åˆæ€»å’Œç±»ï¼šå…è®¸é‡å¤
for (int i = start; i < candidates.size(); i++) {
    path.push_back(candidates[i]);
    backtrack(candidates, target - candidates[i], i, path, result);  // iå…è®¸é‡å¤
    path.pop_back();
}
```

#### ç®—æ³•ç‰¹ç‚¹æ€»ç»“

**æ ¸å¿ƒç‰¹å¾**:
1. **å…ƒç´ é‡å¤ä½¿ç”¨**: åŒä¸€å…ƒç´ å¯åœ¨ä¸€ä¸ªç»„åˆä¸­å¤šæ¬¡å‡ºç°
2. **ç›®æ ‡å¯¼å‘**: é€šè¿‡targeté€’å‡æ§åˆ¶é€’å½’æ·±åº¦
3. **ç»„åˆå»é‡**: é€šè¿‡startå‚æ•°ç¡®ä¿æŒ‰é¡ºåºé€‰æ‹©ï¼Œé¿å…é‡å¤ç»„åˆ
4. **å‰ªæä¼˜åŒ–**: æ’åº+æå‰ç»ˆæ­¢æ˜¾è‘—å‡å°‘æœç´¢ç©ºé—´

**æ˜“é”™ç‚¹é¢„é˜²**:
1. **é€’å½’å‚æ•°**: è®°ä½æ˜¯`i`ä¸æ˜¯`i+1`ï¼Œè¿™æ˜¯39é¢˜çš„æ ¸å¿ƒç‰¹å¾
2. **æ’åºä½œç”¨**: æ’åºæ˜¯ä¸ºäº†å‰ªæä¼˜åŒ–ï¼Œä¸æ˜¯ä¸ºäº†å»é‡
3. **targetå«ä¹‰**: targetè¡¨ç¤ºå‰©ä½™ç›®æ ‡å€¼ï¼Œé€’å‡åˆ°0æ—¶æ”¶é›†ç»“æœ
4. **ç»„åˆæ¦‚å¿µ**: [2,3]å’Œ[3,2]æ˜¯åŒä¸€ä¸ªç»„åˆï¼Œé€šè¿‡startå‚æ•°é¿å…

#### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(N^(T/M)) - Næ˜¯æ•°ç»„é•¿åº¦ï¼ŒTæ˜¯targetï¼ŒMæ˜¯æ•°ç»„æœ€å°å€¼
- **ç©ºé—´å¤æ‚åº¦**: O(T/M) - é€’å½’æ ˆæ·±åº¦æœ€å¤§ä¸ºtargeté™¤ä»¥æœ€å°å€™é€‰æ•°
- **å‰ªææ•ˆæœ**: æ’åºåæ˜¾è‘—å‡å°‘å®é™…é€’å½’è°ƒç”¨æ¬¡æ•°

#### æ‰©å±•åº”ç”¨
- **40. ç»„åˆæ€»å’ŒII**: æœ‰é‡å¤å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ åªèƒ½ä½¿ç”¨ä¸€æ¬¡
- **216. ç»„åˆæ€»å’ŒIII**: å›ºå®šç»„åˆé•¿åº¦ï¼Œæ•°å­—1-9å„ç”¨ä¸€æ¬¡
- **377. ç»„åˆæ€»å’Œâ…£**: è€ƒè™‘é¡ºåºçš„ç»„åˆæ€»å’Œ(æ’åˆ—)

#### å…³é”®ç†è§£è¦ç‚¹
1. **æ— é™ä½¿ç”¨ç­–ç•¥**: é€’å½’æ—¶èµ·å§‹ä½ç½®ä¸å˜çš„æ·±åˆ»å«ä¹‰
2. **ç›®æ ‡é€’å‡æ¨¡å¼**: é€šè¿‡targetæ§åˆ¶é€’å½’ç»ˆæ­¢çš„ä¼˜é›…è®¾è®¡
3. **å‰ªæä¼˜åŒ–ä»·å€¼**: æ’åºé¢„å¤„ç†åœ¨å›æº¯ç®—æ³•ä¸­çš„é‡è¦ä½œç”¨
4. **ç»„åˆvsæ’åˆ—**: ç†è§£é¡ºåºæ— å…³æ€§åœ¨ç®—æ³•è®¾è®¡ä¸­çš„ä½“ç°

**ä»ç»„åˆåˆ°ç»„åˆæ€»å’Œçš„æ€ç»´è·ƒè¿**:
- **77é¢˜ç»„åˆ**: å›ºå®šé•¿åº¦çš„ä¸€æ¬¡æ€§é€‰æ‹©
- **39é¢˜ç»„åˆæ€»å’Œ**: ç›®æ ‡å¯¼å‘çš„æ— é™é‡å¤é€‰æ‹©

39é¢˜æ ‡å¿—ç€å›æº¯ç®—æ³•åœ¨å…ƒç´ ä½¿ç”¨ç­–ç•¥ä¸Šçš„é‡è¦çªç ´ï¼Œä»"ä¸€æ¬¡æ€§æ¶ˆè´¹"åˆ°"æ— é™é‡å¤ä½¿ç”¨"çš„æ€ç»´æ¨¡å¼è½¬å˜ï¼Œä¸ºè§£å†³æ›´å¤æ‚çš„ç»„åˆé—®é¢˜å¥ å®šäº†åŸºç¡€ã€‚

### 40. ç»„åˆæ€»å’Œ II (Medium) - ç®—æ³•æŠ€å·§èåˆé›†å¤§æˆ â­â­â­â­
**æ ¸å¿ƒæ€æƒ³**: 39é¢˜ç›®æ ‡é€’å‡ + 90é¢˜å»é‡ç­–ç•¥çš„å®Œç¾èåˆï¼Œå¤„ç†æœ‰é‡å¤å…ƒç´ çš„ç»„åˆæ€»å’Œé—®é¢˜
**ç®—æ³•æœ¬è´¨**: åŒé‡çº¦æŸä¸‹çš„å›æº¯è®¾è®¡ - æ—¢è¦å»é‡åˆè¦æ»¡è¶³targetçº¦æŸ

#### ä¸ç›¸å…³é¢˜ç›®çš„æ ¸å¿ƒå¯¹æ¯”
| é¢˜ç›®ç‰¹å¾ | 39é¢˜ç»„åˆæ€»å’Œ | 90é¢˜å­é›†II | 40é¢˜ç»„åˆæ€»å’ŒII |
|----------|-------------|------------|---------------|
| **é‡å¤å…ƒç´ ** | æ— é‡å¤å…ƒç´  | æœ‰é‡å¤å…ƒç´  | æœ‰é‡å¤å…ƒç´  |
| **targetçº¦æŸ** | æœ‰targetçº¦æŸ | æ— targetçº¦æŸ | æœ‰targetçº¦æŸ |
| **å…ƒç´ ä½¿ç”¨** | å¯é‡å¤ä½¿ç”¨ | ä»…ç”¨ä¸€æ¬¡ | ä»…ç”¨ä¸€æ¬¡ |
| **é€’å½’å‚æ•°** | `i`(å…è®¸é‡å¤) | `i+1`(ä»…ç”¨ä¸€æ¬¡) | `i+1`(ä»…ç”¨ä¸€æ¬¡) |
| **å»é‡éœ€æ±‚** | æ— éœ€å»é‡ | éœ€è¦å»é‡ | éœ€è¦å»é‡ |

#### åŒé‡çº¦æŸæœºåˆ¶æ·±åº¦åˆ†æ

**çº¦æŸ1: æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡**
```cpp
// é€šè¿‡i+1å®ç°ä½ç½®çº§åˆ«çš„å‘å‰æ¨è¿›
backtrack(candidates, target - candidates[i], i + 1, path, result);
```
- **ä½œç”¨æœºåˆ¶**: å¼ºåˆ¶"å‘å‰æ¨è¿›"çš„é€‰æ‹©é¡ºåº
- **é¿å…é—®é¢˜**: é˜²æ­¢é€‰æ‹©åŒä¸€ä½ç½®çš„æ•°å­—å¤šæ¬¡
- **æ§åˆ¶èŒƒå›´**: ä½ç½®çº§åˆ«çš„é¡ºåºæ§åˆ¶

**çº¦æŸ2: è§£é›†ä¸åŒ…å«é‡å¤ç»„åˆ**
```cpp
// é€šè¿‡åŒå±‚å»é‡å¤„ç†é‡å¤å…ƒç´ 
if (i > start && candidates[i] == candidates[i-1]) continue;
```
- **ä½œç”¨æœºåˆ¶**: åŒå±‚è·³è¿‡é‡å¤å€¼ï¼Œè·¨å±‚å…è®¸ä½¿ç”¨
- **é¿å…é—®é¢˜**: é˜²æ­¢ä¸åŒä½ç½®çš„ç›¸åŒå€¼äº§ç”Ÿé‡å¤ç»„åˆ
- **æ§åˆ¶èŒƒå›´**: å€¼çº§åˆ«çš„é‡å¤æ§åˆ¶

#### æ ¸å¿ƒæ´å¯Ÿï¼šä¸ºä»€ä¹ˆéœ€è¦åŒé‡çº¦æŸï¼Ÿ

**æ·±åº¦ç†è§£**: i+1ç¡®å®èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…é‡å¤ç»„åˆï¼Œä½†é¢å¯¹é‡å¤å…ƒç´ æ—¶ä¸å¤Ÿ

**æ¡ˆä¾‹åˆ†æ**: `candidates = [1,1,2], target = 3`

**ä»…ç”¨i+1çº¦æŸ**ï¼ˆæ— å»é‡æ¡ä»¶ï¼‰:
```
é€‰æ‹©1(ä½ç½®0) + é€‰æ‹©2(ä½ç½®2) â†’ [1,2] âœ“
é€‰æ‹©1(ä½ç½®1) + é€‰æ‹©2(ä½ç½®2) â†’ [1,2] âœ“ é‡å¤äº†ï¼
```

**åŠ ä¸Šå»é‡çº¦æŸ**:
```
é€‰æ‹©1(ä½ç½®0) + é€‰æ‹©2(ä½ç½®2) â†’ [1,2] âœ“
è·³è¿‡1(ä½ç½®1ï¼ŒåŒå±‚é‡å¤) â†’ é¿å…é‡å¤ç»„åˆ
```

**å…³é”®è®¤çŸ¥**:
- **i+1å‚æ•°**: æ§åˆ¶ä½ç½®é¡ºåºï¼Œé¿å…ä½ç½®é€†åºé€‰æ‹©
- **å»é‡æ¡ä»¶**: æ§åˆ¶å€¼é‡å¤ï¼Œé¿å…ç›¸åŒå€¼äº§ç”Ÿé‡å¤ç»„åˆ
- **ååŒä½œç”¨**: ä¸¤è€…é…åˆå®ç°å®Œå…¨çš„é‡å¤é¿å…

#### ç®—æ³•èåˆå®ç°

```cpp
void backtrack(vector<int>& candidates, int target, int start, vector<int>& path, vector<vector<int>>& result) {
    // 39é¢˜æŠ€å·§ï¼šç›®æ ‡é€’å‡ç»ˆæ­¢æ¡ä»¶
    if (target == 0) {
        result.push_back(path);
        return;
    }
    if (target < 0) return;
    
    for (int i = start; i < candidates.size(); i++) {
        // 90é¢˜æŠ€å·§ï¼šåŒå±‚å»é‡æ¡ä»¶
        if (i > start && candidates[i] == candidates[i-1]) continue;
        
        // 39é¢˜æŠ€å·§ï¼šæ’åºå‰ªæä¼˜åŒ–
        if (target < candidates[i]) break;
        
        path.push_back(candidates[i]);
        // 40é¢˜ç‰¹è‰²ï¼ši+1ç¡®ä¿æ¯ä¸ªå…ƒç´ ä»…ç”¨ä¸€æ¬¡
        backtrack(candidates, target - candidates[i], i + 1, path, result);
        path.pop_back();
    }
}
```

#### é¿å…é‡å¤ç»„åˆçš„å¤šå±‚æœºåˆ¶æ€»ç»“

| æœºåˆ¶å±‚æ¬¡ | å®ç°æ–¹å¼ | æ§åˆ¶èŒƒå›´ | è§£å†³é—®é¢˜ |
|----------|----------|----------|----------|
| **ä½ç½®æ§åˆ¶** | i+1å‚æ•° | ä½ç½®çº§åˆ«é¡ºåº | é¿å…ä½ç½®é€†åºï¼šä¸ä¼šå‡ºç°[ä½ç½®2,ä½ç½®1] |
| **å€¼æ§åˆ¶** | å»é‡æ¡ä»¶ | å€¼çº§åˆ«é‡å¤ | é¿å…å€¼é‡å¤ï¼šä¸ä¼šå‡ºç°å¤šä¸ªç›¸åŒå€¼äº§ç”Ÿç›¸åŒç»„åˆ |
| **å…¨å±€æ§åˆ¶** | startå‚æ•° | æ•´ä½“é€‰æ‹©æ–¹å‘ | ç¡®ä¿æŒ‰é¡ºåºé€‰æ‹©ï¼Œç»´æŠ¤ç»„åˆæ€§è´¨ |

#### æŠ€æœ¯è¿›é˜¶æ„ä¹‰

**ç®—æ³•èåˆèƒ½åŠ›**:
- æˆåŠŸå°†39é¢˜çš„ç›®æ ‡é€’å‡ç­–ç•¥ä¸90é¢˜çš„å»é‡æŠ€å·§èåˆ
- ä½“ç°äº†å›æº¯ç®—æ³•åœ¨å¤æ‚çº¦æŸä¸‹çš„é€‚åº”æ€§è®¾è®¡

**çº¦æŸç†è§£æ·±åŒ–**:
- ç†è§£äº†ä¸åŒçº¦æŸæœºåˆ¶çš„ä½œç”¨èŒƒå›´å’ŒååŒæ•ˆæœ
- å»ºç«‹äº†å¤šå±‚æ¬¡é¿å…é‡å¤çš„å®Œæ•´ç†è®ºæ¡†æ¶

**è®¾è®¡æ€ç»´æå‡**:
- ä»å•ä¸€æŠ€å·§åº”ç”¨åˆ°å¤šæŠ€å·§èåˆçš„è®¾è®¡èƒ½åŠ›è·ƒè¿
- æŒæ¡äº†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå·²çŸ¥æŠ€å·§ç»„åˆçš„æ–¹æ³•è®º

40é¢˜æ˜¯å›æº¯ç®—æ³•æŠ€å·§èåˆçš„å…¸å‹ä»£è¡¨ï¼Œæ ‡å¿—ç€ä»åŸºç¡€æŠ€å·§æŒæ¡åˆ°ç»¼åˆåº”ç”¨èƒ½åŠ›çš„é‡è¦è¿›é˜¶ã€‚

*æœ€åæ›´æ–°: 2025-08-17*