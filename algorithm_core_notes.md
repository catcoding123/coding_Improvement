# ç®—æ³•æ ¸å¿ƒé€»è¾‘è®°å½•

## 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ (Hard)

### æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨**å•è°ƒåŒç«¯é˜Ÿåˆ—**ç»´æŠ¤æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ï¼Œé˜Ÿåˆ—ä¸­å­˜å‚¨æ•°ç»„ä¸‹æ ‡ï¼Œä¿æŒå¯¹åº”å€¼çš„é€’å‡é¡ºåºã€‚

### å…³é”®é€»è¾‘
1. **é˜Ÿåˆ—ç»´æŠ¤ç­–ç•¥**:
   - å­˜å‚¨ä¸‹æ ‡è€Œéå€¼ï¼Œä¾¿äºåˆ¤æ–­å…ƒç´ æ˜¯å¦è¿‡æœŸ
   - ç»´æŠ¤é€’å‡åºåˆ—ï¼Œé˜Ÿé¦–æ°¸è¿œæ˜¯å½“å‰çª—å£æœ€å¤§å€¼
   
2. **ä¸‰ä¸ªæ ¸å¿ƒæ“ä½œ**:
   ```cpp
   // 1. ç§»é™¤è¿‡æœŸå…ƒç´ ï¼ˆè¶…å‡ºçª—å£èŒƒå›´ï¼‰
   while (!dq.empty() && dq.front() <= i - k) {
       dq.pop_front();
   }
   
   // 2. ç»´æŠ¤å•è°ƒæ€§ï¼ˆç§»é™¤æ¯”å½“å‰å…ƒç´ å°çš„æ‰€æœ‰å…ƒç´ ï¼‰
   while (!dq.empty() && nums[dq.back()] <= nums[i]) {
       dq.pop_back();
   }
   
   // 3. æ·»åŠ å½“å‰å…ƒç´ 
   dq.push_back(i);
   ```

3. **ä¸ºä»€ä¹ˆå¯ä»¥ç§»é™¤è¾ƒå°å…ƒç´ ï¼Ÿ**
   - å¦‚æœæ–°å…ƒç´ æ¯”é˜Ÿå°¾å…ƒç´ å¤§ï¼Œé‚£ä¹ˆåœ¨æ–°å…ƒç´ è¿˜åœ¨çª—å£å†…æ—¶ï¼Œé˜Ÿå°¾å…ƒç´ æ°¸è¿œä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼
   - è¿™æ˜¯è´ªå¿ƒæ€æƒ³çš„ä½“ç°

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **O(n)**: æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥é˜Ÿå’Œå‡ºé˜Ÿå„ä¸€æ¬¡
- æ¯”æš´åŠ›O(nk)å’Œå †O(n log n)éƒ½è¦ä¼˜

### æ˜“é”™ç‚¹
1. é˜Ÿåˆ—å­˜å‚¨ä¸‹æ ‡è€Œéå€¼
2. è¿‡æœŸåˆ¤æ–­æ¡ä»¶æ˜¯ `dq.front() <= i - k`
3. å•è°ƒæ€§ç»´æŠ¤ç”¨ `<=` è¿˜æ˜¯ `<` (é€šå¸¸ç”¨`<=`é¿å…é‡å¤å€¼)
4. çª—å£æ»¡çš„åˆ¤æ–­æ¡ä»¶ `i >= k - 1`

### æ¨¡æ¿ä»£ç 
```cpp
vector<int> maxSlidingWindow(vector<int>& nums, int k) {
    vector<int> result;
    deque<int> dq;  // å­˜å‚¨ä¸‹æ ‡ï¼Œä¿æŒé€’å‡é¡ºåº
    
    for (int i = 0; i < nums.size(); i++) {
        // ç§»é™¤è¿‡æœŸå…ƒç´ 
        while (!dq.empty() && dq.front() <= i - k) {
            dq.pop_front();
        }
        
        // ç»´æŠ¤å•è°ƒæ€§
        while (!dq.empty() && nums[dq.back()] <= nums[i]) {
            dq.pop_back();
        }
        
        dq.push_back(i);
        
        // çª—å£æ»¡æ—¶è®°å½•ç»“æœ
        if (i >= k - 1) {
            result.push_back(nums[dq.front()]);
        }
    }
    return result;
}
```

### æ‰©å±•åº”ç”¨
- æ»‘åŠ¨çª—å£æœ€å°å€¼ (æ”¹ä¸ºé€’å¢é˜Ÿåˆ—)
- æ»‘åŠ¨çª—å£ä¸­çš„ä¸­ä½æ•°
- ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„

---

## 155. æœ€å°æ ˆ (Medium)

### æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨**åŒæ ˆæ³•**è®¾è®¡æ”¯æŒO(1)è·å–æœ€å°å€¼çš„æ ˆï¼Œä¸»æ ˆå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œè¾…åŠ©æ ˆå­˜å‚¨å¯¹åº”çš„æœ€å°å€¼ã€‚

### å…³é”®é€»è¾‘
1. **åŒæ ˆååŒå·¥ä½œ**:
   - ä¸»æ ˆï¼šå­˜å‚¨æ‰€æœ‰pushçš„å…ƒç´ 
   - è¾…åŠ©æ ˆï¼šå­˜å‚¨åˆ°å½“å‰ä½ç½®çš„æœ€å°å€¼
   
2. **å››ä¸ªæ ¸å¿ƒæ“ä½œ**:
   ```cpp
   // push: ä¸»æ ˆæ€»æ˜¯pushï¼Œè¾…åŠ©æ ˆæŒ‰æ¡ä»¶push
   void push(int val) {
       mainStack.push(val);
       if (minStack.empty() || val <= minStack.top()) {
           minStack.push(val);  // æ³¨æ„ï¼š<= ä¸æ˜¯ <
       }
   }
   
   // pop: åŒæ­¥ç»´æŠ¤ä¸¤ä¸ªæ ˆ
   void pop() {
       if (mainStack.top() == minStack.top()) {
           minStack.pop();
       }
       mainStack.pop();
   }
   
   // top: ç›´æ¥è¿”å›ä¸»æ ˆé¡¶
   int top() { return mainStack.top(); }
   
   // getMin: ç›´æ¥è¿”å›è¾…åŠ©æ ˆé¡¶
   int getMin() { return minStack.top(); }
   ```

3. **ä¸ºä»€ä¹ˆç”¨<= è€Œä¸æ˜¯< ï¼Ÿ**
   - å¤„ç†é‡å¤æœ€å°å€¼çš„æƒ…å†µ
   - ä¾‹å¦‚ï¼špush(1) â†’ push(1) â†’ pop()ï¼Œä¸¤ä¸ª1éƒ½éœ€è¦åœ¨è¾…åŠ©æ ˆä¸­

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **æ‰€æœ‰æ“ä½œéƒ½æ˜¯O(1)**: push, pop, top, getMin
- **ç©ºé—´å¤æ‚åº¦**: O(n) - æœ€åæƒ…å†µä¸¤ä¸ªæ ˆéƒ½æ˜¯n

### æ˜“é”™ç‚¹
1. è¾…åŠ©æ ˆpushæ¡ä»¶ï¼šå¿…é¡»æ˜¯ `<=` å¤„ç†é‡å¤æœ€å°å€¼
2. popæ—¶çš„åŒæ­¥ï¼šåªæœ‰å½“ä¸»æ ˆé¡¶ç­‰äºæœ€å°å€¼æ—¶æ‰popè¾…åŠ©æ ˆ
3. ç©ºæ ˆæ£€æŸ¥ï¼špopå’Œtopå‰è¦ç¡®ä¿æ ˆéç©º

### æ¨¡æ¿ä»£ç 
```cpp
class MinStack {
    stack<int> mainStack, minStack;
public:
    void push(int val) {
        mainStack.push(val);
        if (minStack.empty() || val <= minStack.top()) {
            minStack.push(val);
        }
    }
    
    void pop() {
        if (mainStack.top() == minStack.top()) {
            minStack.pop();
        }
        mainStack.pop();
    }
    
    int top() { return mainStack.top(); }
    int getMin() { return minStack.top(); }
};
```

### æ‰©å±•æ€è€ƒ
- å•æ ˆå­˜å‚¨å·®å€¼æ³•ï¼šèŠ‚çœç©ºé—´ä½†å®ç°å¤æ‚
- æœ€å¤§æ ˆé—®é¢˜ï¼šç±»ä¼¼æ€è·¯
- æ”¯æŒå¤šç§æ“ä½œçš„æ ˆè®¾è®¡

---

## 84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ (Hard)

### æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨**å•è°ƒé€’å¢æ ˆ**æ‰¾åˆ°æ¯ä¸ªæŸ±å­çš„å·¦å³è¾¹ç•Œï¼Œè®¡ç®—ä»¥æ¯ä¸ªæŸ±å­ä¸ºé«˜åº¦çš„æœ€å¤§çŸ©å½¢é¢ç§¯ã€‚

### å…³é”®é€»è¾‘
1. **å•è°ƒæ ˆç»´æŠ¤ç­–ç•¥**:
   - æ ˆä¸­å­˜å‚¨ä¸‹æ ‡ï¼Œä¿æŒå¯¹åº”é«˜åº¦é€’å¢
   - å½“é‡åˆ°æ›´å°å…ƒç´ æ—¶ï¼Œå¼¹æ ˆå¹¶è®¡ç®—é¢ç§¯
   
2. **è¾¹ç•Œå¤„ç†æŠ€å·§**:
   ```cpp
   // åœ¨æ•°ç»„ä¸¤ç«¯æ·»åŠ 0ï¼Œç®€åŒ–è¾¹ç•Œå¤„ç†
   heights.insert(heights.begin(), 0);
   heights.push_back(0);
   ```

3. **é¢ç§¯è®¡ç®—æ ¸å¿ƒ**:
   ```cpp
   while (!st.empty() && heights[st.top()] > heights[i]) {
       int h = heights[st.top()];  // çŸ©å½¢é«˜åº¦
       st.pop();                   // å¼¹å‡ºï¼Œæ›´æ–°å·¦è¾¹ç•Œ
       int w = i - st.top() - 1;   // çŸ©å½¢å®½åº¦
       int area = h * w;           // è®¡ç®—é¢ç§¯
   }
   ```

4. **ä¸ºä»€ä¹ˆå…ˆå–é«˜åº¦å†popï¼Ÿ**
   - å¼¹æ ˆæ“ä½œä¼šæ”¹å˜æ ˆé¡¶ï¼Œå½±å“å·¦è¾¹ç•Œçš„ç¡®å®š
   - å¼¹å‡ºåçš„æ ˆé¡¶æ­£å¥½æ˜¯å½“å‰æŸ±å­å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„ä½ç½®

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **O(n)**: æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆå„ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**: O(n) - æ ˆçš„ç©ºé—´

### æ˜“é”™ç‚¹
1. å®½åº¦è®¡ç®—ï¼š`w = å³è¾¹ç•Œ - å·¦è¾¹ç•Œ - 1`
2. æ“ä½œé¡ºåºï¼šå…ˆå–é«˜åº¦ï¼Œå†popï¼Œå†è®¡ç®—å®½åº¦
3. è¾¹ç•Œå¤„ç†ï¼šä¸¤ç«¯åŠ 0é¿å…ç‰¹æ®Šæƒ…å†µåˆ¤æ–­
4. ç†è§£å¼¹æ ˆæ—¶æœºï¼šå½“å‰å…ƒç´ å°äºæ ˆé¡¶æ—¶

### æ¨¡æ¿ä»£ç 
```cpp
int largestRectangleArea(vector<int>& heights) {
    stack<int> st;
    int maxArea = 0;
    
    // è¾¹ç•Œå¤„ç†
    heights.insert(heights.begin(), 0);
    heights.push_back(0);
    
    for (int i = 0; i < heights.size(); i++) {
        while (!st.empty() && heights[st.top()] > heights[i]) {
            int h = heights[st.top()];
            st.pop();
            int w = i - st.top() - 1;
            maxArea = max(maxArea, h * w);
        }
        st.push(i);
    }
    return maxArea;
}
```

### æ‰©å±•åº”ç”¨
- 42. æ¥é›¨æ°´ (å•è°ƒæ ˆå˜ç§)
- 85. æœ€å¤§çŸ©å½¢ (äºŒç»´æ‰©å±•)
- æŸ±çŠ¶å›¾ç›¸å…³çš„æœ€å€¼é—®é¢˜

### å…³é”®æ´å¯Ÿ
å•è°ƒæ ˆçš„æœ¬è´¨æ˜¯**å»¶è¿Ÿè®¡ç®—**ï¼š
- å…ƒç´ åœ¨æ ˆä¸­æ—¶ï¼Œå³è¾¹ç•Œæœªç¡®å®š
- è¢«å¼¹å‡ºæ—¶ï¼Œå³è¾¹ç•Œç¡®å®šï¼Œç«‹å³è®¡ç®—é¢ç§¯
- è¿™ç§ç­–ç•¥ä¿è¯äº†O(n)çš„æ—¶é—´å¤æ‚åº¦

---

## 42. æ¥é›¨æ°´ (Hard)

### æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨**å•è°ƒé€’å‡æ ˆ**æŒ‰å±‚è®¡ç®—é›¨æ°´é¢ç§¯ï¼Œæ ˆä¸­å­˜å‚¨å¯èƒ½å½¢æˆå‡¹æ§½çš„æŸ±å­ä¸‹æ ‡ã€‚

### å…³é”®é€»è¾‘
1. **å•è°ƒæ ˆç»´æŠ¤ç­–ç•¥**:
   - æ ˆä¸­å­˜å‚¨ä¸‹æ ‡ï¼Œä¿æŒå¯¹åº”é«˜åº¦é€’å‡
   - å½“é‡åˆ°æ›´é«˜æŸ±å­æ—¶ï¼Œè¯´æ˜å¯ä»¥æ¥é›¨æ°´äº†
   
2. **é›¨æ°´è®¡ç®—æ ¸å¿ƒ**:
   ```cpp
   while (!st.empty() && heights[st.top()] < heights[i]) {
       int bottom = st.top();  // å‡¹æ§½åº•éƒ¨
       st.pop();
       if (st.empty()) break;  // æ²¡æœ‰å·¦è¾¹ç•Œ
       
       int h = min(heights[st.top()], heights[i]) - heights[bottom];
       int w = i - st.top() - 1;
       water += h * w;
   }
   ```

3. **ä¸84é¢˜çš„åŒºåˆ«**:
   - 84é¢˜ï¼šç»´æŠ¤é€’å¢æ ˆï¼Œè®¡ç®—çŸ©å½¢é¢ç§¯
   - 42é¢˜ï¼šç»´æŠ¤é€’å‡æ ˆï¼Œè®¡ç®—é›¨æ°´ä½“ç§¯

### ç›´è§‚ç†è§£
é›¨æ°´çš„å½¢æˆéœ€è¦ä¸‰ä¸ªè¦ç´ ï¼š
- **å·¦è¾¹ç•Œ**ï¼šæ ˆä¸­å‰©ä½™å…ƒç´ 
- **åº•éƒ¨**ï¼šè¢«å¼¹å‡ºçš„å…ƒç´   
- **å³è¾¹ç•Œ**ï¼šå½“å‰éå†å…ƒç´ 

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **O(n)**: æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆå„ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**: O(n) - æ ˆçš„ç©ºé—´

### æ¨¡æ¿ä»£ç 
```cpp
int trap(vector<int>& height) {
    stack<int> st;
    int water = 0;
    
    for (int i = 0; i < height.size(); i++) {
        while (!st.empty() && height[st.top()] < height[i]) {
            int bottom = st.top();
            st.pop();
            if (st.empty()) break;
            
            int h = min(height[st.top()], height[i]) - height[bottom];
            int w = i - st.top() - 1;
            water += h * w;
        }
        st.push(i);
    }
    return water;
}
```

### æ‰©å±•æ€è€ƒ
- åŒæŒ‡é’ˆè§£æ³•ï¼šä»ä¸¤ç«¯å‘ä¸­é—´ç§»åŠ¨
- åŠ¨æ€è§„åˆ’ï¼šé¢„è®¡ç®—å·¦å³æœ€å¤§é«˜åº¦
- å•è°ƒæ ˆï¼šæŒ‰å±‚ç´¯åŠ é›¨æ°´é¢ç§¯

---

## 70. çˆ¬æ¥¼æ¢¯ (Easy)

### æ ¸å¿ƒæ€æƒ³
åŠ¨æ€è§„åˆ’å…¥é—¨ç»å…¸é¢˜ï¼Œä½“ç°äº†DPçš„åŸºæœ¬æ€ç»´ï¼š**å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜ï¼Œé¿å…é‡å¤è®¡ç®—**ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = çˆ¬åˆ°ç¬¬ié˜¶çš„æ–¹æ³•æ•°
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = dp[i-1] + dp[i-2]
   ```
   é€»è¾‘ï¼šè¦åˆ°ç¬¬ié˜¶ï¼Œåªèƒ½ä»ç¬¬(i-1)é˜¶çˆ¬1æ­¥ï¼Œæˆ–ä»ç¬¬(i-2)é˜¶çˆ¬2æ­¥

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0] = 1  // 0é˜¶æœ‰1ç§æ–¹æ³•ï¼ˆä¸çˆ¬ï¼‰
   dp[1] = 1  // 1é˜¶æœ‰1ç§æ–¹æ³•
   dp[2] = 2  // 2é˜¶æœ‰2ç§æ–¹æ³•
   ```

4. **æœ¬è´¨**: æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å˜ç§

### å››ç§å®ç°æ–¹å¼

#### 1. æ™®é€šé€’å½’ (ä¼šè¶…æ—¶)
```cpp
int climbStairs(int n) {
    if (n <= 1) return 1;
    if (n == 2) return 2;
    return climbStairs(n-1) + climbStairs(n-2);
}
```
**é—®é¢˜**: é‡å¤è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦O(2^n)

#### 2. è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹)
```cpp
int helper(int n, vector<int>& memo) {
    if (n <= 1) return 1;
    if (n == 2) return 2;
    if (memo[n] != -1) return memo[n];
    
    memo[n] = helper(n-1, memo) + helper(n-2, memo);
    return memo[n];
}
```
**ä¼˜åŠ¿**: ç¼“å­˜ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—

#### 3. åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Š) â­
```cpp
int climbStairs(int n) {
    if (n <= 1) return 1;
    vector<int> dp(n + 1);
    dp[0] = 1; dp[1] = 1; dp[2] = 2;
    
    for (int i = 3; i <= n; i++) {
        dp[i] = dp[i-1] + dp[i-2];
    }
    return dp[n];
}
```

#### 4. ç©ºé—´ä¼˜åŒ– (æ»šåŠ¨å˜é‡)
```cpp
int climbStairs(int n) {
    if (n <= 1) return 1;
    if (n == 2) return 2;
    
    int prev2 = 1, prev1 = 2;
    for (int i = 3; i <= n; i++) {
        int curr = prev1 + prev2;
        prev2 = prev1;
        prev1 = curr;
    }
    return prev1;
}
```

### å¤æ‚åº¦åˆ†æ
- **é€’å½’**: æ—¶é—´O(2^n)ï¼Œç©ºé—´O(n)
- **è®°å¿†åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **DP**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **ç©ºé—´ä¼˜åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1)

### DPå››è¦ç´ æ€»ç»“
1. **çŠ¶æ€å®šä¹‰**: dp[i]è¡¨ç¤ºä»€ä¹ˆ
2. **è½¬ç§»æ–¹ç¨‹**: å½“å‰çŠ¶æ€å¦‚ä½•ç”±ä¹‹å‰çŠ¶æ€æ¨å¯¼
3. **è¾¹ç•Œæ¡ä»¶**: æœ€å°å­é—®é¢˜çš„ç­”æ¡ˆ
4. **è®¡ç®—é¡ºåº**: ç¡®ä¿ä¾èµ–å…³ç³»æ­£ç¡®

### å…³é”®ç†è§£
- **è®°å¿†åŒ– vs æ™®é€šé€’å½’**: è®°å¿†åŒ–ç”¨ä¸“é—¨æ•°ç»„æ°¸ä¹…ç¼“å­˜ï¼Œæ™®é€šé€’å½’æ¯æ¬¡é‡æ–°è®¡ç®—
- **è‡ªé¡¶å‘ä¸‹ vs è‡ªåº•å‘ä¸Š**: è®°å¿†åŒ–æ˜¯é€’å½’+ç¼“å­˜ï¼ŒDPæ˜¯å¾ªç¯å¡«è¡¨
- **çŠ¶æ€è½¬ç§»**: DPçš„ç²¾é«“åœ¨äºæ‰¾åˆ°çŠ¶æ€é—´çš„æ•°å­¦å…³ç³»

---

## 198. æ‰“å®¶åŠ«èˆ (Medium)

### æ ¸å¿ƒæ€æƒ³
å†³ç­–ç±»åŠ¨æ€è§„åˆ’ç»å…¸é¢˜ï¼Œä½“ç°äº†**é€‰æ‹©å†³ç­–**çš„DPæ€ç»´ï¼šæ¯ä¸ªçŠ¶æ€é¢ä¸´å¤šç§é€‰æ‹©ï¼Œé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = å·å‰i+1é—´æˆ¿èƒ½è·å¾—çš„æœ€å¤§é‡‘é¢
   
2. **å†³ç­–åˆ†æ**:
   å¯¹äºç¬¬ié—´æˆ¿ï¼Œå°å·é¢ä¸´ä¸¤ç§é€‰æ‹©ï¼š
   - **å·ç¬¬ié—´æˆ¿**: è·å¾— `nums[i] + dp[i-2]` (ä¸èƒ½å·ç›¸é‚»æˆ¿å±‹)
   - **ä¸å·ç¬¬ié—´æˆ¿**: è·å¾— `dp[i-1]` (ä¿æŒå‰ä¸€çŠ¶æ€)

3. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = max(nums[i] + dp[i-2], dp[i-1])
   ```

4. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0] = nums[0]                    // åªæœ‰1é—´æˆ¿
   dp[1] = max(nums[0], nums[1])      // 2é—´æˆ¿é€‰é‡‘é¢å¤§çš„
   ```

### å››ç§å®ç°æ–¹å¼

#### 1. é€’å½’è§£æ³• (ä¼šè¶…æ—¶)
```cpp
int helper(vector<int>& nums, int i) {
    if (i < 0) return 0;
    return max(helper(nums, i-2) + nums[i], helper(nums, i-1));
}
```

#### 2. è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹)
```cpp
int helperMemo(vector<int>& nums, int i, vector<int>& memo) {
    if (i < 0) return 0;
    if (i == 0) return nums[0];
    if (memo[i] != -1) return memo[i];
    
    memo[i] = max(helperMemo(nums,i-2,memo) + nums[i], 
                  helperMemo(nums,i-1,memo));
    return memo[i];
}
```

#### 3. åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Š) â­
```cpp
int rob(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    if (n == 1) return nums[0];
    
    vector<int> dp(n);
    dp[0] = nums[0];
    dp[1] = max(nums[0], nums[1]);
    
    for (int i = 2; i < n; i++) {
        dp[i] = max(dp[i-2] + nums[i], dp[i-1]);
    }
    return dp[n-1];
}
```

#### 4. ç©ºé—´ä¼˜åŒ– (æ»šåŠ¨å˜é‡)
```cpp
int rob(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    if (n == 1) return nums[0];
    
    int prev2 = nums[0];
    int prev1 = max(nums[0], nums[1]);
    
    for (int i = 2; i < n; i++) {
        int curr = max(nums[i] + prev2, prev1);
        prev2 = prev1;
        prev1 = curr;
    }
    return prev1;
}
```

### ä¸70é¢˜çš„å…³é”®åŒºåˆ«
- **70é¢˜çˆ¬æ¥¼æ¢¯**: é€’æ¨å…³ç³» `f(n) = f(n-1) + f(n-2)` (åŠ æ³•)
- **198é¢˜æ‰“å®¶åŠ«èˆ**: å†³ç­–å…³ç³» `f(n) = max(é€‰æ‹©A, é€‰æ‹©B)` (é€‰æ‹©)

### å†³ç­–ç±»DPç‰¹å¾
1. **å¤šç§é€‰æ‹©**: æ¯ä¸ªçŠ¶æ€é¢ä¸´2ä¸ªæˆ–æ›´å¤šé€‰æ‹©
2. **çº¦æŸæ¡ä»¶**: é€‰æ‹©ä¹‹é—´å­˜åœ¨é™åˆ¶å…³ç³»
3. **æœ€ä¼˜å†³ç­–**: ä½¿ç”¨max/minå‡½æ•°é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
4. **çŠ¶æ€ä¾èµ–**: å½“å‰é€‰æ‹©å½±å“åç»­å¯é€‰æ–¹æ¡ˆ

### å¤æ‚åº¦åˆ†æ
- **é€’å½’**: æ—¶é—´O(2^n)ï¼Œç©ºé—´O(n)
- **è®°å¿†åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **DP**: æ—¶é—´O(n)ï¼Œç©ºé—´O(n)
- **ç©ºé—´ä¼˜åŒ–**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1)

### å…³é”®ç†è§£
- **çº¦æŸå»ºæ¨¡**: ç›¸é‚»æˆ¿å±‹ä¸èƒ½åŒæ—¶å· â†’ çŠ¶æ€è½¬ç§»ä¸­ä½“ç°ä¸ºi-2è€Œä¸æ˜¯i-1
- **å†³ç­–æ€ç»´**: æ¯æ­¥éƒ½è¦é—®"æˆ‘æœ‰å“ªäº›é€‰æ‹©ï¼Ÿå“ªä¸ªæ›´ä¼˜ï¼Ÿ"
- **è®°å¿†åŒ–ç²¾é«“**: è®¡ç®— â†’ ç¼“å­˜ â†’ è¿”å›ï¼Œä¸‰æ­¥ç¼ºä¸€ä¸å¯

### æ‰©å±•åº”ç”¨
- 213. æ‰“å®¶åŠ«èˆII (ç¯å½¢æ•°ç»„)
- 337. æ‰“å®¶åŠ«èˆIII (äºŒå‰æ ‘)
- 01èƒŒåŒ…é—®é¢˜ (ç‰©å“é€‰æ‹©å†³ç­–)

---

## 53. æœ€å¤§å­æ•°ç»„å’Œ (Medium)

### æ ¸å¿ƒæ€æƒ³
è¿ç»­å­æ•°ç»„DPçš„ç»å…¸é¢˜ç›®ï¼Œä½¿ç”¨**Kadaneç®—æ³•**å®ç°O(n)æœ€ä¼˜è§£ï¼ŒåŒæ—¶æŒæ¡**åˆ†æ²»ç®—æ³•**çš„ä¸‰åˆ†è¦†ç›–æ€æƒ³ã€‚

### å…³é”®é€»è¾‘
1. **è¿ç»­æ€§çº¦æŸçš„DPå»ºæ¨¡**:
   - çŠ¶æ€å®šä¹‰ï¼š`dp[i]` = ä»¥nums[i]ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
   - å†³ç­–é€‰æ‹©ï¼šç»§ç»­ä¹‹å‰çš„å­æ•°ç»„ vs é‡æ–°å¼€å§‹
   
2. **Kadaneç®—æ³•æ ¸å¿ƒ**:
   ```cpp
   dp[i] = max(nums[i], dp[i-1] + nums[i])
   ```
   ç›´è§‚ç†è§£ï¼šå¦‚æœä¹‹å‰ç´¯è®¡æ˜¯è´Ÿæ•°å°±æŠ›å¼ƒï¼Œå¦åˆ™ç»§ç»­ç´¯åŠ 

3. **å…¨å±€vså±€éƒ¨æœ€ä¼˜**:
   - å±€éƒ¨æœ€ä¼˜ï¼šdp[i] (ä»¥iç»“å°¾çš„æœ€å¤§å’Œ)
   - å…¨å±€æœ€ä¼˜ï¼šmax(dp[0], dp[1], ..., dp[n-1])

4. **åˆ†æ²»ç®—æ³•æ€æƒ³**:
   - ä¸‰åˆ†è¦†ç›–ï¼šå·¦åŠéƒ¨åˆ†ã€å³åŠéƒ¨åˆ†ã€è·¨è¶Šä¸­ç‚¹
   - é€’å½’å…³ç³»ï¼š`T(n) = 2T(n/2) + O(n)`ï¼Œæ—¶é—´å¤æ‚åº¦O(n log n)

### å››ç§å®ç°æ–¹å¼

#### 1. Kadaneç®—æ³• (æ¨è) - O(n)
```cpp
int maxSubArrayDP(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    vector<int> dp(n);
    dp[0] = nums[0];
    int max_result = dp[0];
    for(int i = 1; i < n; i++) {
        dp[i] = max(nums[i], nums[i] + dp[i-1]);
        max_result = max(max_result, dp[i]);
    }
    return max_result;
}
```

#### 2. ç©ºé—´ä¼˜åŒ–ç‰ˆæœ¬ - O(1)
```cpp
int maxSubArrayOptimized(vector<int>& nums) {
    int currentSum = nums[0];
    int maxSum = nums[0];
    for(int i = 1; i < nums.size(); i++) {
        currentSum = max(nums[i], currentSum + nums[i]);
        maxSum = max(currentSum, maxSum);
    }
    return maxSum;
}
```

#### 3. åˆ†æ²»ç®—æ³• - O(n log n)
```cpp
int divideConquer(vector<int>& nums, int left, int right) {
    if(left == right) return nums[left];
    int mid = (left + right) / 2;
    int leftMax = divideConquer(nums, left, mid);
    int rightMax = divideConquer(nums, mid+1, right);
    
    // è®¡ç®—è·¨è¶Šä¸­ç‚¹çš„æœ€å¤§å­æ•°ç»„å’Œ
    int sumLeft = nums[mid], maxSumLeft = sumLeft;
    for(int i = mid-1; i >= left; i--) {
        sumLeft += nums[i];
        maxSumLeft = max(maxSumLeft, sumLeft);
    }
    
    int sumRight = nums[mid+1], maxSumRight = sumRight;
    for(int i = mid+2; i <= right; i++) {
        sumRight += nums[i];
        maxSumRight = max(maxSumRight, sumRight);
    }
    
    int crossSum = maxSumLeft + maxSumRight;
    return max({leftMax, rightMax, crossSum});
}
```

### åˆ†æ²»ç®—æ³•æ·±åº¦ç†è§£
**ä¸‰åˆ†è¦†ç›–åŸç†**ï¼šä»»ä½•å­æ•°ç»„è¦ä¹ˆå®Œå…¨åœ¨å·¦åŠéƒ¨åˆ†ï¼Œè¦ä¹ˆå®Œå…¨åœ¨å³åŠéƒ¨åˆ†ï¼Œè¦ä¹ˆè·¨è¶Šä¸­ç‚¹
- **å·¦åŠéƒ¨åˆ†æœ€ä¼˜è§£**ï¼šé€’å½’æ±‚è§£`[left, mid]`
- **å³åŠéƒ¨åˆ†æœ€ä¼˜è§£**ï¼šé€’å½’æ±‚è§£`[mid+1, right]`  
- **è·¨è¶Šä¸­ç‚¹æœ€ä¼˜è§£**ï¼šä»midå‘å·¦æœ€å¤§å»¶ä¼¸ + ä»mid+1å‘å³æœ€å¤§å»¶ä¼¸

**å…³é”®æ´å¯Ÿ**ï¼šè·¨è¶Šä¸­ç‚¹çš„è®¡ç®—å®é™…ä¸Šè¦†ç›–äº†æ‰€æœ‰åŒ…å«midæˆ–mid+1çš„å­æ•°ç»„æƒ…å†µï¼

### è¿ç»­å­æ•°ç»„DPç‰¹å¾
1. **çŠ¶æ€å®šä¹‰å¿…é¡»åŒ…å«"ä»¥iç»“å°¾"çš„çº¦æŸ**
2. **çŠ¶æ€è½¬ç§»ä½“ç°"ç»§ç»­vsé‡æ–°å¼€å§‹"çš„å†³ç­–**
3. **å…¨å±€æœ€ä¼˜éœ€è¦åœ¨æ‰€æœ‰å±€éƒ¨æœ€ä¼˜ä¸­é€‰æ‹©**
4. **ä¸å…¶ä»–DPçš„åŒºåˆ«**ï¼š
   - çˆ¬æ¥¼æ¢¯(70é¢˜)ï¼šé€’æ¨å…³ç³» `f(n) = f(n-1) + f(n-2)`
   - æ‰“å®¶åŠ«èˆ(198é¢˜)ï¼šå†³ç­–å…³ç³» `f(n) = max(é€‰æ‹©A, é€‰æ‹©B)`
   - æœ€å¤§å­æ•°ç»„(53é¢˜)ï¼šè¿ç»­çº¦æŸ `f(n) = max(ç»§ç»­, é‡æ–°å¼€å§‹)`

### å¤æ‚åº¦åˆ†æ
- **Kadaneç®—æ³•**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1) - æœ€ä¼˜è§£
- **åˆ†æ²»ç®—æ³•**: æ—¶é—´O(n log n)ï¼Œç©ºé—´O(log n) - é€’å½’æ ˆ
- **æš´åŠ›æšä¸¾**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(1) - è¶…æ—¶

### æ˜“é”™ç‚¹
1. **å…¨å±€æœ€ä¼˜è§£**: éœ€è¦éå†æ‰€æœ‰dp[i]å–æœ€å¤§å€¼ï¼Œä¸æ˜¯dp[n-1]
2. **è¾¹ç•Œæ¡ä»¶**: å•ä¸ªå…ƒç´ æ—¶çš„å¤„ç†
3. **åˆ†æ²»è¾¹ç•Œ**: å¾ªç¯æ¡ä»¶åº”è¯¥ç”¨`>=`å’Œ`<=`åŒ…å«è¾¹ç•Œ

### æ‰©å±•åº”ç”¨
- 152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„ (å¤„ç†è´Ÿæ•°ä¹˜ç§¯)
- 718. æœ€é•¿é‡å¤å­æ•°ç»„ (é•¿åº¦æœ€å¤§å€¼)
- 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ (æ»‘åŠ¨çª—å£å˜ç§)

### å…³é”®ç†è§£
è¿ç»­å­æ•°ç»„DPçš„ç²¾é«“åœ¨äº**åœ¨ä¿æŒè¿ç»­æ€§çº¦æŸä¸‹åšæœ€ä¼˜å†³ç­–**ï¼šæ¯æ­¥éƒ½è¦é—®"æˆ‘æ˜¯ç»§ç»­ä¹‹å‰çš„ç´¯ç§¯ï¼Œè¿˜æ˜¯ä»å½“å‰ä½ç½®é‡æ–°å¼€å§‹ï¼Ÿ"

---

## 322. é›¶é’±å…‘æ¢ (Medium)

### æ ¸å¿ƒæ€æƒ³
å®Œå…¨èƒŒåŒ…åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼Œæ¯ä¸ªç¡¬å¸å¯ä»¥ä½¿ç”¨æ— é™æ¬¡ï¼Œæ±‚ç»„æˆç›®æ ‡é‡‘é¢æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = ç»„æˆé‡‘é¢iæ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = min(dp[i-coin] + 1) for all valid coins
   ```
   é€»è¾‘ï¼šå¯¹äºé‡‘é¢iï¼Œå°è¯•ä½¿ç”¨æ¯ç§ç¡¬å¸ï¼Œé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0] = 0                    // ç»„æˆé‡‘é¢0éœ€è¦0ä¸ªç¡¬å¸
   dp[i] = amount + 1           // åˆå§‹åŒ–ä¸ºä¸å¯èƒ½çš„å¤§å€¼
   ```

4. **æ— è§£åˆ¤æ–­**:
   ```cpp
   return dp[amount] > amount ? -1 : dp[amount];
   ```

### å®Œå…¨èƒŒåŒ…vs01èƒŒåŒ…
- **01èƒŒåŒ…**: æ¯ä¸ªç‰©å“æœ€å¤šé€‰æ‹©ä¸€æ¬¡
- **å®Œå…¨èƒŒåŒ…**: æ¯ä¸ªç‰©å“å¯ä»¥é€‰æ‹©æ— é™æ¬¡
- **å…³é”®åŒºåˆ«**: å®Œå…¨èƒŒåŒ…åœ¨å†…å±‚å¾ªç¯ä¸­å¯ä»¥ä½¿ç”¨å·²æ›´æ–°çš„dpå€¼

### å››ç§å®ç°æ–¹å¼

#### 1. é€’å½’è§£æ³• (ä¼šè¶…æ—¶)
```cpp
int helper(vector<int>& coins, int amount) {
    if(amount == 0) return 0;
    if(amount < 0) return -1;
    
    int minCoins = INT_MAX;
    for(int coin : coins) {
        int subResult = helper(coins, amount - coin);
        if(subResult != -1) {
            minCoins = min(minCoins, subResult + 1);
        }
    }
    return minCoins == INT_MAX ? -1 : minCoins;
}
```
**é—®é¢˜**: æŒ‡æ•°çº§æ—¶é—´å¤æ‚åº¦O(S^n)ï¼Œå¤§é‡é‡å¤è®¡ç®—

#### 2. è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹)
```cpp
int helperMemo(vector<int>& coins, int amount, vector<int>& memo) {
    if(amount == 0) return 0;
    if(amount < 0) return -1;
    if(memo[amount] != -2) return memo[amount];
    
    int minCoins = INT_MAX;
    for(int coin : coins) {
        int subResult = helperMemo(coins, amount - coin, memo);
        if(subResult != -1) {
            minCoins = min(minCoins, subResult + 1);
        }
    }
    memo[amount] = (minCoins == INT_MAX) ? -1 : minCoins;
    return memo[amount];
}
```

#### 3. åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Š) â­ æ¨è
```cpp
int coinChangeDP(vector<int>& coins, int amount) {
    vector<int> dp(amount + 1, amount + 1);  // åˆå§‹åŒ–ä¸ºä¸å¯èƒ½çš„å¤§å€¼
    dp[0] = 0;  // è¾¹ç•Œæ¡ä»¶
    
    for(int i = 1; i <= amount; i++) {
        for(int coin : coins) {
            if(coin <= i) {
                dp[i] = min(dp[i], dp[i - coin] + 1);
            }
        }
    }
    
    return dp[amount] > amount ? -1 : dp[amount];
}
```


### å…³é”®ç†è§£ç‚¹

#### ä¸ºä»€ä¹ˆåˆå§‹åŒ–ä¸ºamount + 1ï¼Ÿ
- **ç†è®ºä¸Šç•Œ**: ç»„æˆä»»æ„é‡‘é¢æœ€å¤šéœ€è¦amountä¸ªé¢é¢ä¸º1çš„ç¡¬å¸
- **é¿å…æº¢å‡º**: æ¯”ä½¿ç”¨INT_MAXæ›´å®‰å…¨
- **ä¾¿äºåˆ¤æ–­**: dp[amount] > amount è¯´æ˜æ— è§£

#### å¾ªç¯é¡ºåºä¸ºä»€ä¹ˆæ­£ç¡®ï¼Ÿ
```cpp
for(int i = 1; i <= amount; i++) {        // å¤–å±‚ï¼šé‡‘é¢
    for(int coin : coins) {               // å†…å±‚ï¼šç¡¬å¸
        if(coin <= i) {
            dp[i] = min(dp[i], dp[i - coin] + 1);
        }
    }
}
```
å®Œå…¨èƒŒåŒ…å…è®¸é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯ä½¿ç”¨å·²æ›´æ–°çš„dpå€¼æ˜¯æ­£ç¡®çš„ã€‚

### æ˜“é”™ç‚¹è®°å½•

#### 1. å¾ªç¯è¾¹ç•Œé”™è¯¯ âŒ
```cpp
for(int i = 1; i < amount; i++) {  // é”™è¯¯ï¼šåº”è¯¥æ˜¯ i <= amount
```
**åæœ**: æ— æ³•è®¡ç®—dp[amount]ï¼Œå¯¼è‡´è¿”å›é”™è¯¯ç»“æœ

#### 2. ç¼–è¯‘é”™è¯¯
ä½¿ç”¨C++11ç‰¹æ€§ï¼ˆrange-based forå¾ªç¯ã€initializer listï¼‰éœ€è¦ç¼–è¯‘å™¨æ”¯æŒï¼š
```bash
g++ -std=c++11 -o problem_322 problem_322_template.cpp
```

### å¤æ‚åº¦åˆ†æ
- **é€’å½’**: æ—¶é—´O(S^n)ï¼Œç©ºé—´O(S) - Sæ˜¯é‡‘é¢ï¼Œnæ˜¯ç¡¬å¸ç§ç±»æ•°
- **è®°å¿†åŒ–**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S)
- **åŠ¨æ€è§„åˆ’**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S) â­ æœ€ä¼˜è§£
- **BFS**: æ—¶é—´O(S Ã— n)ï¼Œç©ºé—´O(S)

### æ‰©å±•åº”ç”¨
- 518. é›¶é’±å…‘æ¢II (ç»„åˆæ•°é—®é¢˜)
- 279. å®Œå…¨å¹³æ–¹æ•° (æœ€å°‘å¹³æ–¹æ•°)
- 377. ç»„åˆæ€»å’Œâ…£ (æ’åˆ—æ•°é—®é¢˜)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼š
- coins=[1,2,5], amount=11 â†’ 3 (5+5+1)
- coins=[2], amount=3 â†’ -1 (æ— è§£)
- coins=[1], amount=0 â†’ 0 (è¾¹ç•Œæƒ…å†µ)
- coins=[1,3,4], amount=6 â†’ 2 (3+3)
- coins=[3,5], amount=1 â†’ -1 (æ— è§£)

### å…³é”®æ´å¯Ÿ
å®Œå…¨èƒŒåŒ…DPçš„ç²¾é«“åœ¨äº**å»ºæ¨¡æ— é™é€‰æ‹©çš„æœ€ä¼˜åŒ–é—®é¢˜**ï¼šå°†"æ¯ä¸ªç‰©å“å¯ä»¥é€‰æ‹©æ— é™æ¬¡"è½¬åŒ–ä¸º"åœ¨çŠ¶æ€è½¬ç§»ä¸­å…è®¸é‡å¤ä½¿ç”¨å·²è®¡ç®—çš„ç»“æœ"ã€‚

---

## 300. æœ€é•¿é€’å¢å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åºåˆ—åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼ŒæŒæ¡ä»¥"ä½ç½®ç»“å°¾"çš„çŠ¶æ€å®šä¹‰æ€ç»´ï¼ŒåŒæ—¶å­¦ä¹ è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾çš„O(n log n)ä¼˜åŒ–ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i]` = ä»¥nums[i]ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```
   dp[i] = max(dp[j] + 1) for all j < i and nums[j] < nums[i]
   ```
   é€»è¾‘ï¼šå¯¹äºæ¯ä¸ªä½ç½®iï¼Œæ£€æŸ¥æ‰€æœ‰å‰é¢æ›´å°çš„å…ƒç´ ï¼Œé€‰æ‹©æœ€ä¼˜è½¬ç§»

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[i] = 1  // æ¯ä¸ªå…ƒç´ è‡ªå·±æ„æˆé•¿åº¦ä¸º1çš„åºåˆ—
   ```

4. **æœ€ç»ˆç­”æ¡ˆ**:
   ```cpp
   return max(dp[i]) for all i  // éœ€è¦éå†æ‰€æœ‰ä½ç½®å–æœ€å¤§å€¼
   ```

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. åŠ¨æ€è§„åˆ’ O(nÂ²) - ç»å…¸è§£æ³• â­
```cpp
int lengthOfLISDP(vector<int>& nums) {
    int n = nums.size();
    if (n == 0) return 0;
    
    vector<int> dp(n, 1);  // åˆå§‹åŒ–ä¸º1
    
    for(int i = 1; i < n; i++) {
        for(int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) {
                dp[i] = max(dp[i], dp[j] + 1);
            }
        }
    }
    
    return *max_element(dp.begin(), dp.end());
}
```

#### 2. è®°å¿†åŒ–æœç´¢ O(nÂ²) - è‡ªé¡¶å‘ä¸‹
```cpp
int lengthOfLISMemo(vector<int>& nums) {
    int n = nums.size();
    vector<int> memo(n, -1);
    int maxResult = 1;
    for(int i = 0; i < n; i++) {
        maxResult = max(maxResult, helper(nums, i, memo));
    }
    return maxResult;
}

int helper(vector<int>& nums, int i, vector<int>& memo) {
    if (memo[i] != -1) return memo[i];  // ç¼“å­˜å‘½ä¸­
    memo[i] = 1;  // åŸºç¡€æƒ…å†µ
    for(int j = 0; j < i; j++) {
        if (nums[j] < nums[i]) {
            memo[i] = max(memo[i], helper(nums, j, memo) + 1);
        }
    }
    return memo[i];
}
```

#### 3. è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾ O(n log n) - æœ€ä¼˜è§£ â­â­
```cpp
int lengthOfLISBinary(vector<int>& nums) {
    vector<int> tails;
    for (int num : nums) {
        int pos = tails.size();
        int left = 0, right = tails.size() - 1;
        
        // äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ª >= num çš„ä½ç½®
        while(left <= right) {
            int mid = left + (right - left) / 2;
            if(tails[mid] >= num) {
                pos = mid;
                right = mid - 1;
            } else {
                left = mid + 1; 
            }
        }
        
        if(pos == tails.size()) {
            tails.push_back(num);  // æ·»åŠ åˆ°æœ«å°¾
        } else {
            tails[pos] = num;      // æ›¿æ¢
        }
    }
    return tails.size();
}
```

### è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾æ·±åº¦ç†è§£

#### æ ¸å¿ƒæ€æƒ³
- **tails[i]** = é•¿åº¦ä¸ºi+1çš„é€’å¢å­åºåˆ—çš„æœ€å°å°¾å…ƒç´ 
- **ä¸ºä»€ä¹ˆè¦æœ€å°ï¼Ÿ** å°¾å…ƒç´ è¶Šå°ï¼Œåç»­æ·»åŠ æ–°å…ƒç´ çš„æœºä¼šè¶Šå¤§

#### ç®—æ³•æ­¥éª¤
1. å¯¹æ¯ä¸ªæ–°å…ƒç´ numï¼š
   - å¦‚æœnum > tailsä¸­æ‰€æœ‰å…ƒç´  â†’ ç›´æ¥æ·»åŠ åˆ°æœ«å°¾ï¼ˆå»¶é•¿åºåˆ—ï¼‰
   - å¦åˆ™ â†’ äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªâ‰¥numçš„ä½ç½®å¹¶æ›¿æ¢ï¼ˆä¿æŒæœ€å°å°¾å…ƒç´ ï¼‰

#### å…³é”®æ´å¯Ÿ
- **tailsæ•°ç»„å§‹ç»ˆä¿æŒä¸¥æ ¼é€’å¢**
- **tailsé•¿åº¦ = æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦**
- **tailså†…å®¹ä¸ä¸€å®šæ˜¯çœŸå®çš„LISï¼Œä½†é•¿åº¦ä¿è¯æ­£ç¡®**

### æ˜“é”™ç‚¹è®°å½•

#### 1. DPçŠ¶æ€è½¬ç§»é”™è¯¯ âŒ
```cpp
dp[i] = max(dp[j] + 1);  // é”™è¯¯ï¼šç¼ºå°‘dp[i]å‚æ•°
```
**æ­£ç¡®å†™æ³•**:
```cpp
dp[i] = max(dp[i], dp[j] + 1);  // éœ€è¦æ¯”è¾ƒå½“å‰å€¼å’Œæ–°å€¼
```

#### 2. äºŒåˆ†æŸ¥æ‰¾è¯­æ³•é”™è¯¯ âŒ
```cpp
int left = 0; right = tails.size() - 1;  // é”™è¯¯ï¼šç¼ºå°‘ç±»å‹å£°æ˜
```
**æ­£ç¡®å†™æ³•**:
```cpp
int left = 0, right = tails.size() - 1;  // é€—å·åˆ†éš”ï¼Œç»Ÿä¸€å£°æ˜
```

#### 3. äºŒåˆ†æŸ¥æ‰¾midè®¡ç®—ä½ç½®é”™è¯¯ âŒ
```cpp
int mid = (left + right) / 2;  // æ”¾åœ¨whileå¤–é¢
while(left <= right) {
    // ä½¿ç”¨è¿‡æ—¶çš„midå€¼
}
```
**æ­£ç¡®å†™æ³•**:
```cpp
while(left <= right) {
    int mid = left + (right - left) / 2;  // æ¯æ¬¡å¾ªç¯é‡æ–°è®¡ç®—
}
```

#### 4. è®°å¿†åŒ–æœç´¢è¯­æ³•é”™è¯¯ âŒ
```cpp
if memo[i] != -1 return memo[i];  // ç¼ºå°‘æ‹¬å·
for(int j=0; j<i; i++) {          // å¾ªç¯å˜é‡é”™è¯¯
```
**æ­£ç¡®å†™æ³•**:
```cpp
if (memo[i] != -1) return memo[i];  // åŠ æ‹¬å·
for(int j=0; j<i; j++) {            // j++è€Œä¸æ˜¯i++
```

#### 5. åˆå§‹åŒ–çš„é‡è¦æ€§
```cpp
int pos = tails.size();  // ğŸ”‘ å…³é”®ï¼šåˆå§‹åŒ–ä¸º"æœªæ‰¾åˆ°"æ ‡å¿—
```
è¿™ä¸ªåˆå§‹åŒ–ç¡®ä¿äº†å½“æ²¡æ‰¾åˆ°â‰¥numçš„å…ƒç´ æ—¶ï¼Œposä¿æŒä¸ºtails.size()ï¼Œä»è€Œæ­£ç¡®æ‰§è¡Œpush_backæ“ä½œã€‚

### åºåˆ—DPç‰¹å¾æ€»ç»“
1. **çŠ¶æ€å®šä¹‰å¿…é¡»åŒ…å«"ä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾"**
2. **éœ€è¦æ£€æŸ¥å‰é¢æ‰€æœ‰å¯èƒ½çš„è½¬ç§»çŠ¶æ€**
3. **æœ€ç»ˆç­”æ¡ˆéœ€è¦éå†æ‰€æœ‰çŠ¶æ€å–æœ€ä¼˜å€¼**
4. **ä¸å…¶ä»–DPç±»å‹çš„åŒºåˆ«**ï¼š
   - çˆ¬æ¥¼æ¢¯ï¼šé€’æ¨å…³ç³»
   - æ‰“å®¶åŠ«èˆï¼šå†³ç­–å…³ç³»  
   - æœ€å¤§å­æ•°ç»„ï¼šè¿ç»­çº¦æŸ
   - é›¶é’±å…‘æ¢ï¼šå®Œå…¨èƒŒåŒ…
   - **æœ€é•¿é€’å¢å­åºåˆ—ï¼šåºåˆ—å…³ç³»**

### å¤æ‚åº¦åˆ†æ
- **DPè§£æ³•**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(n)
- **è®°å¿†åŒ–**: æ—¶é—´O(nÂ²)ï¼Œç©ºé—´O(n) + é€’å½’æ ˆ
- **è´ªå¿ƒ+äºŒåˆ†**: æ—¶é—´O(n log n)ï¼Œç©ºé—´O(n) â­ æœ€ä¼˜è§£

### æ‰©å±•åº”ç”¨
- 354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜ (äºŒç»´LIS)
- 673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•° (è®¡æ•°é—®é¢˜)
- 1143. æœ€é•¿å…¬å…±å­åºåˆ— (åŒåºåˆ—DP)
- 368. æœ€å¤§æ•´é™¤å­é›† (ç‰¹æ®Šçº¦æŸçš„LIS)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰ä¸‰ç§å®ç°å‡é€šè¿‡å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹ï¼š
- [10,9,2,5,3,7,101,18] â†’ 4
- [0,1,0,3,2,3] â†’ 4  
- [7,7,7,7,7,7,7] â†’ 1
- [1,3,6,7,9,4,10,5,6] â†’ 6
- [10] â†’ 1

### å…³é”®æ´å¯Ÿ
åºåˆ—DPçš„ç²¾é«“åœ¨äº**æ­£ç¡®å»ºæ¨¡"ä»¥æŸä½ç½®ç»“å°¾"çš„çŠ¶æ€**ï¼Œé€šè¿‡æ£€æŸ¥æ‰€æœ‰å‰é©±çŠ¶æ€æ¥æ„å»ºæœ€ä¼˜è§£ã€‚è´ªå¿ƒ+äºŒåˆ†çš„ä¼˜åŒ–ä½“ç°äº†**ç»´æŠ¤å…³é”®ä¿¡æ¯è€Œéå®Œæ•´çŠ¶æ€**çš„ç®—æ³•è®¾è®¡æ€æƒ³ã€‚

---

## 1143. æœ€é•¿å…¬å…±å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åŒåºåˆ—åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼Œç”¨äºŒç»´DPè¡¨è¡¨ç¤ºä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»ï¼ŒæŒæ¡å­—ç¬¦åŒ¹é…/ä¸åŒ¹é…çš„çŠ¶æ€è½¬ç§»ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i][j]` = text1å‰iä¸ªå­—ç¬¦å’Œtext2å‰jä¸ªå­—ç¬¦çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```cpp
   if (text1[i-1] == text2[j-1]):
       dp[i][j] = dp[i-1][j-1] + 1      // å­—ç¬¦åŒ¹é…ï¼šå·¦ä¸Šè§’+1
   else:
       dp[i][j] = max(dp[i-1][j],       // ä¸Šè¾¹ï¼šä¸ä½¿ç”¨text1[i-1]
                      dp[i][j-1])       // å·¦è¾¹ï¼šä¸ä½¿ç”¨text2[j-1]
   ```

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[0][j] = 0  // ç©ºå­—ç¬¦ä¸²ä¸ä»»ä½•å­—ç¬¦ä¸²çš„LCSä¸º0
   dp[i][0] = 0  // ä»»ä½•å­—ç¬¦ä¸²ä¸ç©ºå­—ç¬¦ä¸²çš„LCSä¸º0
   ```

4. **å“¨å…µæŠ€å·§**:
   - åˆ›å»º`(m+1) x (n+1)`çš„DPè¡¨ï¼Œå¤šå‡ºçš„ä¸€è¡Œä¸€åˆ—ä½œä¸ºè¾¹ç•Œå¤„ç†
   - é¿å…ç‰¹æ®Šåˆ¤æ–­ï¼Œç®€åŒ–ä»£ç é€»è¾‘

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. äºŒç»´åŠ¨æ€è§„åˆ’ O(mn) - ç»å…¸è§£æ³• â­
```cpp
int longestCommonSubsequenceDP(string text1, string text2) {
    int m = text1.length(), n = text2.length();
    
    // å“¨å…µæŠ€å·§ï¼šå¤šä¸€è¡Œä¸€åˆ—å¤„ç†è¾¹ç•Œ
    vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
    
    for(int i = 0; i < m; i++) {
        for(int j = 0; j < n; j++) {
            if(text1[i] == text2[j]) {
                dp[i+1][j+1] = dp[i][j] + 1;        // å·¦ä¸Šè§’+1
            } else {
                dp[i+1][j+1] = max(dp[i+1][j],      // å·¦è¾¹
                                   dp[i][j+1]);     // ä¸Šè¾¹
            }
        }
    }
    
    return dp[m][n];
}
```

#### 2. è®°å¿†åŒ–æœç´¢ O(mn) - è‡ªé¡¶å‘ä¸‹
```cpp
int longestCommonSubsequenceMemo(string text1, string text2) {
    int m = text1.length(), n = text2.length();
    vector<vector<int>> memo(m + 1, vector<int>(n + 1, -1));
    return helper(text1, text2, m, n, memo);
}

int helper(string& text1, string& text2, int i, int j, vector<vector<int>>& memo) {
    if(i == 0 || j == 0) return 0;  // è¾¹ç•Œæ¡ä»¶
    if(memo[i][j] != -1) return memo[i][j];  // ç¼“å­˜å‘½ä¸­
    
    int result;
    if(text1[i-1] == text2[j-1]) {
        result = helper(text1, text2, i-1, j-1, memo) + 1;
    } else {
        result = max(helper(text1, text2, i, j-1, memo),
                    helper(text1, text2, i-1, j, memo));
    }
    
    memo[i][j] = result;  // ç¼“å­˜ç»“æœ
    return result;
}
```

#### 3. ç©ºé—´ä¼˜åŒ– O(min(m,n)) - æ»šåŠ¨æ•°ç»„ â­â­
```cpp
int longestCommonSubsequenceOptimized(string text1, string text2) {
    int m = text1.size(), n = text2.size();
    if(m == 0 || n == 0) return 0;

    // ä¸¤è¡Œæ»šåŠ¨æ•°ç»„
    vector<int> pre(n + 1, 0);   // ä¸Šä¸€è¡Œ
    vector<int> curr(n + 1, 0);  // å½“å‰è¡Œ

    for(int i = 0; i < m; i++) {
        curr[0] = 0;  // è¾¹ç•Œæ¡ä»¶
        for(int j = 0; j < n; j++) {
            if(text1[i] == text2[j]) {
                curr[j+1] = pre[j] + 1;         // å·¦ä¸Šè§’+1
            } else {
                curr[j+1] = max(pre[j+1],       // ä¸Šè¾¹
                               curr[j]);        // å·¦è¾¹
            }
        }
        swap(pre, curr);  // æ»šåŠ¨ï¼šé«˜æ•ˆäº¤æ¢
    }
    
    return pre[n];  // æœ€ç»ˆç»“æœåœ¨pre[n]
}
```

### æ»šåŠ¨æ•°ç»„æ·±åº¦ç†è§£

#### æ ¸å¿ƒæ€æƒ³
- **è§‚å¯Ÿä¾èµ–å…³ç³»**ï¼š`dp[i][j]` åªä¾èµ–äº `dp[i-1][j-1]`ã€`dp[i-1][j]`ã€`dp[i][j-1]`
- **ç©ºé—´ä¼˜åŒ–ç­–ç•¥**ï¼šåªä¿å­˜ä¸Šä¸€è¡Œå’Œå½“å‰è¡Œï¼Œä¸éœ€è¦æ•´ä¸ªäºŒç»´è¡¨
- **æ»šåŠ¨æœºåˆ¶**ï¼šè®¡ç®—å®Œå½“å‰è¡Œåï¼Œé€šè¿‡swapè®©å½“å‰è¡Œå˜æˆä¸‹ä¸€è½®çš„"ä¸Šä¸€è¡Œ"

#### æ•°ç»„å¯¹åº”å…³ç³»
| äºŒç»´DP | æ»šåŠ¨æ•°ç»„ | è¯´æ˜ |
|--------|----------|------|
| `dp[i-1][j-1]` | `pre[j]` | å·¦ä¸Šè§’ï¼šä¸Šä¸€è¡Œçš„jä½ç½® |
| `dp[i-1][j]` | `pre[j+1]` | ä¸Šè¾¹ï¼šä¸Šä¸€è¡Œçš„j+1ä½ç½® |
| `dp[i][j-1]` | `curr[j]` | å·¦è¾¹ï¼šå½“å‰è¡Œçš„jä½ç½® |
| `dp[i][j]` | `curr[j+1]` | å½“å‰ä½ç½®ï¼šå½“å‰è¡Œçš„j+1ä½ç½® |

#### ä¸ºä»€ä¹ˆè¿”å›pre[n]ï¼Ÿ
```cpp
// æœ€åä¸€è½®å¾ªç¯ç»“æŸæ—¶
curr = [æœ€åä¸€è¡Œçš„è®¡ç®—ç»“æœ]
swap(pre, curr);  // äº¤æ¢å
pre = [æœ€åä¸€è¡Œçš„ç»“æœ] â† æœ€ç»ˆç­”æ¡ˆåœ¨è¿™é‡Œ
```

### åŒåºåˆ—DPç‰¹å¾æ€»ç»“
1. **äºŒç»´çŠ¶æ€ç©ºé—´**ï¼šéœ€è¦è€ƒè™‘ä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»
2. **åŒ¹é…å†³ç­–**ï¼šå­—ç¬¦åŒ¹é…æ—¶å»¶ç»­å­é—®é¢˜ï¼Œä¸åŒ¹é…æ—¶é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
3. **è¾¹ç•Œå¤„ç†**ï¼šç©ºåºåˆ—ä½œä¸ºè¾¹ç•Œæ¡ä»¶ï¼Œé€šå¸¸ç»“æœä¸º0
4. **ç©ºé—´ä¼˜åŒ–**ï¼šå¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ï¼Œä½†ä¸èƒ½æ„é€ å…·ä½“åºåˆ—
5. **æ—¶é—´å¤æ‚åº¦**ï¼šé€šå¸¸ä¸ºO(mn)ï¼Œéš¾ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–

### ä¸LISå¯¹æ¯”åˆ†æ
| ç‰¹å¾ | LIS (300é¢˜) | LCS (1143é¢˜) |
|------|-------------|--------------|
| åºåˆ—æ•°é‡ | å•åºåˆ— | åŒåºåˆ— |
| çŠ¶æ€å®šä¹‰ | `dp[i]` = ä»¥iç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ— | `dp[i][j]` = ä¸¤åºåˆ—å‰ç¼€çš„LCS |
| çŠ¶æ€è½¬ç§» | æ£€æŸ¥æ‰€æœ‰å‰é©±ï¼Œé€‰æ‹©æœ€ä¼˜ | è€ƒè™‘åŒ¹é…/ä¸åŒ¹é…ï¼Œé€‰æ‹©æœ€ä¼˜ |
| å¤æ‚åº¦ | O(nÂ²) â†’ O(n log n) | O(mn) â†’ O(min(m,n)) |
| ä¼˜åŒ–æ–¹å¼ | è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾ | æ»šåŠ¨æ•°ç»„ |

### æ˜“é”™ç‚¹è®°å½•

#### 1. è®°å¿†åŒ–æœç´¢å­—ç¬¦æ¯”è¾ƒé”™è¯¯ âŒ
```cpp
if(text1[i] == text2[j]) {  // é”™è¯¯ï¼šå‚æ•°i,jè¡¨ç¤ºé•¿åº¦
```
**æ­£ç¡®å†™æ³•**:
```cpp
if(text1[i-1] == text2[j-1]) {  // å­—ç¬¦ä¸‹æ ‡è¦å‡1
```

#### 2. æ»šåŠ¨æ•°ç»„çŠ¶æ€è½¬ç§»é”™è¯¯ âŒ
```cpp
curr[j+1] = curr[j] + 1;  // é”™è¯¯ï¼šåº”è¯¥æ˜¯å·¦ä¸Šè§’+1
```
**æ­£ç¡®å†™æ³•**:
```cpp
curr[j+1] = pre[j] + 1;  // å·¦ä¸Šè§’+1
```

### å¤æ‚åº¦åˆ†æ
- **äºŒç»´DP**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(mn)
- **è®°å¿†åŒ–**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(mn) + é€’å½’æ ˆ
- **æ»šåŠ¨æ•°ç»„**: æ—¶é—´O(mn)ï¼Œç©ºé—´O(min(m,n)) â­ æœ€ä¼˜ç©ºé—´

### æ‰©å±•åº”ç”¨
- 72. ç¼–è¾‘è·ç¦» (æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢æ“ä½œ)
- 97. äº¤é”™å­—ç¬¦ä¸² (è·¯å¾„åŒ¹é…é—®é¢˜)
- 115. ä¸åŒçš„å­åºåˆ— (è®¡æ•°DP)
- 516. æœ€é•¿å›æ–‡å­åºåˆ— (LCSå˜ç§)

### æµ‹è¯•ç»“æœ
æ‰€æœ‰å®ç°å‡é€šè¿‡å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹ï¼š
- "abcde" vs "ace" â†’ 3 (LCS: "ace")
- "abc" vs "abc" â†’ 3 (å®Œå…¨ç›¸åŒ)
- "abc" vs "def" â†’ 0 (æ— å…¬å…±å­—ç¬¦)
- "abcdgh" vs "aedfhr" â†’ 3 (LCS: "adh")
- "a" vs "a" â†’ 1 (å•å­—ç¬¦åŒ¹é…)

### å…³é”®æ´å¯Ÿ
åŒåºåˆ—DPçš„ç²¾é«“åœ¨äº**å»ºæ¨¡ä¸¤ä¸ªåºåˆ—çš„åŒ¹é…å…³ç³»**ï¼Œé€šè¿‡äºŒç»´çŠ¶æ€ç©ºé—´è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„åŒ¹é…ç»„åˆã€‚æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ä½“ç°äº†**æœ€å°åŒ–çŠ¶æ€å­˜å‚¨**çš„ç©ºé—´ä¼˜åŒ–æ€æƒ³ã€‚

---

## 516. æœ€é•¿å›æ–‡å­åºåˆ— (Medium)

### æ ¸å¿ƒæ€æƒ³
åŒºé—´åŠ¨æ€è§„åˆ’çš„ç»å…¸é¢˜ç›®ï¼ŒæŒæ¡"æ»‘åŠ¨çª—å£å¼"çš„åŒºé—´éå†æ€ç»´ï¼Œç†è§£å¤§åŒºé—´ä¾èµ–å°åŒºé—´çš„çŠ¶æ€è½¬ç§»ã€‚

### å…³é”®é€»è¾‘
1. **çŠ¶æ€å®šä¹‰**:
   - `dp[i][j]` = å­—ç¬¦ä¸²s[i..j]èŒƒå›´å†…çš„æœ€é•¿å›æ–‡å­åºåˆ—é•¿åº¦
   
2. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**:
   ```cpp
   if (s[i] == s[j]):
       dp[i][j] = dp[i+1][j-1] + 2    // ä¸¤ç«¯åŒ¹é…ï¼Œé•¿åº¦+2
   else:
       dp[i][j] = max(dp[i+1][j], dp[i][j-1])  // é€‰æ‹©æ›´ä¼˜çš„å­åŒºé—´
   ```

3. **è¾¹ç•Œæ¡ä»¶**:
   ```cpp
   dp[i][i] = 1  // å•ä¸ªå­—ç¬¦çš„å›æ–‡é•¿åº¦ä¸º1
   ```

4. **éå†é¡ºåº**: æŒ‰åŒºé—´é•¿åº¦ä»å°åˆ°å¤§ï¼ˆå…³é”®ï¼ï¼‰
   ```cpp
   for(int len = 2; len <= n; len++) {        // åŒºé—´é•¿åº¦
       for(int i = 0; i <= n - len; i++) {    // å·¦ç«¯ç‚¹
           int j = i + len - 1;               // å³ç«¯ç‚¹
           // çŠ¶æ€è½¬ç§»...
       }
   }
   ```

### æ ¸å¿ƒæ´å¯Ÿ

#### åŒºé—´DPçš„"æ»‘åŠ¨çª—å£"æ€ç»´
- **å¤–å±‚å¾ªç¯**: å›ºå®šçª—å£å¤§å°(len = 2, 3, 4, ...)
- **å†…å±‚å¾ªç¯**: å°†å›ºå®šå¤§å°çš„çª—å£åœ¨å­—ç¬¦ä¸²ä¸Šæ»‘åŠ¨
- **ä¾èµ–å…³ç³»**: å¤§çª—å£çš„è®¡ç®—ä¾èµ–å°çª—å£çš„ç»“æœ

#### ä¸LCSçš„å·§å¦™è”ç³»
- **è½¬åŒ–æ€æƒ³**: sçš„æœ€é•¿å›æ–‡å­åºåˆ— = sä¸reverse(s)çš„æœ€é•¿å…¬å…±å­åºåˆ—
- **åŸç†**: å›æ–‡åºåˆ—åœ¨åŸä¸²å’Œåè½¬ä¸²ä¸­éƒ½å­˜åœ¨
- **ä¼˜åŠ¿**: å¯ä»¥ç›´æ¥å¤ç”¨LCSä»£ç 

### ä¸‰ç§å®ç°æ–¹å¼

#### 1. åŒºé—´DP - O(nÂ²) â­ æ¨è
```cpp
int longestPalindromeSubseqDP(string s) {
    int n = s.length();
    vector<vector<int>> dp(n, vector<int>(n, 0));
    
    // åˆå§‹åŒ–ï¼šå•ä¸ªå­—ç¬¦
    for(int i = 0; i < n; i++) {
        dp[i][i] = 1;
    }
    
    // æŒ‰åŒºé—´é•¿åº¦å¡«å……
    for(int len = 2; len <= n; len++) {
        for(int i = 0; i <= n - len; i++) {
            int j = i + len - 1;
            if(s[i] == s[j]) {
                dp[i][j] = dp[i+1][j-1] + 2;
            } else {
                dp[i][j] = max(dp[i+1][j], dp[i][j-1]);
            }
        }
    }
    return dp[0][n-1];
}
```

#### 2. è®°å¿†åŒ–æœç´¢ - O(nÂ²)
```cpp
int helper(string& s, int i, int j, vector<vector<int>>& memo) {
    if(i > j) return 0;
    if(i == j) return 1;
    if(memo[i][j] != -1) return memo[i][j];
    
    if(s[i] == s[j]) {
        memo[i][j] = helper(s, i+1, j-1, memo) + 2;
    } else {
        memo[i][j] = max(helper(s, i+1, j, memo), helper(s, i, j-1, memo));
    }
    return memo[i][j];
}
```

#### 3. LCSè½¬åŒ– - O(nÂ²)
```cpp
int longestPalindromeSubseqLCS(string s) {
    string rev_s = s;
    reverse(rev_s.begin(), rev_s.end());
    return longestCommonSubsequence(s, rev_s);
}
```

### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**: O(nÂ²) - åŒé‡å¾ªç¯å¡«å……DPè¡¨
- **ç©ºé—´å¤æ‚åº¦**: O(nÂ²) - äºŒç»´DPè¡¨
- **ä¼˜åŒ–å¯èƒ½**: æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´ï¼Œä½†å®ç°å¤æ‚

### æ˜“é”™ç‚¹
1. **éå†é¡ºåºé”™è¯¯**: å¿…é¡»æŒ‰åŒºé—´é•¿åº¦é€’å¢ï¼Œä¸èƒ½æŒ‰åæ ‡éå†
2. **è¾¹ç•Œæ¡ä»¶**: `len <= n` ä¸æ˜¯ `len < n`
3. **å¾ªç¯è¾¹ç•Œ**: `i <= n - len` ä¿è¯jä¸è¶Šç•Œ
4. **å…¬å¼é”™è¯¯**: `j = i + len - 1` ä¸æ˜¯å…¶ä»–å…¬å¼

### ä¸å…¶ä»–DPç±»å‹å¯¹æ¯”
| DPç±»å‹ | çŠ¶æ€å®šä¹‰ | éå†é¡ºåº | è½¬ç§»ç‰¹ç‚¹ |
|--------|----------|----------|----------|
| åºåˆ—DP | ä»¥ä½ç½®ç»“å°¾ | ä»å‰å¾€å | æ£€æŸ¥æ‰€æœ‰å‰é©± |
| åŒåºåˆ—DP | ä¸¤åºåˆ—å‰ç¼€ | åŒé‡é€’å¢ | åŒ¹é…/ä¸åŒ¹é… |
| **åŒºé—´DP** | åŒºé—´èŒƒå›´ | æŒ‰é•¿åº¦é€’å¢ | ç«¯ç‚¹å¤„ç† |

### æ‰©å±•åº”ç”¨
- 5. æœ€é•¿å›æ–‡å­ä¸² (è¿ç»­æ€§çº¦æŸ)
- 312. æˆ³æ°”çƒ (ä¹˜ç§¯æœ€å¤§åŒ–)
- 1039. å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†
- 87. æ‰°ä¹±å­—ç¬¦ä¸²

### æµ‹è¯•ç»“æœ
æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼š
- "bbbab" â†’ 4 (LPS: "bbbb")
- "cbbd" â†’ 2 (LPS: "bb")
- "a" â†’ 1 (å•å­—ç¬¦)
- "abcba" â†’ 5 (æ•´ä¸ªä¸²å°±æ˜¯å›æ–‡)
- "aabaa" â†’ 5 (æ•´ä¸ªä¸²å°±æ˜¯å›æ–‡)

### å…³é”®æ´å¯Ÿ
åŒºé—´DPçš„ç²¾é«“åœ¨äº**æŒ‰åŒºé—´é•¿åº¦é€’å¢çš„éå†ç­–ç•¥**ï¼Œç¡®ä¿è®¡ç®—å¤§åŒºé—´æ—¶æ‰€éœ€çš„å°åŒºé—´å·²ç»è®¡ç®—å®Œæ¯•ã€‚"æ»‘åŠ¨çª—å£"çš„æ€ç»´æ¨¡å¼å¸®åŠ©ç†è§£è¿™ç§éå†é¡ºåºçš„å¿…è¦æ€§ã€‚

---

## 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ (Easy)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘æ·±åº¦é—®é¢˜çš„å…¥é—¨ç»å…¸ï¼Œä½“ç°äº†**æ ‘å½¢é€’å½’**çš„åŸºæœ¬æ€ç»´æ¨¡å¼ï¼šå¤§æ ‘çš„é—®é¢˜åˆ†è§£ä¸ºå­æ ‘çš„é—®é¢˜ã€‚

### å…³é”®é€»è¾‘
1. **é€’å½’ç»“æ„**:
   - æ ‘çš„æ·±åº¦ = max(å·¦å­æ ‘æ·±åº¦, å³å­æ ‘æ·±åº¦) + 1
   - ç©ºèŠ‚ç‚¹æ·±åº¦ä¸º0
   
2. **ä¸‰ç§å®ç°æ–¹å¼**:
   ```cpp
   // 1. é€’å½’DFS - æœ€ç›´è§‚
   int maxDepthRecursive(TreeNode* root) {
       if (!root) return 0;
       return max(maxDepthRecursive(root->left), 
                  maxDepthRecursive(root->right)) + 1;
   }
   
   // 2. BFSå±‚åºéå† - æŒ‰å±‚è®¡æ•°
   int maxDepthBFS(TreeNode* root) {
       if (!root) return 0;
       queue<TreeNode*> q;
       q.push(root);
       int depth = 0;
       
       while (!q.empty()) {
           int size = q.size();
           for (int i = 0; i < size; i++) {
               TreeNode* node = q.front();
               q.pop();
               if (node->left) q.push(node->left);
               if (node->right) q.push(node->right);
           }
           depth++;
       }
       return depth;
   }
   
   // 3. DFSæ ˆæ¨¡æ‹Ÿ - æ‰‹åŠ¨ç®¡ç†æ·±åº¦
   int maxDepthDFS(TreeNode* root) {
       if (!root) return 0;
       stack<pair<TreeNode*, int>> st;
       st.push({root, 1});
       int maxDepth = 1;
       
       while (!st.empty()) {
           auto [node, depth] = st.top();
           st.pop();
           maxDepth = max(maxDepth, depth);
           
           if (node->left) st.push({node->left, depth + 1});
           if (node->right) st.push({node->right, depth + 1});
       }
       return maxDepth;
   }
   ```

3. **éå†æ¨¡å¼å¯¹æ¯”**:
   - **é€’å½’DFS**: ååºéå†æ¨¡å¼ï¼Œè‡ªåº•å‘ä¸Šè¿”å›ç»“æœ
   - **BFS**: å±‚åºéå†ï¼Œé€å±‚å¤„ç†ï¼Œå±‚æ•°å³æ·±åº¦
   - **æ ˆDFS**: è‡ªé¡¶å‘ä¸‹ä¼ é€’æ·±åº¦å€¼ï¼Œè®°å½•æœ€å¤§å€¼

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **æ‰€æœ‰æ–¹æ³•**: æ—¶é—´O(n) - æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦å·®å¼‚**:
  - é€’å½’: O(h) - hæ˜¯æ ‘é«˜åº¦ï¼Œæœ€åO(n)ï¼ˆé€€åŒ–ä¸ºé“¾è¡¨ï¼‰
  - BFS: O(w) - wæ˜¯æœ€å¤§å®½åº¦ï¼Œæœ€åO(n)ï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰
  - æ ˆDFS: O(h) - åŒé€’å½’

### æ˜“é”™ç‚¹
1. **é€’å½’å‡ºå£**: ç©ºèŠ‚ç‚¹è¿”å›0ï¼Œä¸æ˜¯1
2. **BFSå±‚æ•°è®¡ç®—**: è¦åœ¨å¤„ç†å®Œæ•´ä¸€å±‚åæ‰+1
3. **æ ˆä¸­æ·±åº¦ä¼ é€’**: ä½¿ç”¨`depth + 1`è€Œä¸æ˜¯`depth++`
4. **æŒ‡é’ˆè®¿é—®**: `node->left`è€Œä¸æ˜¯`node.left`
5. **å¾ªç¯æ¡ä»¶**: BFSä¸­ä½¿ç”¨é¢„å­˜çš„`size`é¿å…é˜Ÿåˆ—å¤§å°å˜åŒ–

### æ‰©å±•åº”ç”¨
- 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ (ä¿®æ”¹ä¸ºmin)
- 110. å¹³è¡¡äºŒå‰æ ‘ (æ¯”è¾ƒå·¦å³å­æ ‘æ·±åº¦å·®)
- 543. äºŒå‰æ ‘çš„ç›´å¾„ (æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³æ·±åº¦å’Œ)

### å…³é”®ç†è§£
äºŒå‰æ ‘é€’å½’çš„ç²¾é«“ï¼š**å°†æ ‘å½¢é—®é¢˜è½¬åŒ–ä¸ºå­æ ‘é—®é¢˜**ï¼Œé€šè¿‡é€’å½’çš„è‡ªç„¶ç»“æ„è§£å†³å¤æ‚çš„æ ‘å½¢éå†ã€‚

---

## 226. ç¿»è½¬äºŒå‰æ ‘ (Easy)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘å˜æ¢çš„ç»å…¸é¢˜ç›®ï¼Œä½“ç°äº†**æ ‘å½¢é€’å½’**çš„æ ¸å¿ƒæ€ç»´å’Œ**å±€éƒ¨ç‹¬ç«‹æ€§**çš„ç®—æ³•ç‰¹å¾ã€‚

### å…³é”®é€»è¾‘
1. **æ ‘å½¢é€’å½’æ€ç»´**:
   - ç¿»è½¬å¤§æ ‘ = äº¤æ¢å·¦å³å­æ ‘ + é€’å½’ç¿»è½¬å·¦å³å­æ ‘
   - æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦ç®¡ç†è‡ªå·±çš„ç›´æ¥å­èŠ‚ç‚¹
   
2. **ä¸‰ç§å®ç°æ–¹å¼çš„æœ¬è´¨**:
   ```cpp
   // 1. é€’å½’DFS - æœ€ç›´è§‚çš„å®ç°
   TreeNode* invertTree(TreeNode* root) {
       if (!root) return nullptr;
       TreeNode* left = invertTree(root->left);
       TreeNode* right = invertTree(root->right);
       root->left = right;
       root->right = left;
       return root;
   }
   
   // 2. BFSå±‚åºéå† - æŒ‰å±‚å¤„ç†
   TreeNode* invertTreeBFS(TreeNode* root) {
       if (!root) return nullptr;
       queue<TreeNode*> q;
       q.push(root);
       while (!q.empty()) {
           TreeNode* node = q.front();
           q.pop();
           swap(node->left, node->right);
           if (node->left) q.push(node->left);
           if (node->right) q.push(node->right);
       }
       return root;
   }
   
   // 3. DFSæ ˆæ¨¡æ‹Ÿ - æ‰‹åŠ¨ç®¡ç†æ ˆ
   TreeNode* invertTreeDFS(TreeNode* root) {
       if (!root) return nullptr;
       stack<TreeNode*> st;
       st.push(root);
       while (!st.empty()) {
           TreeNode* node = st.top();
           st.pop();
           swap(node->left, node->right);
           if (node->left) st.push(node->left);
           if (node->right) st.push(node->right);
       }
       return root;
   }
   ```

### æ·±å±‚æ´å¯Ÿï¼šç®—æ³•çš„"å±€éƒ¨ç‹¬ç«‹æ€§"

#### æ ¸å¿ƒå‘ç°
åœ¨ç¿»è½¬äºŒå‰æ ‘ä¸­ï¼Œ**BFS â‰ˆ DFS**ï¼Œä¸‰ç§æ–¹æ³•æœ¬è´¨ç›¸åŒï¼š
- **ä¸ºä»€ä¹ˆï¼Ÿ** æ¯ä¸ªèŠ‚ç‚¹çš„æ“ä½œæ˜¯ç‹¬ç«‹çš„ï¼Œåªéœ€äº¤æ¢è‡ªå·±çš„å·¦å³å­æ ‘
- **å…³é”®ç‰¹å¾**: èŠ‚ç‚¹é—´æ²¡æœ‰å¤æ‚ä¾èµ–å…³ç³»ï¼Œå¤„ç†é¡ºåºä¸å½±å“æœ€ç»ˆç»“æœ

#### ç®—æ³•åˆ†ç±»æ¡†æ¶

**ç±»å‹Aï¼šå±€éƒ¨ç‹¬ç«‹æ“ä½œ** (BFS â‰ˆ DFS)
- ç¿»è½¬äºŒå‰æ ‘ - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹äº¤æ¢å·¦å³å­æ ‘
- äºŒå‰æ ‘å±‚åºéå† - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹è¾“å‡º
- èŠ‚ç‚¹å€¼ä¿®æ”¹ - æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹å¤„ç†
â†’ **é€‰æ‹©åŸåˆ™**: é€‰æ‹©æœ€ç®€æ´çš„å®ç°ï¼ˆé€šå¸¸æ˜¯é€’å½’ï¼‰

**ç±»å‹Bï¼šå…¨å±€ä¾èµ–æ“ä½œ** (BFS â‰  DFS)
- è·¯å¾„æœç´¢ - DFSå›æº¯ vs BFSæœ€çŸ­è·¯å¾„
- äºŒå‰æ ‘åºåˆ—åŒ– - éå†é¡ºåºç›´æ¥å½±å“ç»“æœ
- æ‹“æ‰‘æ’åº - ä¸åŒéå†å¯èƒ½äº§ç”Ÿä¸åŒåˆæ³•åºåˆ—
â†’ **é€‰æ‹©åŸåˆ™**: æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©éå†æ–¹å¼

#### æ ˆç‰ˆæœ¬çš„å¾®å¦™ç»†èŠ‚
```cpp
// äº¤æ¢åå†å…¥æ ˆï¼Œä¼šæ”¹å˜è®¿é—®é¡ºåº
swap(node->left, node->right);  // äº¤æ¢äº†ï¼
if (node->left) st.push(node->left);   // å…¥æ ˆçš„å®é™…æ˜¯åŸæ¥çš„right
if (node->right) st.push(node->right); // å…¥æ ˆçš„å®é™…æ˜¯åŸæ¥çš„left
```
**å…³é”®æ´å¯Ÿ**: è™½ç„¶è®¿é—®é¡ºåºæ”¹å˜äº†ï¼Œä½†åœ¨å±€éƒ¨ç‹¬ç«‹æ“ä½œä¸­ä¸å½±å“æœ€ç»ˆç»“æœï¼

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **æ‰€æœ‰æ–¹æ³•**: æ—¶é—´O(n) - æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**:
  - é€’å½’: O(h) - é€’å½’æ ˆæ·±åº¦
  - BFS: O(w) - é˜Ÿåˆ—æœ€å¤§å®½åº¦  
  - æ ˆDFS: O(h) - æ ˆæ·±åº¦

### é€‰æ‹©å»ºè®®
**æ¨èé€’å½’ç‰ˆæœ¬**ï¼Œå› ä¸ºï¼š
1. ä»£ç æœ€ç®€æ´ï¼Œé€»è¾‘æœ€ç›´è§‚
2. å®Œç¾ä½“ç°æ ‘å½¢é€’å½’æ€ç»´
3. åœ¨"å±€éƒ¨ç‹¬ç«‹"é—®é¢˜ä¸­ï¼Œç®€æ´æ€§æœ€é‡è¦

### æ˜“é”™ç‚¹
1. **é€’å½’æŒ‡é’ˆæ··ä¹±**: å…ˆä¿å­˜å­æ ‘æŒ‡é’ˆï¼Œå†äº¤æ¢
3. **è¾¹ç•Œå¤„ç†**: ç©ºèŠ‚ç‚¹æ£€æŸ¥

### æ‰©å±•åº”ç”¨
- 101. å¯¹ç§°äºŒå‰æ ‘ (åˆ¤æ–­é•œåƒå¯¹ç§°)
- 100. ç›¸åŒçš„æ ‘ (é€’å½’æ¯”è¾ƒ)
- 951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘ (ç¿»è½¬ååˆ¤æ–­ç›¸ç­‰)

### å…³é”®ç†è§£
1. **æ ‘å½¢é€’å½’ç²¾é«“**: å¤§é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜çš„è‡ªç„¶é€’å½’ç»“æ„
2. **ç®—æ³•åˆ†ç±»æ€ç»´**: è¯†åˆ«é—®é¢˜çš„"å±€éƒ¨ç‹¬ç«‹æ€§"ç‰¹å¾
3. **å®ç°é€‰æ‹©ç­–ç•¥**: åœ¨ç­‰æ•ˆç®—æ³•ä¸­é€‰æ‹©æœ€ç®€æ´çš„ç‰ˆæœ¬

è¿™é“é¢˜çš„ä»·å€¼ä¸ä»…åœ¨äºæŒæ¡æ ‘å½¢é€’å½’ï¼Œæ›´åœ¨äºå»ºç«‹**ç®—æ³•åˆ†ç±»çš„æ€ç»´æ¡†æ¶**ï¼Œå­¦ä¼šè¯†åˆ«ä¸åŒé—®é¢˜ç±»å‹çš„æœ¬è´¨ç‰¹å¾ã€‚

---

## 94. äºŒå‰æ ‘çš„ä¸­åºéå† (Medium)

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘éå†çš„ç»å…¸é—®é¢˜ï¼ŒæŒæ¡**æ ˆæ¨¡æ‹Ÿé€’å½’**çš„é€šç”¨æ¨¡å¼ï¼Œç†è§£ä¸­åºéå†åœ¨BSTä¸­çš„ç‰¹æ®Šæ€§è´¨ã€‚

### å…³é”®é€»è¾‘
1. **ä¸­åºéå†é¡ºåº**:
   - é€’å½’æ¨¡å¼ï¼šå·¦å­æ ‘ â†’ æ ¹èŠ‚ç‚¹ â†’ å³å­æ ‘
   - å¯¹äºBSTï¼šç»“æœå¿…ç„¶æ˜¯æœ‰åºåºåˆ—

2. **ä¸¤ç§å®ç°æ–¹å¼å¯¹æ¯”**:
   ```cpp
   // 1. é€’å½’å®ç° - æœ€ç›´è§‚
   vector<int> inorderTraversal(TreeNode* root) {
       if(root == nullptr) return {};
       vector<int> result;
       vector<int> left = inorderTraversal(root->left);
       vector<int> right = inorderTraversal(root->right);
       
       result.insert(result.end(), left.begin(), left.end());
       result.push_back(root->val);
       result.insert(result.end(), right.begin(), right.end());
       return result;
   }
   
   // 2. è¿­ä»£å®ç° - æ ˆæ¨¡æ‹Ÿé€’å½’ â­ æ ¸å¿ƒæŒæ¡
   vector<int> inorderTraversalIterative(TreeNode* root) {
       vector<int> result;
       stack<TreeNode*> st;
       TreeNode* curr = root;
       
       while(!st.empty() || curr != nullptr) {
           // é˜¶æ®µ1: ä¸€è·¯å‘å·¦ï¼Œæ²¿é€”èŠ‚ç‚¹å…¥æ ˆ
           while(curr != nullptr) {
               st.push(curr);
               curr = curr->left;
           }
           
           // é˜¶æ®µ2: å¼¹æ ˆè®¿é—®ï¼Œç„¶åè½¬å‘å³å­æ ‘
           curr = st.top();
           st.pop();
           result.push_back(curr->val);
           curr = curr->right;  // è§¦å‘å³å­æ ‘çš„å‘å·¦éå†
       }
       return result;
   }
   ```

### æ ˆæ¨¡æ‹Ÿé€’å½’çš„æ ¸å¿ƒæ¨¡å¼

#### æ·±å±‚ç†è§£ï¼šä¸ºä»€ä¹ˆç”¨curré©±åŠ¨ï¼Ÿ
- **curræ˜¯çŠ¶æ€æŒ‡é’ˆ**ï¼šæ§åˆ¶"å‘å·¦æ·±å…¥"å’Œ"å³å­æ ‘è½¬ç§»"
- **æ ˆä¿å­˜å›æº¯è·¯å¾„**ï¼šå­˜å‚¨ä»æ ¹åˆ°å½“å‰ä½ç½®çš„è·¯å¾„
- **ä¸‰é˜¶æ®µå¾ªç¯**ï¼š
  1. å‘å·¦æ·±å…¥ â†’ è·¯å¾„å…¥æ ˆ
  2. åˆ°è¾¾å¶å­ â†’ å¼¹æ ˆè®¿é—®  
  3. è½¬å‘å³å­æ ‘ â†’ é‡å¤å¾ªç¯

#### å…³é”®æ´å¯Ÿ
```cpp
// âŒ é”™è¯¯ç†è§£
while(curr->left != nullptr) {
    st.push(curr->left);  // ä¸¢å¤±äº†å½“å‰èŠ‚ç‚¹ï¼
}

// âœ… æ­£ç¡®ç†è§£
while(curr != nullptr) {
    st.push(curr);        // ä¿å­˜å½“å‰èŠ‚ç‚¹ç”¨äºå›æº¯
    curr = curr->left;    // ç»§ç»­å‘å·¦æ·±å…¥
}
```

**ä¸ºä»€ä¹ˆå¿…é¡»ä¿å­˜å½“å‰èŠ‚ç‚¹ï¼Ÿ**
- ä¸­åºéå†éœ€è¦åœ¨å¤„ç†å®Œå·¦å­æ ‘åå›åˆ°çˆ¶èŠ‚ç‚¹
- æ ˆä¸­å­˜å‚¨çš„æ˜¯"å¾…è®¿é—®çš„çˆ¶èŠ‚ç‚¹åºåˆ—"
- `curr = node->right` è®©å³å­æ ‘ä¹Ÿç»å†å®Œæ•´çš„éå†è¿‡ç¨‹

### ç®—æ³•æ¨¡å¼æ€»ç»“

#### æ ˆæ¨¡æ‹Ÿé€’å½’çš„é€šç”¨æ¡†æ¶
```cpp
while(!st.empty() || curr != nullptr) {
    // 1. æ·±å…¥é˜¶æ®µï¼šå‘æŸä¸ªæ–¹å‘æ¢ç´¢ï¼Œæ²¿é€”ä¿å­˜çŠ¶æ€
    while(curr != nullptr) {
        st.push(curr);           // ä¿å­˜å½“å‰çŠ¶æ€
        curr = curr->next_dir;   // ç»§ç»­æ¢ç´¢
    }
    
    // 2. å¤„ç†é˜¶æ®µï¼šåˆ°è¾¾è¾¹ç•Œï¼Œå¼€å§‹å¤„ç†
    curr = st.top();
    st.pop();
    process(curr);               // å¤„ç†å½“å‰èŠ‚ç‚¹
    
    // 3. è½¬ç§»é˜¶æ®µï¼šè½¬å‘å…¶ä»–æ–¹å‘ç»§ç»­
    curr = curr->other_dir;      // è½¬å‘å…¶ä»–åˆ†æ”¯
}
```

#### ä¸‰ç§éå†çš„æ—¶æœºå·®å¼‚
| éå†ç±»å‹ | è®¿é—®æ—¶æœº | æ¨¡å¼ç‰¹ç‚¹ |
|----------|----------|----------|
| **å‰åº** | å…¥æ ˆæ—¶è®¿é—® | æ ¹â†’å·¦â†’å³ |
| **ä¸­åº** | å¼¹æ ˆæ—¶è®¿é—® | å·¦â†’æ ¹â†’å³ |
| **ååº** | éœ€è¦çŠ¶æ€æ ‡è®° | å·¦â†’å³â†’æ ¹ |

### ä¸­åºéå†çš„ç‰¹æ®Šåº”ç”¨

#### BSTä¸­çš„é‡è¦æ€§è´¨
```cpp
// éªŒè¯BSTï¼šä¸­åºéå†å¿…é¡»ä¸¥æ ¼é€’å¢
bool isValidBST(TreeNode* root) {
    vector<int> inorder = inorderTraversal(root);
    for(int i = 1; i < inorder.size(); i++) {
        if(inorder[i] <= inorder[i-1]) return false;
    }
    return true;
}

// BSTä¸­ç¬¬Kå°å…ƒç´ ï¼šä¸­åºéå†çš„ç¬¬Kä¸ª
int kthSmallest(TreeNode* root, int k) {
    vector<int> inorder = inorderTraversal(root);
    return inorder[k-1];
}
```

### æ—¶é—´å¤æ‚åº¦åˆ†æ
- **é€’å½’ç‰ˆæœ¬**: æ—¶é—´O(n)ï¼Œç©ºé—´O(h)é€’å½’æ ˆ + O(n)ç»“æœå­˜å‚¨
- **è¿­ä»£ç‰ˆæœ¬**: æ—¶é—´O(n)ï¼Œç©ºé—´O(h)æ˜¾å¼æ ˆ + O(n)ç»“æœå­˜å‚¨
- **Morriséå†**: æ—¶é—´O(n)ï¼Œç©ºé—´O(1) - è¿›é˜¶æŠ€å·§

### æ˜“é”™ç‚¹
1. **è¿­ä»£ç‰ˆæœ¬å¾ªç¯æ¡ä»¶**: `!st.empty() || curr != nullptr` ç¼ºä¸€ä¸å¯
2. **çŠ¶æ€æ›´æ–°**: `curr = node->right` è€Œä¸æ˜¯ `node = node->right`
3. **å…¥æ ˆæ—¶æœº**: å‘å·¦æ—¶å…¥æ ˆï¼Œè€Œä¸æ˜¯è®¿é—®æ—¶å…¥æ ˆ

### æ‰©å±•åº”ç”¨
- 144. äºŒå‰æ ‘çš„å‰åºéå† (è°ƒæ•´è®¿é—®æ—¶æœº)
- 145. äºŒå‰æ ‘çš„ååºéå† (éœ€è¦çŠ¶æ€æ ‡è®°)
- 98. éªŒè¯äºŒå‰æœç´¢æ ‘ (åˆ©ç”¨æœ‰åºæ€§)
- 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  (æå‰ç»ˆæ­¢éå†)

### å…³é”®ç†è§£
1. **æ ˆæ¨¡æ‹Ÿé€’å½’çš„æœ¬è´¨**: æ˜¾å¼ç®¡ç†è°ƒç”¨æ ˆï¼Œæ§åˆ¶æ‰§è¡Œæµç¨‹
2. **ä¸­åºéå†çš„æ•°å­¦æ€§è´¨**: åœ¨BSTä¸­äº§ç”Ÿæœ‰åºåºåˆ—
3. **è¿­ä»£vsé€’å½’çš„æƒè¡¡**: é¿å…æ ˆæº¢å‡º vs ä»£ç ç®€æ´æ€§

è¿™é“é¢˜å»ºç«‹äº†å¯¹**æ ˆæ¨¡æ‹Ÿé€’å½’**çš„æ·±åº¦ç†è§£ï¼Œè¿™ä¸ªæ¨¡å¼å¯ä»¥æ¨å¹¿åˆ°å¾ˆå¤šæ ‘å½¢é€’å½’é—®é¢˜çš„è¿­ä»£å®ç°ä¸­ã€‚

---

*è®°å½•æ—¥æœŸ: 2025-08-09*
*æŒæ¡ç¨‹åº¦: ğŸ”¥ ç†Ÿç»ƒæŒæ¡*